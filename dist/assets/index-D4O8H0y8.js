(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function r(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function l(u){if(u.ep)return;u.ep=!0;const h=r(u);fetch(u.href,h)}})();var sc={exports:{}},Ar={};var h0;function Ov(){if(h0)return Ar;h0=1;var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function r(l,u,h){var f=null;if(h!==void 0&&(f=""+h),u.key!==void 0&&(f=""+u.key),"key"in u){h={};for(var m in u)m!=="key"&&(h[m]=u[m])}else h=u;return u=h.ref,{$$typeof:s,type:l,key:f,ref:u!==void 0?u:null,props:h}}return Ar.Fragment=a,Ar.jsx=r,Ar.jsxs=r,Ar}var f0;function Rv(){return f0||(f0=1,sc.exports=Ov()),sc.exports}var c=Rv(),rc={exports:{}},ce={};var m0;function Cv(){if(m0)return ce;m0=1;var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function S(E){return E===null||typeof E!="object"?null:(E=w&&E[w]||E["@@iterator"],typeof E=="function"?E:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,M={};function z(E,$,I){this.props=E,this.context=$,this.refs=M,this.updater=I||O}z.prototype.isReactComponent={},z.prototype.setState=function(E,$){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,$,"setState")},z.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function U(){}U.prototype=z.prototype;function L(E,$,I){this.props=E,this.context=$,this.refs=M,this.updater=I||O}var Q=L.prototype=new U;Q.constructor=L,T(Q,z.prototype),Q.isPureReactComponent=!0;var te=Array.isArray;function J(){}var Y={H:null,A:null,T:null,S:null},fe=Object.prototype.hasOwnProperty;function ge(E,$,I){var F=I.ref;return{$$typeof:s,type:E,key:$,ref:F!==void 0?F:null,props:I}}function $e(E,$){return ge(E.type,$,E.props)}function Oe(E){return typeof E=="object"&&E!==null&&E.$$typeof===s}function me(E){var $={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(I){return $[I]})}var G=/\/+/g;function P(E,$){return typeof E=="object"&&E!==null&&E.key!=null?me(""+E.key):$.toString(36)}function se(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(J,J):(E.status="pending",E.then(function($){E.status==="pending"&&(E.status="fulfilled",E.value=$)},function($){E.status==="pending"&&(E.status="rejected",E.reason=$)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function k(E,$,I,F,de){var ye=typeof E;(ye==="undefined"||ye==="boolean")&&(E=null);var Ne=!1;if(E===null)Ne=!0;else switch(ye){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(E.$$typeof){case s:case a:Ne=!0;break;case x:return Ne=E._init,k(Ne(E._payload),$,I,F,de)}}if(Ne)return de=de(E),Ne=F===""?"."+P(E,0):F,te(de)?(I="",Ne!=null&&(I=Ne.replace(G,"$&/")+"/"),k(de,$,I,"",function(Us){return Us})):de!=null&&(Oe(de)&&(de=$e(de,I+(de.key==null||E&&E.key===de.key?"":(""+de.key).replace(G,"$&/")+"/")+Ne)),$.push(de)),1;Ne=0;var dt=F===""?".":F+":";if(te(E))for(var Ye=0;Ye<E.length;Ye++)F=E[Ye],ye=dt+P(F,Ye),Ne+=k(F,$,I,ye,de);else if(Ye=S(E),typeof Ye=="function")for(E=Ye.call(E),Ye=0;!(F=E.next()).done;)F=F.value,ye=dt+P(F,Ye++),Ne+=k(F,$,I,ye,de);else if(ye==="object"){if(typeof E.then=="function")return k(se(E),$,I,F,de);throw $=String(E),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function V(E,$,I){if(E==null)return E;var F=[],de=0;return k(E,F,"","",function(ye){return $.call(I,ye,de++)}),F}function Z(E){if(E._status===-1){var $=E._result;$=$(),$.then(function(I){(E._status===0||E._status===-1)&&(E._status=1,E._result=I)},function(I){(E._status===0||E._status===-1)&&(E._status=2,E._result=I)}),E._status===-1&&(E._status=0,E._result=$)}if(E._status===1)return E._result.default;throw E._result}var ae=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},ue={map:V,forEach:function(E,$,I){V(E,function(){$.apply(this,arguments)},I)},count:function(E){var $=0;return V(E,function(){$++}),$},toArray:function(E){return V(E,function($){return $})||[]},only:function(E){if(!Oe(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return ce.Activity=b,ce.Children=ue,ce.Component=z,ce.Fragment=r,ce.Profiler=u,ce.PureComponent=L,ce.StrictMode=l,ce.Suspense=p,ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,ce.__COMPILER_RUNTIME={__proto__:null,c:function(E){return Y.H.useMemoCache(E)}},ce.cache=function(E){return function(){return E.apply(null,arguments)}},ce.cacheSignal=function(){return null},ce.cloneElement=function(E,$,I){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var F=T({},E.props),de=E.key;if($!=null)for(ye in $.key!==void 0&&(de=""+$.key),$)!fe.call($,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&$.ref===void 0||(F[ye]=$[ye]);var ye=arguments.length-2;if(ye===1)F.children=I;else if(1<ye){for(var Ne=Array(ye),dt=0;dt<ye;dt++)Ne[dt]=arguments[dt+2];F.children=Ne}return ge(E.type,de,F)},ce.createContext=function(E){return E={$$typeof:f,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:h,_context:E},E},ce.createElement=function(E,$,I){var F,de={},ye=null;if($!=null)for(F in $.key!==void 0&&(ye=""+$.key),$)fe.call($,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(de[F]=$[F]);var Ne=arguments.length-2;if(Ne===1)de.children=I;else if(1<Ne){for(var dt=Array(Ne),Ye=0;Ye<Ne;Ye++)dt[Ye]=arguments[Ye+2];de.children=dt}if(E&&E.defaultProps)for(F in Ne=E.defaultProps,Ne)de[F]===void 0&&(de[F]=Ne[F]);return ge(E,ye,de)},ce.createRef=function(){return{current:null}},ce.forwardRef=function(E){return{$$typeof:m,render:E}},ce.isValidElement=Oe,ce.lazy=function(E){return{$$typeof:x,_payload:{_status:-1,_result:E},_init:Z}},ce.memo=function(E,$){return{$$typeof:y,type:E,compare:$===void 0?null:$}},ce.startTransition=function(E){var $=Y.T,I={};Y.T=I;try{var F=E(),de=Y.S;de!==null&&de(I,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(J,ae)}catch(ye){ae(ye)}finally{$!==null&&I.types!==null&&($.types=I.types),Y.T=$}},ce.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},ce.use=function(E){return Y.H.use(E)},ce.useActionState=function(E,$,I){return Y.H.useActionState(E,$,I)},ce.useCallback=function(E,$){return Y.H.useCallback(E,$)},ce.useContext=function(E){return Y.H.useContext(E)},ce.useDebugValue=function(){},ce.useDeferredValue=function(E,$){return Y.H.useDeferredValue(E,$)},ce.useEffect=function(E,$){return Y.H.useEffect(E,$)},ce.useEffectEvent=function(E){return Y.H.useEffectEvent(E)},ce.useId=function(){return Y.H.useId()},ce.useImperativeHandle=function(E,$,I){return Y.H.useImperativeHandle(E,$,I)},ce.useInsertionEffect=function(E,$){return Y.H.useInsertionEffect(E,$)},ce.useLayoutEffect=function(E,$){return Y.H.useLayoutEffect(E,$)},ce.useMemo=function(E,$){return Y.H.useMemo(E,$)},ce.useOptimistic=function(E,$){return Y.H.useOptimistic(E,$)},ce.useReducer=function(E,$,I){return Y.H.useReducer(E,$,I)},ce.useRef=function(E){return Y.H.useRef(E)},ce.useState=function(E){return Y.H.useState(E)},ce.useSyncExternalStore=function(E,$,I){return Y.H.useSyncExternalStore(E,$,I)},ce.useTransition=function(){return Y.H.useTransition()},ce.version="19.2.3",ce}var p0;function Ic(){return p0||(p0=1,rc.exports=Cv()),rc.exports}var N=Ic(),ic={exports:{}},Or={},lc={exports:{}},oc={};var g0;function kv(){return g0||(g0=1,(function(s){function a(k,V){var Z=k.length;k.push(V);e:for(;0<Z;){var ae=Z-1>>>1,ue=k[ae];if(0<u(ue,V))k[ae]=V,k[Z]=ue,Z=ae;else break e}}function r(k){return k.length===0?null:k[0]}function l(k){if(k.length===0)return null;var V=k[0],Z=k.pop();if(Z!==V){k[0]=Z;e:for(var ae=0,ue=k.length,E=ue>>>1;ae<E;){var $=2*(ae+1)-1,I=k[$],F=$+1,de=k[F];if(0>u(I,Z))F<ue&&0>u(de,I)?(k[ae]=de,k[F]=Z,ae=F):(k[ae]=I,k[$]=Z,ae=$);else if(F<ue&&0>u(de,Z))k[ae]=de,k[F]=Z,ae=F;else break e}}return V}function u(k,V){var Z=k.sortIndex-V.sortIndex;return Z!==0?Z:k.id-V.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var p=[],y=[],x=1,b=null,w=3,S=!1,O=!1,T=!1,M=!1,z=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function Q(k){for(var V=r(y);V!==null;){if(V.callback===null)l(y);else if(V.startTime<=k)l(y),V.sortIndex=V.expirationTime,a(p,V);else break;V=r(y)}}function te(k){if(T=!1,Q(k),!O)if(r(p)!==null)O=!0,J||(J=!0,me());else{var V=r(y);V!==null&&se(te,V.startTime-k)}}var J=!1,Y=-1,fe=5,ge=-1;function $e(){return M?!0:!(s.unstable_now()-ge<fe)}function Oe(){if(M=!1,J){var k=s.unstable_now();ge=k;var V=!0;try{e:{O=!1,T&&(T=!1,U(Y),Y=-1),S=!0;var Z=w;try{t:{for(Q(k),b=r(p);b!==null&&!(b.expirationTime>k&&$e());){var ae=b.callback;if(typeof ae=="function"){b.callback=null,w=b.priorityLevel;var ue=ae(b.expirationTime<=k);if(k=s.unstable_now(),typeof ue=="function"){b.callback=ue,Q(k),V=!0;break t}b===r(p)&&l(p),Q(k)}else l(p);b=r(p)}if(b!==null)V=!0;else{var E=r(y);E!==null&&se(te,E.startTime-k),V=!1}}break e}finally{b=null,w=Z,S=!1}V=void 0}}finally{V?me():J=!1}}}var me;if(typeof L=="function")me=function(){L(Oe)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,P=G.port2;G.port1.onmessage=Oe,me=function(){P.postMessage(null)}}else me=function(){z(Oe,0)};function se(k,V){Y=z(function(){k(s.unstable_now())},V)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(k){k.callback=null},s.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<k?Math.floor(1e3/k):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_next=function(k){switch(w){case 1:case 2:case 3:var V=3;break;default:V=w}var Z=w;w=V;try{return k()}finally{w=Z}},s.unstable_requestPaint=function(){M=!0},s.unstable_runWithPriority=function(k,V){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var Z=w;w=k;try{return V()}finally{w=Z}},s.unstable_scheduleCallback=function(k,V,Z){var ae=s.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ae+Z:ae):Z=ae,k){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=Z+ue,k={id:x++,callback:V,priorityLevel:k,startTime:Z,expirationTime:ue,sortIndex:-1},Z>ae?(k.sortIndex=Z,a(y,k),r(p)===null&&k===r(y)&&(T?(U(Y),Y=-1):T=!0,se(te,Z-ae))):(k.sortIndex=ue,a(p,k),O||S||(O=!0,J||(J=!0,me()))),k},s.unstable_shouldYield=$e,s.unstable_wrapCallback=function(k){var V=w;return function(){var Z=w;w=V;try{return k.apply(this,arguments)}finally{w=Z}}}})(oc)),oc}var y0;function Mv(){return y0||(y0=1,lc.exports=kv()),lc.exports}var uc={exports:{}},ct={};var v0;function Dv(){if(v0)return ct;v0=1;var s=Ic();function a(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(a(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(p,y,x){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:b==null?null:""+b,children:p,containerInfo:y,implementation:x}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,ct.createPortal=function(p,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(a(299));return h(p,y,null,x)},ct.flushSync=function(p){var y=f.T,x=l.p;try{if(f.T=null,l.p=2,p)return p()}finally{f.T=y,l.p=x,l.d.f()}},ct.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,l.d.C(p,y))},ct.prefetchDNS=function(p){typeof p=="string"&&l.d.D(p)},ct.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var x=y.as,b=m(x,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,S=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?l.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:S}):x==="script"&&l.d.X(p,{crossOrigin:b,integrity:w,fetchPriority:S,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ct.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=m(y.as,y.crossOrigin);l.d.M(p,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&l.d.M(p)},ct.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,b=m(x,y.crossOrigin);l.d.L(p,x,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ct.preloadModule=function(p,y){if(typeof p=="string")if(y){var x=m(y.as,y.crossOrigin);l.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else l.d.m(p)},ct.requestFormReset=function(p){l.d.r(p)},ct.unstable_batchedUpdates=function(p,y){return p(y)},ct.useFormState=function(p,y,x){return f.H.useFormState(p,y,x)},ct.useFormStatus=function(){return f.H.useHostTransitionStatus()},ct.version="19.2.3",ct}var b0;function Uv(){if(b0)return uc.exports;b0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),uc.exports=Dv(),uc.exports}var x0;function zv(){if(x0)return Or;x0=1;var s=Mv(),a=Ic(),r=Uv();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(h(e)!==e)throw Error(l(188))}function y(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(l(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(o===null)break;var d=o.alternate;if(d===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===d.child){for(d=o.child;d;){if(d===n)return p(o),e;if(d===i)return p(o),t;d=d.sibling}throw Error(l(188))}if(n.return!==i.return)n=o,i=d;else{for(var g=!1,v=o.child;v;){if(v===n){g=!0,n=o,i=d;break}if(v===i){g=!0,i=o,n=d;break}v=v.sibling}if(!g){for(v=d.child;v;){if(v===n){g=!0,n=d,i=o;break}if(v===i){g=!0,i=d,n=o;break}v=v.sibling}if(!g)throw Error(l(189))}}if(n.alternate!==i)throw Error(l(190))}if(n.tag!==3)throw Error(l(188));return n.stateNode.current===n?e:t}function x(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=x(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),L=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),ge=Symbol.for("react.activity"),$e=Symbol.for("react.memo_cache_sentinel"),Oe=Symbol.iterator;function me(e){return e===null||typeof e!="object"?null:(e=Oe&&e[Oe]||e["@@iterator"],typeof e=="function"?e:null)}var G=Symbol.for("react.client.reference");function P(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===G?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case T:return"Fragment";case z:return"Profiler";case M:return"StrictMode";case te:return"Suspense";case J:return"SuspenseList";case ge:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case O:return"Portal";case L:return e.displayName||"Context";case U:return(e._context.displayName||"Context")+".Consumer";case Q:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return t=e.displayName||null,t!==null?t:P(e.type)||"Memo";case fe:t=e._payload,e=e._init;try{return P(e(t))}catch{}}return null}var se=Array.isArray,k=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},ae=[],ue=-1;function E(e){return{current:e}}function $(e){0>ue||(e.current=ae[ue],ae[ue]=null,ue--)}function I(e,t){ue++,ae[ue]=e.current,e.current=t}var F=E(null),de=E(null),ye=E(null),Ne=E(null);function dt(e,t){switch(I(ye,t),I(de,e),I(F,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Um(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Um(t),e=zm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(F),I(F,e)}function Ye(){$(F),$(de),$(ye)}function Us(e){e.memoizedState!==null&&I(Ne,e);var t=F.current,n=zm(t,e.type);t!==n&&(I(de,e),I(F,n))}function Xr(e){de.current===e&&($(F),$(de)),Ne.current===e&&($(Ne),jr._currentValue=Z)}var Bl,cd;function ln(e){if(Bl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Bl=t&&t[1]||"",cd=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bl+e+cd}var $l=!1;function Hl(e,t){if(!e||$l)return"";$l=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var D=q}Reflect.construct(e,[],K)}else{try{K.call()}catch(q){D=q}e.call(K.prototype)}}else{try{throw Error()}catch(q){D=q}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&D&&typeof q.stack=="string")return[q.stack,D.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=i.DetermineComponentFrameRoot(),g=d[0],v=d[1];if(g&&v){var _=g.split(`
`),C=v.split(`
`);for(o=i=0;i<_.length&&!_[i].includes("DetermineComponentFrameRoot");)i++;for(;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;if(i===_.length||o===C.length)for(i=_.length-1,o=C.length-1;1<=i&&0<=o&&_[i]!==C[o];)o--;for(;1<=i&&0<=o;i--,o--)if(_[i]!==C[o]){if(i!==1||o!==1)do if(i--,o--,0>o||_[i]!==C[o]){var B=`
`+_[i].replace(" at new "," at ");return e.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",e.displayName)),B}while(1<=i&&0<=o);break}}}finally{$l=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ln(n):""}function ig(e,t){switch(e.tag){case 26:case 27:case 5:return ln(e.type);case 16:return ln("Lazy");case 13:return e.child!==t&&t!==null?ln("Suspense Fallback"):ln("Suspense");case 19:return ln("SuspenseList");case 0:case 15:return Hl(e.type,!1);case 11:return Hl(e.type.render,!1);case 1:return Hl(e.type,!0);case 31:return ln("Activity");default:return""}}function dd(e){try{var t="",n=null;do t+=ig(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Kl=Object.prototype.hasOwnProperty,Gl=s.unstable_scheduleCallback,Vl=s.unstable_cancelCallback,lg=s.unstable_shouldYield,og=s.unstable_requestPaint,_t=s.unstable_now,ug=s.unstable_getCurrentPriorityLevel,hd=s.unstable_ImmediatePriority,fd=s.unstable_UserBlockingPriority,Zr=s.unstable_NormalPriority,cg=s.unstable_LowPriority,md=s.unstable_IdlePriority,dg=s.log,hg=s.unstable_setDisableYieldValue,zs=null,St=null;function Ra(e){if(typeof dg=="function"&&hg(e),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(zs,e)}catch{}}var jt=Math.clz32?Math.clz32:pg,fg=Math.log,mg=Math.LN2;function pg(e){return e>>>=0,e===0?32:31-(fg(e)/mg|0)|0}var Fr=256,Wr=262144,ei=4194304;function on(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ti(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var o=0,d=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var v=i&134217727;return v!==0?(i=v&~d,i!==0?o=on(i):(g&=v,g!==0?o=on(g):n||(n=v&~e,n!==0&&(o=on(n))))):(v=i&~d,v!==0?o=on(v):g!==0?o=on(g):n||(n=i&~e,n!==0&&(o=on(n)))),o===0?0:t!==0&&t!==o&&(t&d)===0&&(d=o&-o,n=t&-t,d>=n||d===32&&(n&4194048)!==0)?t:o}function Ls(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function gg(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pd(){var e=ei;return ei<<=1,(ei&62914560)===0&&(ei=4194304),e}function Yl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qs(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function yg(e,t,n,i,o,d){var g=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var v=e.entanglements,_=e.expirationTimes,C=e.hiddenUpdates;for(n=g&~n;0<n;){var B=31-jt(n),K=1<<B;v[B]=0,_[B]=-1;var D=C[B];if(D!==null)for(C[B]=null,B=0;B<D.length;B++){var q=D[B];q!==null&&(q.lane&=-536870913)}n&=~K}i!==0&&gd(e,i,0),d!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=d&~(g&~t))}function gd(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-jt(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function yd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-jt(n),o=1<<i;o&t|e[i]&t&&(e[i]|=t),n&=~o}}function vd(e,t){var n=t&-t;return n=(n&42)!==0?1:Il(n),(n&(e.suspendedLanes|t))!==0?0:n}function Il(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ql(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function bd(){var e=V.p;return e!==0?e:(e=window.event,e===void 0?32:r0(e.type))}function xd(e,t){var n=V.p;try{return V.p=e,t()}finally{V.p=n}}var Ca=Math.random().toString(36).slice(2),nt="__reactFiber$"+Ca,mt="__reactProps$"+Ca,Dn="__reactContainer$"+Ca,Pl="__reactEvents$"+Ca,vg="__reactListeners$"+Ca,bg="__reactHandles$"+Ca,wd="__reactResources$"+Ca,Bs="__reactMarker$"+Ca;function Jl(e){delete e[nt],delete e[mt],delete e[Pl],delete e[vg],delete e[bg]}function Un(e){var t=e[nt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Dn]||n[nt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Gm(e);e!==null;){if(n=e[nt])return n;e=Gm(e)}return t}e=n,n=e.parentNode}return null}function zn(e){if(e=e[nt]||e[Dn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function $s(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function Ln(e){var t=e[wd];return t||(t=e[wd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function tt(e){e[Bs]=!0}var _d=new Set,Sd={};function un(e,t){qn(e,t),qn(e+"Capture",t)}function qn(e,t){for(Sd[e]=t,e=0;e<t.length;e++)_d.add(t[e])}var xg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jd={},Ed={};function wg(e){return Kl.call(Ed,e)?!0:Kl.call(jd,e)?!1:xg.test(e)?Ed[e]=!0:(jd[e]=!0,!1)}function ai(e,t,n){if(wg(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ni(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function oa(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function qt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Nd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _g(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,d=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(g){n=""+g,d.call(this,g)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(g){n=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xl(e){if(!e._valueTracker){var t=Nd(e)?"checked":"value";e._valueTracker=_g(e,t,""+e[t])}}function Td(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Nd(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function si(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Sg=/[\n"\\]/g;function Bt(e){return e.replace(Sg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Zl(e,t,n,i,o,d,g,v){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+qt(t)):e.value!==""+qt(t)&&(e.value=""+qt(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?Fl(e,g,qt(t)):n!=null?Fl(e,g,qt(n)):i!=null&&e.removeAttribute("value"),o==null&&d!=null&&(e.defaultChecked=!!d),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+qt(v):e.removeAttribute("name")}function Ad(e,t,n,i,o,d,g,v){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||n!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){Xl(e);return}n=n!=null?""+qt(n):"",t=t!=null?""+qt(t):n,v||t===e.value||(e.value=t),e.defaultValue=t}i=i??o,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=v?e.checked:!!i,e.defaultChecked=!!i,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Xl(e)}function Fl(e,t,n){t==="number"&&si(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Bn(e,t,n,i){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&i&&(e[n].defaultSelected=!0)}else{for(n=""+qt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Od(e,t,n){if(t!=null&&(t=""+qt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+qt(n):""}function Rd(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(l(92));if(se(i)){if(1<i.length)throw Error(l(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=qt(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),Xl(e)}function $n(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var jg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cd(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||jg.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function kd(e,t,n){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var o in t)i=t[o],t.hasOwnProperty(o)&&n[o]!==i&&Cd(e,o,i)}else for(var d in t)t.hasOwnProperty(d)&&Cd(e,d,t[d])}function Wl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ng=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ri(e){return Ng.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ua(){}var eo=null;function to(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hn=null,Kn=null;function Md(e){var t=zn(e);if(t&&(e=t.stateNode)){var n=e[mt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Zl(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Bt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=i[mt]||null;if(!o)throw Error(l(90));Zl(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&Td(i)}break e;case"textarea":Od(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Bn(e,!!n.multiple,t,!1)}}}var ao=!1;function Dd(e,t,n){if(ao)return e(t,n);ao=!0;try{var i=e(t);return i}finally{if(ao=!1,(Hn!==null||Kn!==null)&&(Ii(),Hn&&(t=Hn,e=Kn,Kn=Hn=null,Md(t),e)))for(t=0;t<e.length;t++)Md(e[t])}}function Hs(e,t){var n=e.stateNode;if(n===null)return null;var i=n[mt]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(l(231,t,typeof n));return n}var ca=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),no=!1;if(ca)try{var Ks={};Object.defineProperty(Ks,"passive",{get:function(){no=!0}}),window.addEventListener("test",Ks,Ks),window.removeEventListener("test",Ks,Ks)}catch{no=!1}var ka=null,so=null,ii=null;function Ud(){if(ii)return ii;var e,t=so,n=t.length,i,o="value"in ka?ka.value:ka.textContent,d=o.length;for(e=0;e<n&&t[e]===o[e];e++);var g=n-e;for(i=1;i<=g&&t[n-i]===o[d-i];i++);return ii=o.slice(e,1<i?1-i:void 0)}function li(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function oi(){return!0}function zd(){return!1}function pt(e){function t(n,i,o,d,g){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(n=e[v],this[v]=n?n(d):d[v]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?oi:zd,this.isPropagationStopped=zd,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),t}var cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ui=pt(cn),Gs=b({},cn,{view:0,detail:0}),Tg=pt(Gs),ro,io,Vs,ci=b({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vs&&(Vs&&e.type==="mousemove"?(ro=e.screenX-Vs.screenX,io=e.screenY-Vs.screenY):io=ro=0,Vs=e),ro)},movementY:function(e){return"movementY"in e?e.movementY:io}}),Ld=pt(ci),Ag=b({},ci,{dataTransfer:0}),Og=pt(Ag),Rg=b({},Gs,{relatedTarget:0}),lo=pt(Rg),Cg=b({},cn,{animationName:0,elapsedTime:0,pseudoElement:0}),kg=pt(Cg),Mg=b({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dg=pt(Mg),Ug=b({},cn,{data:0}),qd=pt(Ug),zg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qg[e])?!!t[e]:!1}function oo(){return Bg}var $g=b({},Gs,{key:function(e){if(e.key){var t=zg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=li(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Lg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oo,charCode:function(e){return e.type==="keypress"?li(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?li(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Hg=pt($g),Kg=b({},ci,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bd=pt(Kg),Gg=b({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oo}),Vg=pt(Gg),Yg=b({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ig=pt(Yg),Qg=b({},ci,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pg=pt(Qg),Jg=b({},cn,{newState:0,oldState:0}),Xg=pt(Jg),Zg=[9,13,27,32],uo=ca&&"CompositionEvent"in window,Ys=null;ca&&"documentMode"in document&&(Ys=document.documentMode);var Fg=ca&&"TextEvent"in window&&!Ys,$d=ca&&(!uo||Ys&&8<Ys&&11>=Ys),Hd=" ",Kd=!1;function Gd(e,t){switch(e){case"keyup":return Zg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gn=!1;function Wg(e,t){switch(e){case"compositionend":return Vd(t);case"keypress":return t.which!==32?null:(Kd=!0,Hd);case"textInput":return e=t.data,e===Hd&&Kd?null:e;default:return null}}function ey(e,t){if(Gn)return e==="compositionend"||!uo&&Gd(e,t)?(e=Ud(),ii=so=ka=null,Gn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $d&&t.locale!=="ko"?null:t.data;default:return null}}var ty={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ty[e.type]:t==="textarea"}function Id(e,t,n,i){Hn?Kn?Kn.push(i):Kn=[i]:Hn=i,t=Wi(t,"onChange"),0<t.length&&(n=new ui("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Is=null,Qs=null;function ay(e){Om(e,0)}function di(e){var t=$s(e);if(Td(t))return e}function Qd(e,t){if(e==="change")return t}var Pd=!1;if(ca){var co;if(ca){var ho="oninput"in document;if(!ho){var Jd=document.createElement("div");Jd.setAttribute("oninput","return;"),ho=typeof Jd.oninput=="function"}co=ho}else co=!1;Pd=co&&(!document.documentMode||9<document.documentMode)}function Xd(){Is&&(Is.detachEvent("onpropertychange",Zd),Qs=Is=null)}function Zd(e){if(e.propertyName==="value"&&di(Qs)){var t=[];Id(t,Qs,e,to(e)),Dd(ay,t)}}function ny(e,t,n){e==="focusin"?(Xd(),Is=t,Qs=n,Is.attachEvent("onpropertychange",Zd)):e==="focusout"&&Xd()}function sy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return di(Qs)}function ry(e,t){if(e==="click")return di(t)}function iy(e,t){if(e==="input"||e==="change")return di(t)}function ly(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Et=typeof Object.is=="function"?Object.is:ly;function Ps(e,t){if(Et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!Kl.call(t,o)||!Et(e[o],t[o]))return!1}return!0}function Fd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wd(e,t){var n=Fd(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fd(n)}}function eh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?eh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function th(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=si(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=si(e.document)}return t}function fo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var oy=ca&&"documentMode"in document&&11>=document.documentMode,Vn=null,mo=null,Js=null,po=!1;function ah(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;po||Vn==null||Vn!==si(i)||(i=Vn,"selectionStart"in i&&fo(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Js&&Ps(Js,i)||(Js=i,i=Wi(mo,"onSelect"),0<i.length&&(t=new ui("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Vn)))}function dn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Yn={animationend:dn("Animation","AnimationEnd"),animationiteration:dn("Animation","AnimationIteration"),animationstart:dn("Animation","AnimationStart"),transitionrun:dn("Transition","TransitionRun"),transitionstart:dn("Transition","TransitionStart"),transitioncancel:dn("Transition","TransitionCancel"),transitionend:dn("Transition","TransitionEnd")},go={},nh={};ca&&(nh=document.createElement("div").style,"AnimationEvent"in window||(delete Yn.animationend.animation,delete Yn.animationiteration.animation,delete Yn.animationstart.animation),"TransitionEvent"in window||delete Yn.transitionend.transition);function hn(e){if(go[e])return go[e];if(!Yn[e])return e;var t=Yn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in nh)return go[e]=t[n];return e}var sh=hn("animationend"),rh=hn("animationiteration"),ih=hn("animationstart"),uy=hn("transitionrun"),cy=hn("transitionstart"),dy=hn("transitioncancel"),lh=hn("transitionend"),oh=new Map,yo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yo.push("scrollEnd");function Xt(e,t){oh.set(e,t),un(t,[e])}var hi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},$t=[],In=0,vo=0;function fi(){for(var e=In,t=vo=In=0;t<e;){var n=$t[t];$t[t++]=null;var i=$t[t];$t[t++]=null;var o=$t[t];$t[t++]=null;var d=$t[t];if($t[t++]=null,i!==null&&o!==null){var g=i.pending;g===null?o.next=o:(o.next=g.next,g.next=o),i.pending=o}d!==0&&uh(n,o,d)}}function mi(e,t,n,i){$t[In++]=e,$t[In++]=t,$t[In++]=n,$t[In++]=i,vo|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function bo(e,t,n,i){return mi(e,t,n,i),pi(e)}function fn(e,t){return mi(e,null,null,t),pi(e)}function uh(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var o=!1,d=e.return;d!==null;)d.childLanes|=n,i=d.alternate,i!==null&&(i.childLanes|=n),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(o=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,o&&t!==null&&(o=31-jt(n),e=d.hiddenUpdates,i=e[o],i===null?e[o]=[t]:i.push(t),t.lane=n|536870912),d):null}function pi(e){if(50<yr)throw yr=0,Au=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Qn={};function hy(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,n,i){return new hy(e,t,n,i)}function xo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function da(e,t){var n=e.alternate;return n===null?(n=Nt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function ch(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function gi(e,t,n,i,o,d){var g=0;if(i=e,typeof e=="function")xo(e)&&(g=1);else if(typeof e=="string")g=yv(e,n,F.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ge:return e=Nt(31,n,t,o),e.elementType=ge,e.lanes=d,e;case T:return mn(n.children,o,d,t);case M:g=8,o|=24;break;case z:return e=Nt(12,n,t,o|2),e.elementType=z,e.lanes=d,e;case te:return e=Nt(13,n,t,o),e.elementType=te,e.lanes=d,e;case J:return e=Nt(19,n,t,o),e.elementType=J,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case L:g=10;break e;case U:g=9;break e;case Q:g=11;break e;case Y:g=14;break e;case fe:g=16,i=null;break e}g=29,n=Error(l(130,e===null?"null":typeof e,"")),i=null}return t=Nt(g,n,t,o),t.elementType=e,t.type=i,t.lanes=d,t}function mn(e,t,n,i){return e=Nt(7,e,i,t),e.lanes=n,e}function wo(e,t,n){return e=Nt(6,e,null,t),e.lanes=n,e}function dh(e){var t=Nt(18,null,null,0);return t.stateNode=e,t}function _o(e,t,n){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var hh=new WeakMap;function Ht(e,t){if(typeof e=="object"&&e!==null){var n=hh.get(e);return n!==void 0?n:(t={value:e,source:t,stack:dd(t)},hh.set(e,t),t)}return{value:e,source:t,stack:dd(t)}}var Pn=[],Jn=0,yi=null,Xs=0,Kt=[],Gt=0,Ma=null,sa=1,ra="";function ha(e,t){Pn[Jn++]=Xs,Pn[Jn++]=yi,yi=e,Xs=t}function fh(e,t,n){Kt[Gt++]=sa,Kt[Gt++]=ra,Kt[Gt++]=Ma,Ma=e;var i=sa;e=ra;var o=32-jt(i)-1;i&=~(1<<o),n+=1;var d=32-jt(t)+o;if(30<d){var g=o-o%5;d=(i&(1<<g)-1).toString(32),i>>=g,o-=g,sa=1<<32-jt(t)+o|n<<o|i,ra=d+e}else sa=1<<d|n<<o|i,ra=e}function So(e){e.return!==null&&(ha(e,1),fh(e,1,0))}function jo(e){for(;e===yi;)yi=Pn[--Jn],Pn[Jn]=null,Xs=Pn[--Jn],Pn[Jn]=null;for(;e===Ma;)Ma=Kt[--Gt],Kt[Gt]=null,ra=Kt[--Gt],Kt[Gt]=null,sa=Kt[--Gt],Kt[Gt]=null}function mh(e,t){Kt[Gt++]=sa,Kt[Gt++]=ra,Kt[Gt++]=Ma,sa=t.id,ra=t.overflow,Ma=e}var st=null,ze=null,_e=!1,Da=null,Vt=!1,Eo=Error(l(519));function Ua(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zs(Ht(t,e)),Eo}function ph(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[nt]=e,t[mt]=i,n){case"dialog":be("cancel",t),be("close",t);break;case"iframe":case"object":case"embed":be("load",t);break;case"video":case"audio":for(n=0;n<br.length;n++)be(br[n],t);break;case"source":be("error",t);break;case"img":case"image":case"link":be("error",t),be("load",t);break;case"details":be("toggle",t);break;case"input":be("invalid",t),Ad(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":be("invalid",t);break;case"textarea":be("invalid",t),Rd(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||Mm(t.textContent,n)?(i.popover!=null&&(be("beforetoggle",t),be("toggle",t)),i.onScroll!=null&&be("scroll",t),i.onScrollEnd!=null&&be("scrollend",t),i.onClick!=null&&(t.onclick=ua),t=!0):t=!1,t||Ua(e,!0)}function gh(e){for(st=e.return;st;)switch(st.tag){case 5:case 31:case 13:Vt=!1;return;case 27:case 3:Vt=!0;return;default:st=st.return}}function Xn(e){if(e!==st)return!1;if(!_e)return gh(e),_e=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Gu(e.type,e.memoizedProps)),n=!n),n&&ze&&Ua(e),gh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));ze=Km(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));ze=Km(e)}else t===27?(t=ze,Ja(e.type)?(e=Pu,Pu=null,ze=e):ze=t):ze=st?It(e.stateNode.nextSibling):null;return!0}function pn(){ze=st=null,_e=!1}function No(){var e=Da;return e!==null&&(bt===null?bt=e:bt.push.apply(bt,e),Da=null),e}function Zs(e){Da===null?Da=[e]:Da.push(e)}var To=E(null),gn=null,fa=null;function za(e,t,n){I(To,t._currentValue),t._currentValue=n}function ma(e){e._currentValue=To.current,$(To)}function Ao(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Oo(e,t,n,i){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var d=o.dependencies;if(d!==null){var g=o.child;d=d.firstContext;e:for(;d!==null;){var v=d;d=o;for(var _=0;_<t.length;_++)if(v.context===t[_]){d.lanes|=n,v=d.alternate,v!==null&&(v.lanes|=n),Ao(d.return,n,e),i||(g=null);break e}d=v.next}}else if(o.tag===18){if(g=o.return,g===null)throw Error(l(341));g.lanes|=n,d=g.alternate,d!==null&&(d.lanes|=n),Ao(g,n,e),g=null}else g=o.child;if(g!==null)g.return=o;else for(g=o;g!==null;){if(g===e){g=null;break}if(o=g.sibling,o!==null){o.return=g.return,g=o;break}g=g.return}o=g}}function Zn(e,t,n,i){e=null;for(var o=t,d=!1;o!==null;){if(!d){if((o.flags&524288)!==0)d=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var g=o.alternate;if(g===null)throw Error(l(387));if(g=g.memoizedProps,g!==null){var v=o.type;Et(o.pendingProps.value,g.value)||(e!==null?e.push(v):e=[v])}}else if(o===Ne.current){if(g=o.alternate,g===null)throw Error(l(387));g.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(jr):e=[jr])}o=o.return}e!==null&&Oo(t,e,n,i),t.flags|=262144}function vi(e){for(e=e.firstContext;e!==null;){if(!Et(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function yn(e){gn=e,fa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function rt(e){return yh(gn,e)}function bi(e,t){return gn===null&&yn(e),yh(e,t)}function yh(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},fa===null){if(e===null)throw Error(l(308));fa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else fa=fa.next=t;return n}var fy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},my=s.unstable_scheduleCallback,py=s.unstable_NormalPriority,Pe={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ro(){return{controller:new fy,data:new Map,refCount:0}}function Fs(e){e.refCount--,e.refCount===0&&my(py,function(){e.controller.abort()})}var Ws=null,Co=0,Fn=0,Wn=null;function gy(e,t){if(Ws===null){var n=Ws=[];Co=0,Fn=Du(),Wn={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Co++,t.then(vh,vh),t}function vh(){if(--Co===0&&Ws!==null){Wn!==null&&(Wn.status="fulfilled");var e=Ws;Ws=null,Fn=0,Wn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function yy(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(i.status="rejected",i.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),i}var bh=k.S;k.S=function(e,t){nm=_t(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&gy(e,t),bh!==null&&bh(e,t)};var vn=E(null);function ko(){var e=vn.current;return e!==null?e:Me.pooledCache}function xi(e,t){t===null?I(vn,vn.current):I(vn,t.pool)}function xh(){var e=ko();return e===null?null:{parent:Pe._currentValue,pool:e}}var es=Error(l(460)),Mo=Error(l(474)),wi=Error(l(542)),_i={then:function(){}};function wh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function _h(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(ua,ua),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,jh(e),e;default:if(typeof t.status=="string")t.then(ua,ua);else{if(e=Me,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=i}},function(i){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,jh(e),e}throw xn=t,es}}function bn(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(xn=n,es):n}}var xn=null;function Sh(){if(xn===null)throw Error(l(459));var e=xn;return xn=null,e}function jh(e){if(e===es||e===wi)throw Error(l(483))}var ts=null,er=0;function Si(e){var t=er;return er+=1,ts===null&&(ts=[]),_h(ts,e,t)}function tr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ji(e,t){throw t.$$typeof===w?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Eh(e){function t(A,j){if(e){var R=A.deletions;R===null?(A.deletions=[j],A.flags|=16):R.push(j)}}function n(A,j){if(!e)return null;for(;j!==null;)t(A,j),j=j.sibling;return null}function i(A){for(var j=new Map;A!==null;)A.key!==null?j.set(A.key,A):j.set(A.index,A),A=A.sibling;return j}function o(A,j){return A=da(A,j),A.index=0,A.sibling=null,A}function d(A,j,R){return A.index=R,e?(R=A.alternate,R!==null?(R=R.index,R<j?(A.flags|=67108866,j):R):(A.flags|=67108866,j)):(A.flags|=1048576,j)}function g(A){return e&&A.alternate===null&&(A.flags|=67108866),A}function v(A,j,R,H){return j===null||j.tag!==6?(j=wo(R,A.mode,H),j.return=A,j):(j=o(j,R),j.return=A,j)}function _(A,j,R,H){var ne=R.type;return ne===T?B(A,j,R.props.children,H,R.key):j!==null&&(j.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===fe&&bn(ne)===j.type)?(j=o(j,R.props),tr(j,R),j.return=A,j):(j=gi(R.type,R.key,R.props,null,A.mode,H),tr(j,R),j.return=A,j)}function C(A,j,R,H){return j===null||j.tag!==4||j.stateNode.containerInfo!==R.containerInfo||j.stateNode.implementation!==R.implementation?(j=_o(R,A.mode,H),j.return=A,j):(j=o(j,R.children||[]),j.return=A,j)}function B(A,j,R,H,ne){return j===null||j.tag!==7?(j=mn(R,A.mode,H,ne),j.return=A,j):(j=o(j,R),j.return=A,j)}function K(A,j,R){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=wo(""+j,A.mode,R),j.return=A,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case S:return R=gi(j.type,j.key,j.props,null,A.mode,R),tr(R,j),R.return=A,R;case O:return j=_o(j,A.mode,R),j.return=A,j;case fe:return j=bn(j),K(A,j,R)}if(se(j)||me(j))return j=mn(j,A.mode,R,null),j.return=A,j;if(typeof j.then=="function")return K(A,Si(j),R);if(j.$$typeof===L)return K(A,bi(A,j),R);ji(A,j)}return null}function D(A,j,R,H){var ne=j!==null?j.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return ne!==null?null:v(A,j,""+R,H);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case S:return R.key===ne?_(A,j,R,H):null;case O:return R.key===ne?C(A,j,R,H):null;case fe:return R=bn(R),D(A,j,R,H)}if(se(R)||me(R))return ne!==null?null:B(A,j,R,H,null);if(typeof R.then=="function")return D(A,j,Si(R),H);if(R.$$typeof===L)return D(A,j,bi(A,R),H);ji(A,R)}return null}function q(A,j,R,H,ne){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return A=A.get(R)||null,v(j,A,""+H,ne);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case S:return A=A.get(H.key===null?R:H.key)||null,_(j,A,H,ne);case O:return A=A.get(H.key===null?R:H.key)||null,C(j,A,H,ne);case fe:return H=bn(H),q(A,j,R,H,ne)}if(se(H)||me(H))return A=A.get(R)||null,B(j,A,H,ne,null);if(typeof H.then=="function")return q(A,j,R,Si(H),ne);if(H.$$typeof===L)return q(A,j,R,bi(j,H),ne);ji(j,H)}return null}function X(A,j,R,H){for(var ne=null,Se=null,W=j,pe=j=0,we=null;W!==null&&pe<R.length;pe++){W.index>pe?(we=W,W=null):we=W.sibling;var je=D(A,W,R[pe],H);if(je===null){W===null&&(W=we);break}e&&W&&je.alternate===null&&t(A,W),j=d(je,j,pe),Se===null?ne=je:Se.sibling=je,Se=je,W=we}if(pe===R.length)return n(A,W),_e&&ha(A,pe),ne;if(W===null){for(;pe<R.length;pe++)W=K(A,R[pe],H),W!==null&&(j=d(W,j,pe),Se===null?ne=W:Se.sibling=W,Se=W);return _e&&ha(A,pe),ne}for(W=i(W);pe<R.length;pe++)we=q(W,A,pe,R[pe],H),we!==null&&(e&&we.alternate!==null&&W.delete(we.key===null?pe:we.key),j=d(we,j,pe),Se===null?ne=we:Se.sibling=we,Se=we);return e&&W.forEach(function(en){return t(A,en)}),_e&&ha(A,pe),ne}function re(A,j,R,H){if(R==null)throw Error(l(151));for(var ne=null,Se=null,W=j,pe=j=0,we=null,je=R.next();W!==null&&!je.done;pe++,je=R.next()){W.index>pe?(we=W,W=null):we=W.sibling;var en=D(A,W,je.value,H);if(en===null){W===null&&(W=we);break}e&&W&&en.alternate===null&&t(A,W),j=d(en,j,pe),Se===null?ne=en:Se.sibling=en,Se=en,W=we}if(je.done)return n(A,W),_e&&ha(A,pe),ne;if(W===null){for(;!je.done;pe++,je=R.next())je=K(A,je.value,H),je!==null&&(j=d(je,j,pe),Se===null?ne=je:Se.sibling=je,Se=je);return _e&&ha(A,pe),ne}for(W=i(W);!je.done;pe++,je=R.next())je=q(W,A,pe,je.value,H),je!==null&&(e&&je.alternate!==null&&W.delete(je.key===null?pe:je.key),j=d(je,j,pe),Se===null?ne=je:Se.sibling=je,Se=je);return e&&W.forEach(function(Av){return t(A,Av)}),_e&&ha(A,pe),ne}function ke(A,j,R,H){if(typeof R=="object"&&R!==null&&R.type===T&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case S:e:{for(var ne=R.key;j!==null;){if(j.key===ne){if(ne=R.type,ne===T){if(j.tag===7){n(A,j.sibling),H=o(j,R.props.children),H.return=A,A=H;break e}}else if(j.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===fe&&bn(ne)===j.type){n(A,j.sibling),H=o(j,R.props),tr(H,R),H.return=A,A=H;break e}n(A,j);break}else t(A,j);j=j.sibling}R.type===T?(H=mn(R.props.children,A.mode,H,R.key),H.return=A,A=H):(H=gi(R.type,R.key,R.props,null,A.mode,H),tr(H,R),H.return=A,A=H)}return g(A);case O:e:{for(ne=R.key;j!==null;){if(j.key===ne)if(j.tag===4&&j.stateNode.containerInfo===R.containerInfo&&j.stateNode.implementation===R.implementation){n(A,j.sibling),H=o(j,R.children||[]),H.return=A,A=H;break e}else{n(A,j);break}else t(A,j);j=j.sibling}H=_o(R,A.mode,H),H.return=A,A=H}return g(A);case fe:return R=bn(R),ke(A,j,R,H)}if(se(R))return X(A,j,R,H);if(me(R)){if(ne=me(R),typeof ne!="function")throw Error(l(150));return R=ne.call(R),re(A,j,R,H)}if(typeof R.then=="function")return ke(A,j,Si(R),H);if(R.$$typeof===L)return ke(A,j,bi(A,R),H);ji(A,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,j!==null&&j.tag===6?(n(A,j.sibling),H=o(j,R),H.return=A,A=H):(n(A,j),H=wo(R,A.mode,H),H.return=A,A=H),g(A)):n(A,j)}return function(A,j,R,H){try{er=0;var ne=ke(A,j,R,H);return ts=null,ne}catch(W){if(W===es||W===wi)throw W;var Se=Nt(29,W,null,A.mode);return Se.lanes=H,Se.return=A,Se}}}var wn=Eh(!0),Nh=Eh(!1),La=!1;function Do(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function qa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ba(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Ee&2)!==0){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,t=pi(e),uh(e,null,n),t}return mi(e,i,t,n),pi(e)}function ar(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,yd(e,n)}}function zo(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,d=null;if(n=n.firstBaseUpdate,n!==null){do{var g={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};d===null?o=d=g:d=d.next=g,n=n.next}while(n!==null);d===null?o=d=t:d=d.next=t}else o=d=t;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:d,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Lo=!1;function nr(){if(Lo){var e=Wn;if(e!==null)throw e}}function sr(e,t,n,i){Lo=!1;var o=e.updateQueue;La=!1;var d=o.firstBaseUpdate,g=o.lastBaseUpdate,v=o.shared.pending;if(v!==null){o.shared.pending=null;var _=v,C=_.next;_.next=null,g===null?d=C:g.next=C,g=_;var B=e.alternate;B!==null&&(B=B.updateQueue,v=B.lastBaseUpdate,v!==g&&(v===null?B.firstBaseUpdate=C:v.next=C,B.lastBaseUpdate=_))}if(d!==null){var K=o.baseState;g=0,B=C=_=null,v=d;do{var D=v.lane&-536870913,q=D!==v.lane;if(q?(xe&D)===D:(i&D)===D){D!==0&&D===Fn&&(Lo=!0),B!==null&&(B=B.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var X=e,re=v;D=t;var ke=n;switch(re.tag){case 1:if(X=re.payload,typeof X=="function"){K=X.call(ke,K,D);break e}K=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=re.payload,D=typeof X=="function"?X.call(ke,K,D):X,D==null)break e;K=b({},K,D);break e;case 2:La=!0}}D=v.callback,D!==null&&(e.flags|=64,q&&(e.flags|=8192),q=o.callbacks,q===null?o.callbacks=[D]:q.push(D))}else q={lane:D,tag:v.tag,payload:v.payload,callback:v.callback,next:null},B===null?(C=B=q,_=K):B=B.next=q,g|=D;if(v=v.next,v===null){if(v=o.shared.pending,v===null)break;q=v,v=q.next,q.next=null,o.lastBaseUpdate=q,o.shared.pending=null}}while(!0);B===null&&(_=K),o.baseState=_,o.firstBaseUpdate=C,o.lastBaseUpdate=B,d===null&&(o.shared.lanes=0),Va|=g,e.lanes=g,e.memoizedState=K}}function Th(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Ah(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Th(n[e],t)}var as=E(null),Ei=E(0);function Oh(e,t){e=Sa,I(Ei,e),I(as,t),Sa=e|t.baseLanes}function qo(){I(Ei,Sa),I(as,as.current)}function Bo(){Sa=Ei.current,$(as),$(Ei)}var Tt=E(null),Yt=null;function $a(e){var t=e.alternate;I(Ie,Ie.current&1),I(Tt,e),Yt===null&&(t===null||as.current!==null||t.memoizedState!==null)&&(Yt=e)}function $o(e){I(Ie,Ie.current),I(Tt,e),Yt===null&&(Yt=e)}function Rh(e){e.tag===22?(I(Ie,Ie.current),I(Tt,e),Yt===null&&(Yt=e)):Ha()}function Ha(){I(Ie,Ie.current),I(Tt,Tt.current)}function At(e){$(Tt),Yt===e&&(Yt=null),$(Ie)}var Ie=E(0);function Ni(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Iu(n)||Qu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pa=0,he=null,Re=null,Je=null,Ti=!1,ns=!1,_n=!1,Ai=0,rr=0,ss=null,vy=0;function Ke(){throw Error(l(321))}function Ho(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Et(e[n],t[n]))return!1;return!0}function Ko(e,t,n,i,o,d){return pa=d,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,k.H=e===null||e.memoizedState===null?mf:nu,_n=!1,d=n(i,o),_n=!1,ns&&(d=kh(t,n,i,o)),Ch(e),d}function Ch(e){k.H=or;var t=Re!==null&&Re.next!==null;if(pa=0,Je=Re=he=null,Ti=!1,rr=0,ss=null,t)throw Error(l(300));e===null||Xe||(e=e.dependencies,e!==null&&vi(e)&&(Xe=!0))}function kh(e,t,n,i){he=e;var o=0;do{if(ns&&(ss=null),rr=0,ns=!1,25<=o)throw Error(l(301));if(o+=1,Je=Re=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}k.H=pf,d=t(n,i)}while(ns);return d}function by(){var e=k.H,t=e.useState()[0];return t=typeof t.then=="function"?ir(t):t,e=e.useState()[0],(Re!==null?Re.memoizedState:null)!==e&&(he.flags|=1024),t}function Go(){var e=Ai!==0;return Ai=0,e}function Vo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Yo(e){if(Ti){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ti=!1}pa=0,Je=Re=he=null,ns=!1,rr=Ai=0,ss=null}function ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?he.memoizedState=Je=e:Je=Je.next=e,Je}function Qe(){if(Re===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var t=Je===null?he.memoizedState:Je.next;if(t!==null)Je=t,Re=e;else{if(e===null)throw he.alternate===null?Error(l(467)):Error(l(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Je===null?he.memoizedState=Je=e:Je=Je.next=e}return Je}function Oi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ir(e){var t=rr;return rr+=1,ss===null&&(ss=[]),e=_h(ss,e,t),t=he,(Je===null?t.memoizedState:Je.next)===null&&(t=t.alternate,k.H=t===null||t.memoizedState===null?mf:nu),e}function Ri(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ir(e);if(e.$$typeof===L)return rt(e)}throw Error(l(438,String(e)))}function Io(e){var t=null,n=he.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=he.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Oi(),he.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=$e;return t.index++,n}function ga(e,t){return typeof t=="function"?t(e):t}function Ci(e){var t=Qe();return Qo(t,Re,e)}function Qo(e,t,n){var i=e.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=n;var o=e.baseQueue,d=i.pending;if(d!==null){if(o!==null){var g=o.next;o.next=d.next,d.next=g}t.baseQueue=o=d,i.pending=null}if(d=e.baseState,o===null)e.memoizedState=d;else{t=o.next;var v=g=null,_=null,C=t,B=!1;do{var K=C.lane&-536870913;if(K!==C.lane?(xe&K)===K:(pa&K)===K){var D=C.revertLane;if(D===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),K===Fn&&(B=!0);else if((pa&D)===D){C=C.next,D===Fn&&(B=!0);continue}else K={lane:0,revertLane:C.revertLane,gesture:null,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},_===null?(v=_=K,g=d):_=_.next=K,he.lanes|=D,Va|=D;K=C.action,_n&&n(d,K),d=C.hasEagerState?C.eagerState:n(d,K)}else D={lane:K,revertLane:C.revertLane,gesture:C.gesture,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},_===null?(v=_=D,g=d):_=_.next=D,he.lanes|=K,Va|=K;C=C.next}while(C!==null&&C!==t);if(_===null?g=d:_.next=v,!Et(d,e.memoizedState)&&(Xe=!0,B&&(n=Wn,n!==null)))throw n;e.memoizedState=d,e.baseState=g,e.baseQueue=_,i.lastRenderedState=d}return o===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Po(e){var t=Qe(),n=t.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,d=t.memoizedState;if(o!==null){n.pending=null;var g=o=o.next;do d=e(d,g.action),g=g.next;while(g!==o);Et(d,t.memoizedState)||(Xe=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),n.lastRenderedState=d}return[d,i]}function Mh(e,t,n){var i=he,o=Qe(),d=_e;if(d){if(n===void 0)throw Error(l(407));n=n()}else n=t();var g=!Et((Re||o).memoizedState,n);if(g&&(o.memoizedState=n,Xe=!0),o=o.queue,Zo(zh.bind(null,i,o,e),[e]),o.getSnapshot!==t||g||Je!==null&&Je.memoizedState.tag&1){if(i.flags|=2048,rs(9,{destroy:void 0},Uh.bind(null,i,o,n,t),null),Me===null)throw Error(l(349));d||(pa&127)!==0||Dh(i,t,n)}return n}function Dh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=he.updateQueue,t===null?(t=Oi(),he.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Uh(e,t,n,i){t.value=n,t.getSnapshot=i,Lh(t)&&qh(e)}function zh(e,t,n){return n(function(){Lh(t)&&qh(e)})}function Lh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Et(e,n)}catch{return!0}}function qh(e){var t=fn(e,2);t!==null&&xt(t,e,2)}function Jo(e){var t=ht();if(typeof e=="function"){var n=e;if(e=n(),_n){Ra(!0);try{n()}finally{Ra(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:e},t}function Bh(e,t,n,i){return e.baseState=n,Qo(e,Re,typeof i=="function"?i:ga)}function xy(e,t,n,i,o){if(Di(e))throw Error(l(485));if(e=t.action,e!==null){var d={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};k.T!==null?n(!0):d.isTransition=!1,i(d),n=t.pending,n===null?(d.next=t.pending=d,$h(t,d)):(d.next=n.next,t.pending=n.next=d)}}function $h(e,t){var n=t.action,i=t.payload,o=e.state;if(t.isTransition){var d=k.T,g={};k.T=g;try{var v=n(o,i),_=k.S;_!==null&&_(g,v),Hh(e,t,v)}catch(C){Xo(e,t,C)}finally{d!==null&&g.types!==null&&(d.types=g.types),k.T=d}}else try{d=n(o,i),Hh(e,t,d)}catch(C){Xo(e,t,C)}}function Hh(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Kh(e,t,i)},function(i){return Xo(e,t,i)}):Kh(e,t,n)}function Kh(e,t,n){t.status="fulfilled",t.value=n,Gh(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,$h(e,n)))}function Xo(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,Gh(t),t=t.next;while(t!==i)}e.action=null}function Gh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Vh(e,t){return t}function Yh(e,t){if(_e){var n=Me.formState;if(n!==null){e:{var i=he;if(_e){if(ze){t:{for(var o=ze,d=Vt;o.nodeType!==8;){if(!d){o=null;break t}if(o=It(o.nextSibling),o===null){o=null;break t}}d=o.data,o=d==="F!"||d==="F"?o:null}if(o){ze=It(o.nextSibling),i=o.data==="F!";break e}}Ua(i)}i=!1}i&&(t=n[0])}}return n=ht(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:t},n.queue=i,n=df.bind(null,he,i),i.dispatch=n,i=Jo(!1),d=au.bind(null,he,!1,i.queue),i=ht(),o={state:t,dispatch:null,action:e,pending:null},i.queue=o,n=xy.bind(null,he,o,d,n),o.dispatch=n,i.memoizedState=e,[t,n,!1]}function Ih(e){var t=Qe();return Qh(t,Re,e)}function Qh(e,t,n){if(t=Qo(e,t,Vh)[0],e=Ci(ga)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=ir(t)}catch(g){throw g===es?wi:g}else i=t;t=Qe();var o=t.queue,d=o.dispatch;return n!==t.memoizedState&&(he.flags|=2048,rs(9,{destroy:void 0},wy.bind(null,o,n),null)),[i,d,e]}function wy(e,t){e.action=t}function Ph(e){var t=Qe(),n=Re;if(n!==null)return Qh(t,n,e);Qe(),t=t.memoizedState,n=Qe();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function rs(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=he.updateQueue,t===null&&(t=Oi(),he.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Jh(){return Qe().memoizedState}function ki(e,t,n,i){var o=ht();he.flags|=e,o.memoizedState=rs(1|t,{destroy:void 0},n,i===void 0?null:i)}function Mi(e,t,n,i){var o=Qe();i=i===void 0?null:i;var d=o.memoizedState.inst;Re!==null&&i!==null&&Ho(i,Re.memoizedState.deps)?o.memoizedState=rs(t,d,n,i):(he.flags|=e,o.memoizedState=rs(1|t,d,n,i))}function Xh(e,t){ki(8390656,8,e,t)}function Zo(e,t){Mi(2048,8,e,t)}function _y(e){he.flags|=4;var t=he.updateQueue;if(t===null)t=Oi(),he.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Zh(e){var t=Qe().memoizedState;return _y({ref:t,nextImpl:e}),function(){if((Ee&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Fh(e,t){return Mi(4,2,e,t)}function Wh(e,t){return Mi(4,4,e,t)}function ef(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tf(e,t,n){n=n!=null?n.concat([e]):null,Mi(4,4,ef.bind(null,t,e),n)}function Fo(){}function af(e,t){var n=Qe();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Ho(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function nf(e,t){var n=Qe();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Ho(t,i[1]))return i[0];if(i=e(),_n){Ra(!0);try{e()}finally{Ra(!1)}}return n.memoizedState=[i,t],i}function Wo(e,t,n){return n===void 0||(pa&1073741824)!==0&&(xe&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=rm(),he.lanes|=e,Va|=e,n)}function sf(e,t,n,i){return Et(n,t)?n:as.current!==null?(e=Wo(e,n,i),Et(e,t)||(Xe=!0),e):(pa&42)===0||(pa&1073741824)!==0&&(xe&261930)===0?(Xe=!0,e.memoizedState=n):(e=rm(),he.lanes|=e,Va|=e,t)}function rf(e,t,n,i,o){var d=V.p;V.p=d!==0&&8>d?d:8;var g=k.T,v={};k.T=v,au(e,!1,t,n);try{var _=o(),C=k.S;if(C!==null&&C(v,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var B=yy(_,i);lr(e,t,B,Ct(e))}else lr(e,t,i,Ct(e))}catch(K){lr(e,t,{then:function(){},status:"rejected",reason:K},Ct())}finally{V.p=d,g!==null&&v.types!==null&&(g.types=v.types),k.T=g}}function Sy(){}function eu(e,t,n,i){if(e.tag!==5)throw Error(l(476));var o=lf(e).queue;rf(e,o,t,Z,n===null?Sy:function(){return of(e),n(i)})}function lf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:Z},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function of(e){var t=lf(e);t.next===null&&(t=e.alternate.memoizedState),lr(e,t.next.queue,{},Ct())}function tu(){return rt(jr)}function uf(){return Qe().memoizedState}function cf(){return Qe().memoizedState}function jy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Ct();e=qa(n);var i=Ba(t,e,n);i!==null&&(xt(i,t,n),ar(i,t,n)),t={cache:Ro()},e.payload=t;return}t=t.return}}function Ey(e,t,n){var i=Ct();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Di(e)?hf(t,n):(n=bo(e,t,n,i),n!==null&&(xt(n,e,i),ff(n,t,i)))}function df(e,t,n){var i=Ct();lr(e,t,n,i)}function lr(e,t,n,i){var o={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Di(e))hf(t,o);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var g=t.lastRenderedState,v=d(g,n);if(o.hasEagerState=!0,o.eagerState=v,Et(v,g))return mi(e,t,o,0),Me===null&&fi(),!1}catch{}if(n=bo(e,t,o,i),n!==null)return xt(n,e,i),ff(n,t,i),!0}return!1}function au(e,t,n,i){if(i={lane:2,revertLane:Du(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Di(e)){if(t)throw Error(l(479))}else t=bo(e,n,i,2),t!==null&&xt(t,e,2)}function Di(e){var t=e.alternate;return e===he||t!==null&&t===he}function hf(e,t){ns=Ti=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ff(e,t,n){if((n&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,yd(e,n)}}var or={readContext:rt,use:Ri,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke};or.useEffectEvent=Ke;var mf={readContext:rt,use:Ri,useCallback:function(e,t){return ht().memoizedState=[e,t===void 0?null:t],e},useContext:rt,useEffect:Xh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,ki(4194308,4,ef.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ki(4194308,4,e,t)},useInsertionEffect:function(e,t){ki(4,2,e,t)},useMemo:function(e,t){var n=ht();t=t===void 0?null:t;var i=e();if(_n){Ra(!0);try{e()}finally{Ra(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=ht();if(n!==void 0){var o=n(t);if(_n){Ra(!0);try{n(t)}finally{Ra(!1)}}}else o=t;return i.memoizedState=i.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},i.queue=e,e=e.dispatch=Ey.bind(null,he,e),[i.memoizedState,e]},useRef:function(e){var t=ht();return e={current:e},t.memoizedState=e},useState:function(e){e=Jo(e);var t=e.queue,n=df.bind(null,he,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Fo,useDeferredValue:function(e,t){var n=ht();return Wo(n,e,t)},useTransition:function(){var e=Jo(!1);return e=rf.bind(null,he,e.queue,!0,!1),ht().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=he,o=ht();if(_e){if(n===void 0)throw Error(l(407));n=n()}else{if(n=t(),Me===null)throw Error(l(349));(xe&127)!==0||Dh(i,t,n)}o.memoizedState=n;var d={value:n,getSnapshot:t};return o.queue=d,Xh(zh.bind(null,i,d,e),[e]),i.flags|=2048,rs(9,{destroy:void 0},Uh.bind(null,i,d,n,t),null),n},useId:function(){var e=ht(),t=Me.identifierPrefix;if(_e){var n=ra,i=sa;n=(i&~(1<<32-jt(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Ai++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=vy++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:tu,useFormState:Yh,useActionState:Yh,useOptimistic:function(e){var t=ht();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=au.bind(null,he,!0,n),n.dispatch=t,[e,t]},useMemoCache:Io,useCacheRefresh:function(){return ht().memoizedState=jy.bind(null,he)},useEffectEvent:function(e){var t=ht(),n={impl:e};return t.memoizedState=n,function(){if((Ee&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}},nu={readContext:rt,use:Ri,useCallback:af,useContext:rt,useEffect:Zo,useImperativeHandle:tf,useInsertionEffect:Fh,useLayoutEffect:Wh,useMemo:nf,useReducer:Ci,useRef:Jh,useState:function(){return Ci(ga)},useDebugValue:Fo,useDeferredValue:function(e,t){var n=Qe();return sf(n,Re.memoizedState,e,t)},useTransition:function(){var e=Ci(ga)[0],t=Qe().memoizedState;return[typeof e=="boolean"?e:ir(e),t]},useSyncExternalStore:Mh,useId:uf,useHostTransitionStatus:tu,useFormState:Ih,useActionState:Ih,useOptimistic:function(e,t){var n=Qe();return Bh(n,Re,e,t)},useMemoCache:Io,useCacheRefresh:cf};nu.useEffectEvent=Zh;var pf={readContext:rt,use:Ri,useCallback:af,useContext:rt,useEffect:Zo,useImperativeHandle:tf,useInsertionEffect:Fh,useLayoutEffect:Wh,useMemo:nf,useReducer:Po,useRef:Jh,useState:function(){return Po(ga)},useDebugValue:Fo,useDeferredValue:function(e,t){var n=Qe();return Re===null?Wo(n,e,t):sf(n,Re.memoizedState,e,t)},useTransition:function(){var e=Po(ga)[0],t=Qe().memoizedState;return[typeof e=="boolean"?e:ir(e),t]},useSyncExternalStore:Mh,useId:uf,useHostTransitionStatus:tu,useFormState:Ph,useActionState:Ph,useOptimistic:function(e,t){var n=Qe();return Re!==null?Bh(n,Re,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Io,useCacheRefresh:cf};pf.useEffectEvent=Zh;function su(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:b({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ru={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Ct(),o=qa(i);o.payload=t,n!=null&&(o.callback=n),t=Ba(e,o,i),t!==null&&(xt(t,e,i),ar(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Ct(),o=qa(i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Ba(e,o,i),t!==null&&(xt(t,e,i),ar(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ct(),i=qa(n);i.tag=2,t!=null&&(i.callback=t),t=Ba(e,i,n),t!==null&&(xt(t,e,n),ar(t,e,n))}};function gf(e,t,n,i,o,d,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,d,g):t.prototype&&t.prototype.isPureReactComponent?!Ps(n,i)||!Ps(o,d):!0}function yf(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&ru.enqueueReplaceState(t,t.state,null)}function Sn(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=b({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}function vf(e){hi(e)}function bf(e){console.error(e)}function xf(e){hi(e)}function Ui(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function wf(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function iu(e,t,n){return n=qa(n),n.tag=3,n.payload={element:null},n.callback=function(){Ui(e,t)},n}function _f(e){return e=qa(e),e.tag=3,e}function Sf(e,t,n,i){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var d=i.value;e.payload=function(){return o(d)},e.callback=function(){wf(t,n,i)}}var g=n.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){wf(t,n,i),typeof o!="function"&&(Ya===null?Ya=new Set([this]):Ya.add(this));var v=i.stack;this.componentDidCatch(i.value,{componentStack:v!==null?v:""})})}function Ny(e,t,n,i,o){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Zn(t,n,o,!0),n=Tt.current,n!==null){switch(n.tag){case 31:case 13:return Yt===null?Qi():n.alternate===null&&Ge===0&&(Ge=3),n.flags&=-257,n.flags|=65536,n.lanes=o,i===_i?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Cu(e,i,o)),!1;case 22:return n.flags|=65536,i===_i?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Cu(e,i,o)),!1}throw Error(l(435,n.tag))}return Cu(e,i,o),Qi(),!1}if(_e)return t=Tt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,i!==Eo&&(e=Error(l(422),{cause:i}),Zs(Ht(e,n)))):(i!==Eo&&(t=Error(l(423),{cause:i}),Zs(Ht(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,i=Ht(i,n),o=iu(e.stateNode,i,o),zo(e,o),Ge!==4&&(Ge=2)),!1;var d=Error(l(520),{cause:i});if(d=Ht(d,n),gr===null?gr=[d]:gr.push(d),Ge!==4&&(Ge=2),t===null)return!0;i=Ht(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=iu(n.stateNode,i,e),zo(n,e),!1;case 1:if(t=n.type,d=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ya===null||!Ya.has(d))))return n.flags|=65536,o&=-o,n.lanes|=o,o=_f(o),Sf(o,e,n,i),zo(n,o),!1}n=n.return}while(n!==null);return!1}var lu=Error(l(461)),Xe=!1;function it(e,t,n,i){t.child=e===null?Nh(t,null,n,i):wn(t,e.child,n,i)}function jf(e,t,n,i,o){n=n.render;var d=t.ref;if("ref"in i){var g={};for(var v in i)v!=="ref"&&(g[v]=i[v])}else g=i;return yn(t),i=Ko(e,t,n,g,d,o),v=Go(),e!==null&&!Xe?(Vo(e,t,o),ya(e,t,o)):(_e&&v&&So(t),t.flags|=1,it(e,t,i,o),t.child)}function Ef(e,t,n,i,o){if(e===null){var d=n.type;return typeof d=="function"&&!xo(d)&&d.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=d,Nf(e,t,d,i,o)):(e=gi(n.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!pu(e,o)){var g=d.memoizedProps;if(n=n.compare,n=n!==null?n:Ps,n(g,i)&&e.ref===t.ref)return ya(e,t,o)}return t.flags|=1,e=da(d,i),e.ref=t.ref,e.return=t,t.child=e}function Nf(e,t,n,i,o){if(e!==null){var d=e.memoizedProps;if(Ps(d,i)&&e.ref===t.ref)if(Xe=!1,t.pendingProps=i=d,pu(e,o))(e.flags&131072)!==0&&(Xe=!0);else return t.lanes=e.lanes,ya(e,t,o)}return ou(e,t,n,i,o)}function Tf(e,t,n,i){var o=i.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|n:n,e!==null){for(i=t.child=e.child,o=0;i!==null;)o=o|i.lanes|i.childLanes,i=i.sibling;i=o&~d}else i=0,t.child=null;return Af(e,t,d,n,i)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&xi(t,d!==null?d.cachePool:null),d!==null?Oh(t,d):qo(),Rh(t);else return i=t.lanes=536870912,Af(e,t,d!==null?d.baseLanes|n:n,n,i)}else d!==null?(xi(t,d.cachePool),Oh(t,d),Ha(),t.memoizedState=null):(e!==null&&xi(t,null),qo(),Ha());return it(e,t,o,n),t.child}function ur(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Af(e,t,n,i,o){var d=ko();return d=d===null?null:{parent:Pe._currentValue,pool:d},t.memoizedState={baseLanes:n,cachePool:d},e!==null&&xi(t,null),qo(),Rh(t),e!==null&&Zn(e,t,i,!0),t.childLanes=o,null}function zi(e,t){return t=qi({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Of(e,t,n){return wn(t,e.child,null,n),e=zi(t,t.pendingProps),e.flags|=2,At(t),t.memoizedState=null,e}function Ty(e,t,n){var i=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(_e){if(i.mode==="hidden")return e=zi(t,i),t.lanes=536870912,ur(null,e);if($o(t),(e=ze)?(e=Hm(e,Vt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ma!==null?{id:sa,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},n=dh(e),n.return=t,t.child=n,st=t,ze=null)):e=null,e===null)throw Ua(t);return t.lanes=536870912,null}return zi(t,i)}var d=e.memoizedState;if(d!==null){var g=d.dehydrated;if($o(t),o)if(t.flags&256)t.flags&=-257,t=Of(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(Xe||Zn(e,t,n,!1),o=(n&e.childLanes)!==0,Xe||o){if(i=Me,i!==null&&(g=vd(i,n),g!==0&&g!==d.retryLane))throw d.retryLane=g,fn(e,g),xt(i,e,g),lu;Qi(),t=Of(e,t,n)}else e=d.treeContext,ze=It(g.nextSibling),st=t,_e=!0,Da=null,Vt=!1,e!==null&&mh(t,e),t=zi(t,i),t.flags|=4096;return t}return e=da(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Li(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(l(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function ou(e,t,n,i,o){return yn(t),n=Ko(e,t,n,i,void 0,o),i=Go(),e!==null&&!Xe?(Vo(e,t,o),ya(e,t,o)):(_e&&i&&So(t),t.flags|=1,it(e,t,n,o),t.child)}function Rf(e,t,n,i,o,d){return yn(t),t.updateQueue=null,n=kh(t,i,n,o),Ch(e),i=Go(),e!==null&&!Xe?(Vo(e,t,d),ya(e,t,d)):(_e&&i&&So(t),t.flags|=1,it(e,t,n,d),t.child)}function Cf(e,t,n,i,o){if(yn(t),t.stateNode===null){var d=Qn,g=n.contextType;typeof g=="object"&&g!==null&&(d=rt(g)),d=new n(i,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ru,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=i,d.state=t.memoizedState,d.refs={},Do(t),g=n.contextType,d.context=typeof g=="object"&&g!==null?rt(g):Qn,d.state=t.memoizedState,g=n.getDerivedStateFromProps,typeof g=="function"&&(su(t,n,g,i),d.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&ru.enqueueReplaceState(d,d.state,null),sr(t,i,d,o),nr(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){d=t.stateNode;var v=t.memoizedProps,_=Sn(n,v);d.props=_;var C=d.context,B=n.contextType;g=Qn,typeof B=="object"&&B!==null&&(g=rt(B));var K=n.getDerivedStateFromProps;B=typeof K=="function"||typeof d.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,B||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v||C!==g)&&yf(t,d,i,g),La=!1;var D=t.memoizedState;d.state=D,sr(t,i,d,o),nr(),C=t.memoizedState,v||D!==C||La?(typeof K=="function"&&(su(t,n,K,i),C=t.memoizedState),(_=La||gf(t,n,_,i,D,C,g))?(B||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=C),d.props=i,d.state=C,d.context=g,i=_):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{d=t.stateNode,Uo(e,t),g=t.memoizedProps,B=Sn(n,g),d.props=B,K=t.pendingProps,D=d.context,C=n.contextType,_=Qn,typeof C=="object"&&C!==null&&(_=rt(C)),v=n.getDerivedStateFromProps,(C=typeof v=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==K||D!==_)&&yf(t,d,i,_),La=!1,D=t.memoizedState,d.state=D,sr(t,i,d,o),nr();var q=t.memoizedState;g!==K||D!==q||La||e!==null&&e.dependencies!==null&&vi(e.dependencies)?(typeof v=="function"&&(su(t,n,v,i),q=t.memoizedState),(B=La||gf(t,n,B,i,D,q,_)||e!==null&&e.dependencies!==null&&vi(e.dependencies))?(C||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(i,q,_),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(i,q,_)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=q),d.props=i,d.state=q,d.context=_,i=B):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),i=!1)}return d=i,Li(e,t),i=(t.flags&128)!==0,d||i?(d=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&i?(t.child=wn(t,e.child,null,o),t.child=wn(t,null,n,o)):it(e,t,n,o),t.memoizedState=d.state,e=t.child):e=ya(e,t,o),e}function kf(e,t,n,i){return pn(),t.flags|=256,it(e,t,n,i),t.child}var uu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cu(e){return{baseLanes:e,cachePool:xh()}}function du(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Rt),e}function Mf(e,t,n){var i=t.pendingProps,o=!1,d=(t.flags&128)!==0,g;if((g=d)||(g=e!==null&&e.memoizedState===null?!1:(Ie.current&2)!==0),g&&(o=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(_e){if(o?$a(t):Ha(),(e=ze)?(e=Hm(e,Vt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ma!==null?{id:sa,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},n=dh(e),n.return=t,t.child=n,st=t,ze=null)):e=null,e===null)throw Ua(t);return Qu(e)?t.lanes=32:t.lanes=536870912,null}var v=i.children;return i=i.fallback,o?(Ha(),o=t.mode,v=qi({mode:"hidden",children:v},o),i=mn(i,o,n,null),v.return=t,i.return=t,v.sibling=i,t.child=v,i=t.child,i.memoizedState=cu(n),i.childLanes=du(e,g,n),t.memoizedState=uu,ur(null,i)):($a(t),hu(t,v))}var _=e.memoizedState;if(_!==null&&(v=_.dehydrated,v!==null)){if(d)t.flags&256?($a(t),t.flags&=-257,t=fu(e,t,n)):t.memoizedState!==null?(Ha(),t.child=e.child,t.flags|=128,t=null):(Ha(),v=i.fallback,o=t.mode,i=qi({mode:"visible",children:i.children},o),v=mn(v,o,n,null),v.flags|=2,i.return=t,v.return=t,i.sibling=v,t.child=i,wn(t,e.child,null,n),i=t.child,i.memoizedState=cu(n),i.childLanes=du(e,g,n),t.memoizedState=uu,t=ur(null,i));else if($a(t),Qu(v)){if(g=v.nextSibling&&v.nextSibling.dataset,g)var C=g.dgst;g=C,i=Error(l(419)),i.stack="",i.digest=g,Zs({value:i,source:null,stack:null}),t=fu(e,t,n)}else if(Xe||Zn(e,t,n,!1),g=(n&e.childLanes)!==0,Xe||g){if(g=Me,g!==null&&(i=vd(g,n),i!==0&&i!==_.retryLane))throw _.retryLane=i,fn(e,i),xt(g,e,i),lu;Iu(v)||Qi(),t=fu(e,t,n)}else Iu(v)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,ze=It(v.nextSibling),st=t,_e=!0,Da=null,Vt=!1,e!==null&&mh(t,e),t=hu(t,i.children),t.flags|=4096);return t}return o?(Ha(),v=i.fallback,o=t.mode,_=e.child,C=_.sibling,i=da(_,{mode:"hidden",children:i.children}),i.subtreeFlags=_.subtreeFlags&65011712,C!==null?v=da(C,v):(v=mn(v,o,n,null),v.flags|=2),v.return=t,i.return=t,i.sibling=v,t.child=i,ur(null,i),i=t.child,v=e.child.memoizedState,v===null?v=cu(n):(o=v.cachePool,o!==null?(_=Pe._currentValue,o=o.parent!==_?{parent:_,pool:_}:o):o=xh(),v={baseLanes:v.baseLanes|n,cachePool:o}),i.memoizedState=v,i.childLanes=du(e,g,n),t.memoizedState=uu,ur(e.child,i)):($a(t),n=e.child,e=n.sibling,n=da(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=n,t.memoizedState=null,n)}function hu(e,t){return t=qi({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function qi(e,t){return e=Nt(22,e,null,t),e.lanes=0,e}function fu(e,t,n){return wn(t,e.child,null,n),e=hu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Df(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Ao(e.return,t,n)}function mu(e,t,n,i,o,d){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o,treeForkCount:d}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=i,g.tail=n,g.tailMode=o,g.treeForkCount=d)}function Uf(e,t,n){var i=t.pendingProps,o=i.revealOrder,d=i.tail;i=i.children;var g=Ie.current,v=(g&2)!==0;if(v?(g=g&1|2,t.flags|=128):g&=1,I(Ie,g),it(e,t,i,n),i=_e?Xs:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Df(e,n,t);else if(e.tag===19)Df(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Ni(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),mu(t,!1,o,n,d,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ni(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}mu(t,!0,n,null,d,i);break;case"together":mu(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function ya(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Va|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Zn(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,n=da(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=da(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function pu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&vi(e)))}function Ay(e,t,n){switch(t.tag){case 3:dt(t,t.stateNode.containerInfo),za(t,Pe,e.memoizedState.cache),pn();break;case 27:case 5:Us(t);break;case 4:dt(t,t.stateNode.containerInfo);break;case 10:za(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,$o(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?($a(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Mf(e,t,n):($a(t),e=ya(e,t,n),e!==null?e.sibling:null);$a(t);break;case 19:var o=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Zn(e,t,n,!1),i=(n&t.childLanes)!==0),o){if(i)return Uf(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),I(Ie,Ie.current),i)break;return null;case 22:return t.lanes=0,Tf(e,t,n,t.pendingProps);case 24:za(t,Pe,e.memoizedState.cache)}return ya(e,t,n)}function zf(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Xe=!0;else{if(!pu(e,n)&&(t.flags&128)===0)return Xe=!1,Ay(e,t,n);Xe=(e.flags&131072)!==0}else Xe=!1,_e&&(t.flags&1048576)!==0&&fh(t,Xs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=bn(t.elementType),t.type=e,typeof e=="function")xo(e)?(i=Sn(e,i),t.tag=1,t=Cf(null,t,e,i,n)):(t.tag=0,t=ou(null,t,e,i,n));else{if(e!=null){var o=e.$$typeof;if(o===Q){t.tag=11,t=jf(null,t,e,i,n);break e}else if(o===Y){t.tag=14,t=Ef(null,t,e,i,n);break e}}throw t=P(e)||e,Error(l(306,t,""))}}return t;case 0:return ou(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,o=Sn(i,t.pendingProps),Cf(e,t,i,o,n);case 3:e:{if(dt(t,t.stateNode.containerInfo),e===null)throw Error(l(387));i=t.pendingProps;var d=t.memoizedState;o=d.element,Uo(e,t),sr(t,i,null,n);var g=t.memoizedState;if(i=g.cache,za(t,Pe,i),i!==d.cache&&Oo(t,[Pe],n,!0),nr(),i=g.element,d.isDehydrated)if(d={element:i,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=kf(e,t,i,n);break e}else if(i!==o){o=Ht(Error(l(424)),t),Zs(o),t=kf(e,t,i,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ze=It(e.firstChild),st=t,_e=!0,Da=null,Vt=!0,n=Nh(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pn(),i===o){t=ya(e,t,n);break e}it(e,t,i,n)}t=t.child}return t;case 26:return Li(e,t),e===null?(n=Qm(t.type,null,t.pendingProps,null))?t.memoizedState=n:_e||(n=t.type,e=t.pendingProps,i=el(ye.current).createElement(n),i[nt]=t,i[mt]=e,lt(i,n,e),tt(i),t.stateNode=i):t.memoizedState=Qm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Us(t),e===null&&_e&&(i=t.stateNode=Vm(t.type,t.pendingProps,ye.current),st=t,Vt=!0,o=ze,Ja(t.type)?(Pu=o,ze=It(i.firstChild)):ze=o),it(e,t,t.pendingProps.children,n),Li(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&_e&&((o=i=ze)&&(i=sv(i,t.type,t.pendingProps,Vt),i!==null?(t.stateNode=i,st=t,ze=It(i.firstChild),Vt=!1,o=!0):o=!1),o||Ua(t)),Us(t),o=t.type,d=t.pendingProps,g=e!==null?e.memoizedProps:null,i=d.children,Gu(o,d)?i=null:g!==null&&Gu(o,g)&&(t.flags|=32),t.memoizedState!==null&&(o=Ko(e,t,by,null,null,n),jr._currentValue=o),Li(e,t),it(e,t,i,n),t.child;case 6:return e===null&&_e&&((e=n=ze)&&(n=rv(n,t.pendingProps,Vt),n!==null?(t.stateNode=n,st=t,ze=null,e=!0):e=!1),e||Ua(t)),null;case 13:return Mf(e,t,n);case 4:return dt(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=wn(t,null,i,n):it(e,t,i,n),t.child;case 11:return jf(e,t,t.type,t.pendingProps,n);case 7:return it(e,t,t.pendingProps,n),t.child;case 8:return it(e,t,t.pendingProps.children,n),t.child;case 12:return it(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,za(t,t.type,i.value),it(e,t,i.children,n),t.child;case 9:return o=t.type._context,i=t.pendingProps.children,yn(t),o=rt(o),i=i(o),t.flags|=1,it(e,t,i,n),t.child;case 14:return Ef(e,t,t.type,t.pendingProps,n);case 15:return Nf(e,t,t.type,t.pendingProps,n);case 19:return Uf(e,t,n);case 31:return Ty(e,t,n);case 22:return Tf(e,t,n,t.pendingProps);case 24:return yn(t),i=rt(Pe),e===null?(o=ko(),o===null&&(o=Me,d=Ro(),o.pooledCache=d,d.refCount++,d!==null&&(o.pooledCacheLanes|=n),o=d),t.memoizedState={parent:i,cache:o},Do(t),za(t,Pe,o)):((e.lanes&n)!==0&&(Uo(e,t),sr(t,null,null,n),nr()),o=e.memoizedState,d=t.memoizedState,o.parent!==i?(o={parent:i,cache:i},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),za(t,Pe,i)):(i=d.cache,za(t,Pe,i),i!==o.cache&&Oo(t,[Pe],n,!0))),it(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function va(e){e.flags|=4}function gu(e,t,n,i,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(um())e.flags|=8192;else throw xn=_i,Mo}else e.flags&=-16777217}function Lf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Fm(t))if(um())e.flags|=8192;else throw xn=_i,Mo}function Bi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?pd():536870912,e.lanes|=t,us|=t)}function cr(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Le(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&65011712,i|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Oy(e,t,n){var i=t.pendingProps;switch(jo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(t),null;case 1:return Le(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),ma(Pe),Ye(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Xn(t)?va(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,No())),Le(t),null;case 26:var o=t.type,d=t.memoizedState;return e===null?(va(t),d!==null?(Le(t),Lf(t,d)):(Le(t),gu(t,o,null,i,n))):d?d!==e.memoizedState?(va(t),Le(t),Lf(t,d)):(Le(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&va(t),Le(t),gu(t,o,e,i,n)),null;case 27:if(Xr(t),n=ye.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&va(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return Le(t),null}e=F.current,Xn(t)?ph(t):(e=Vm(o,i,n),t.stateNode=e,va(t))}return Le(t),null;case 5:if(Xr(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&va(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return Le(t),null}if(d=F.current,Xn(t))ph(t);else{var g=el(ye.current);switch(d){case 1:d=g.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:d=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":d=g.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":d=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":d=g.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof i.is=="string"?g.createElement("select",{is:i.is}):g.createElement("select"),i.multiple?d.multiple=!0:i.size&&(d.size=i.size);break;default:d=typeof i.is=="string"?g.createElement(o,{is:i.is}):g.createElement(o)}}d[nt]=t,d[mt]=i;e:for(g=t.child;g!==null;){if(g.tag===5||g.tag===6)d.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}t.stateNode=d;e:switch(lt(d,o,i),o){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&va(t)}}return Le(t),gu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&va(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(l(166));if(e=ye.current,Xn(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,o=st,o!==null)switch(o.tag){case 27:case 5:i=o.memoizedProps}e[nt]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||Mm(e.nodeValue,n)),e||Ua(t,!0)}else e=el(e).createTextNode(i),e[nt]=t,t.stateNode=e}return Le(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=Xn(t),n!==null){if(e===null){if(!i)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[nt]=t}else pn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Le(t),e=!1}else n=No(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(At(t),t):(At(t),null);if((t.flags&128)!==0)throw Error(l(558))}return Le(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Xn(t),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(l(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[nt]=t}else pn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Le(t),o=!1}else o=No(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(At(t),t):(At(t),null)}return At(t),(t.flags&128)!==0?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,o=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(o=i.alternate.memoizedState.cachePool.pool),d=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),d!==o&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Bi(t,t.updateQueue),Le(t),null);case 4:return Ye(),e===null&&qu(t.stateNode.containerInfo),Le(t),null;case 10:return ma(t.type),Le(t),null;case 19:if($(Ie),i=t.memoizedState,i===null)return Le(t),null;if(o=(t.flags&128)!==0,d=i.rendering,d===null)if(o)cr(i,!1);else{if(Ge!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=Ni(e),d!==null){for(t.flags|=128,cr(i,!1),e=d.updateQueue,t.updateQueue=e,Bi(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)ch(n,e),n=n.sibling;return I(Ie,Ie.current&1|2),_e&&ha(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&_t()>Vi&&(t.flags|=128,o=!0,cr(i,!1),t.lanes=4194304)}else{if(!o)if(e=Ni(d),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Bi(t,e),cr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!d.alternate&&!_e)return Le(t),null}else 2*_t()-i.renderingStartTime>Vi&&n!==536870912&&(t.flags|=128,o=!0,cr(i,!1),t.lanes=4194304);i.isBackwards?(d.sibling=t.child,t.child=d):(e=i.last,e!==null?e.sibling=d:t.child=d,i.last=d)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=_t(),e.sibling=null,n=Ie.current,I(Ie,o?n&1|2:n&1),_e&&ha(t,i.treeForkCount),e):(Le(t),null);case 22:case 23:return At(t),Bo(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(n&536870912)!==0&&(t.flags&128)===0&&(Le(t),t.subtreeFlags&6&&(t.flags|=8192)):Le(t),n=t.updateQueue,n!==null&&Bi(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&$(vn),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ma(Pe),Le(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function Ry(e,t){switch(jo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ma(Pe),Ye(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Xr(t),null;case 31:if(t.memoizedState!==null){if(At(t),t.alternate===null)throw Error(l(340));pn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(At(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));pn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $(Ie),null;case 4:return Ye(),null;case 10:return ma(t.type),null;case 22:case 23:return At(t),Bo(),e!==null&&$(vn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ma(Pe),null;case 25:return null;default:return null}}function qf(e,t){switch(jo(t),t.tag){case 3:ma(Pe),Ye();break;case 26:case 27:case 5:Xr(t);break;case 4:Ye();break;case 31:t.memoizedState!==null&&At(t);break;case 13:At(t);break;case 19:$(Ie);break;case 10:ma(t.type);break;case 22:case 23:At(t),Bo(),e!==null&&$(vn);break;case 24:ma(Pe)}}function dr(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var o=i.next;n=o;do{if((n.tag&e)===e){i=void 0;var d=n.create,g=n.inst;i=d(),g.destroy=i}n=n.next}while(n!==o)}}catch(v){Ae(t,t.return,v)}}function Ka(e,t,n){try{var i=t.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var d=o.next;i=d;do{if((i.tag&e)===e){var g=i.inst,v=g.destroy;if(v!==void 0){g.destroy=void 0,o=t;var _=n,C=v;try{C()}catch(B){Ae(o,_,B)}}}i=i.next}while(i!==d)}}catch(B){Ae(t,t.return,B)}}function Bf(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Ah(t,n)}catch(i){Ae(e,e.return,i)}}}function $f(e,t,n){n.props=Sn(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){Ae(e,t,i)}}function hr(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(o){Ae(e,t,o)}}function ia(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(o){Ae(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){Ae(e,t,o)}else n.current=null}function Hf(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(o){Ae(e,e.return,o)}}function yu(e,t,n){try{var i=e.stateNode;Fy(i,e.type,n,t),i[mt]=t}catch(o){Ae(e,e.return,o)}}function Kf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ja(e.type)||e.tag===4}function vu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Kf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ja(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bu(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ua));else if(i!==4&&(i===27&&Ja(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(bu(e,t,n),e=e.sibling;e!==null;)bu(e,t,n),e=e.sibling}function $i(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Ja(e.type)&&(n=e.stateNode),e=e.child,e!==null))for($i(e,t,n),e=e.sibling;e!==null;)$i(e,t,n),e=e.sibling}function Gf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);lt(t,i,n),t[nt]=e,t[mt]=n}catch(d){Ae(e,e.return,d)}}var ba=!1,Ze=!1,xu=!1,Vf=typeof WeakSet=="function"?WeakSet:Set,at=null;function Cy(e,t){if(e=e.containerInfo,Hu=ll,e=th(e),fo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var o=i.anchorOffset,d=i.focusNode;i=i.focusOffset;try{n.nodeType,d.nodeType}catch{n=null;break e}var g=0,v=-1,_=-1,C=0,B=0,K=e,D=null;t:for(;;){for(var q;K!==n||o!==0&&K.nodeType!==3||(v=g+o),K!==d||i!==0&&K.nodeType!==3||(_=g+i),K.nodeType===3&&(g+=K.nodeValue.length),(q=K.firstChild)!==null;)D=K,K=q;for(;;){if(K===e)break t;if(D===n&&++C===o&&(v=g),D===d&&++B===i&&(_=g),(q=K.nextSibling)!==null)break;K=D,D=K.parentNode}K=q}n=v===-1||_===-1?null:{start:v,end:_}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ku={focusedElem:e,selectionRange:n},ll=!1,at=t;at!==null;)if(t=at,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,at=e;else for(;at!==null;){switch(t=at,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)o=e[n],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,n=t,o=d.memoizedProps,d=d.memoizedState,i=n.stateNode;try{var X=Sn(n.type,o);e=i.getSnapshotBeforeUpdate(X,d),i.__reactInternalSnapshotBeforeUpdate=e}catch(re){Ae(n,n.return,re)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Yu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Yu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,at=e;break}at=t.return}}function Yf(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:wa(e,n),i&4&&dr(5,n);break;case 1:if(wa(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(g){Ae(n,n.return,g)}else{var o=Sn(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Ae(n,n.return,g)}}i&64&&Bf(n),i&512&&hr(n,n.return);break;case 3:if(wa(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Ah(e,t)}catch(g){Ae(n,n.return,g)}}break;case 27:t===null&&i&4&&Gf(n);case 26:case 5:wa(e,n),t===null&&i&4&&Hf(n),i&512&&hr(n,n.return);break;case 12:wa(e,n);break;case 31:wa(e,n),i&4&&Pf(e,n);break;case 13:wa(e,n),i&4&&Jf(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=$y.bind(null,n),iv(e,n))));break;case 22:if(i=n.memoizedState!==null||ba,!i){t=t!==null&&t.memoizedState!==null||Ze,o=ba;var d=Ze;ba=i,(Ze=t)&&!d?_a(e,n,(n.subtreeFlags&8772)!==0):wa(e,n),ba=o,Ze=d}break;case 30:break;default:wa(e,n)}}function If(e){var t=e.alternate;t!==null&&(e.alternate=null,If(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Jl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qe=null,gt=!1;function xa(e,t,n){for(n=n.child;n!==null;)Qf(e,t,n),n=n.sibling}function Qf(e,t,n){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(zs,n)}catch{}switch(n.tag){case 26:Ze||ia(n,t),xa(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ze||ia(n,t);var i=qe,o=gt;Ja(n.type)&&(qe=n.stateNode,gt=!1),xa(e,t,n),wr(n.stateNode),qe=i,gt=o;break;case 5:Ze||ia(n,t);case 6:if(i=qe,o=gt,qe=null,xa(e,t,n),qe=i,gt=o,qe!==null)if(gt)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(n.stateNode)}catch(d){Ae(n,t,d)}else try{qe.removeChild(n.stateNode)}catch(d){Ae(n,t,d)}break;case 18:qe!==null&&(gt?(e=qe,Bm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ys(e)):Bm(qe,n.stateNode));break;case 4:i=qe,o=gt,qe=n.stateNode.containerInfo,gt=!0,xa(e,t,n),qe=i,gt=o;break;case 0:case 11:case 14:case 15:Ka(2,n,t),Ze||Ka(4,n,t),xa(e,t,n);break;case 1:Ze||(ia(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&$f(n,t,i)),xa(e,t,n);break;case 21:xa(e,t,n);break;case 22:Ze=(i=Ze)||n.memoizedState!==null,xa(e,t,n),Ze=i;break;default:xa(e,t,n)}}function Pf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ys(e)}catch(n){Ae(t,t.return,n)}}}function Jf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ys(e)}catch(n){Ae(t,t.return,n)}}function ky(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Vf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Vf),t;default:throw Error(l(435,e.tag))}}function Hi(e,t){var n=ky(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var o=Hy.bind(null,e,i);i.then(o,o)}})}function yt(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i],d=e,g=t,v=g;e:for(;v!==null;){switch(v.tag){case 27:if(Ja(v.type)){qe=v.stateNode,gt=!1;break e}break;case 5:qe=v.stateNode,gt=!1;break e;case 3:case 4:qe=v.stateNode.containerInfo,gt=!0;break e}v=v.return}if(qe===null)throw Error(l(160));Qf(d,g,o),qe=null,gt=!1,d=o.alternate,d!==null&&(d.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Xf(t,e),t=t.sibling}var Zt=null;function Xf(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:yt(t,e),vt(e),i&4&&(Ka(3,e,e.return),dr(3,e),Ka(5,e,e.return));break;case 1:yt(t,e),vt(e),i&512&&(Ze||n===null||ia(n,n.return)),i&64&&ba&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var o=Zt;if(yt(t,e),vt(e),i&512&&(Ze||n===null||ia(n,n.return)),i&4){var d=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":d=o.getElementsByTagName("title")[0],(!d||d[Bs]||d[nt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=o.createElement(i),o.head.insertBefore(d,o.querySelector("head > title"))),lt(d,i,n),d[nt]=e,tt(d),i=d;break e;case"link":var g=Xm("link","href",o).get(i+(n.href||""));if(g){for(var v=0;v<g.length;v++)if(d=g[v],d.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&d.getAttribute("rel")===(n.rel==null?null:n.rel)&&d.getAttribute("title")===(n.title==null?null:n.title)&&d.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){g.splice(v,1);break t}}d=o.createElement(i),lt(d,i,n),o.head.appendChild(d);break;case"meta":if(g=Xm("meta","content",o).get(i+(n.content||""))){for(v=0;v<g.length;v++)if(d=g[v],d.getAttribute("content")===(n.content==null?null:""+n.content)&&d.getAttribute("name")===(n.name==null?null:n.name)&&d.getAttribute("property")===(n.property==null?null:n.property)&&d.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&d.getAttribute("charset")===(n.charSet==null?null:n.charSet)){g.splice(v,1);break t}}d=o.createElement(i),lt(d,i,n),o.head.appendChild(d);break;default:throw Error(l(468,i))}d[nt]=e,tt(d),i=d}e.stateNode=i}else Zm(o,e.type,e.stateNode);else e.stateNode=Jm(o,i,e.memoizedProps);else d!==i?(d===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):d.count--,i===null?Zm(o,e.type,e.stateNode):Jm(o,i,e.memoizedProps)):i===null&&e.stateNode!==null&&yu(e,e.memoizedProps,n.memoizedProps)}break;case 27:yt(t,e),vt(e),i&512&&(Ze||n===null||ia(n,n.return)),n!==null&&i&4&&yu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(yt(t,e),vt(e),i&512&&(Ze||n===null||ia(n,n.return)),e.flags&32){o=e.stateNode;try{$n(o,"")}catch(X){Ae(e,e.return,X)}}i&4&&e.stateNode!=null&&(o=e.memoizedProps,yu(e,o,n!==null?n.memoizedProps:o)),i&1024&&(xu=!0);break;case 6:if(yt(t,e),vt(e),i&4){if(e.stateNode===null)throw Error(l(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(X){Ae(e,e.return,X)}}break;case 3:if(nl=null,o=Zt,Zt=tl(t.containerInfo),yt(t,e),Zt=o,vt(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ys(t.containerInfo)}catch(X){Ae(e,e.return,X)}xu&&(xu=!1,Zf(e));break;case 4:i=Zt,Zt=tl(e.stateNode.containerInfo),yt(t,e),vt(e),Zt=i;break;case 12:yt(t,e),vt(e);break;case 31:yt(t,e),vt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Hi(e,i)));break;case 13:yt(t,e),vt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Gi=_t()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Hi(e,i)));break;case 22:o=e.memoizedState!==null;var _=n!==null&&n.memoizedState!==null,C=ba,B=Ze;if(ba=C||o,Ze=B||_,yt(t,e),Ze=B,ba=C,vt(e),i&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||_||ba||Ze||jn(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){_=n=t;try{if(d=_.stateNode,o)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{v=_.stateNode;var K=_.memoizedProps.style,D=K!=null&&K.hasOwnProperty("display")?K.display:null;v.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(X){Ae(_,_.return,X)}}}else if(t.tag===6){if(n===null){_=t;try{_.stateNode.nodeValue=o?"":_.memoizedProps}catch(X){Ae(_,_.return,X)}}}else if(t.tag===18){if(n===null){_=t;try{var q=_.stateNode;o?$m(q,!0):$m(_.stateNode,!1)}catch(X){Ae(_,_.return,X)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Hi(e,n))));break;case 19:yt(t,e),vt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Hi(e,i)));break;case 30:break;case 21:break;default:yt(t,e),vt(e)}}function vt(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(Kf(i)){n=i;break}i=i.return}if(n==null)throw Error(l(160));switch(n.tag){case 27:var o=n.stateNode,d=vu(e);$i(e,d,o);break;case 5:var g=n.stateNode;n.flags&32&&($n(g,""),n.flags&=-33);var v=vu(e);$i(e,v,g);break;case 3:case 4:var _=n.stateNode.containerInfo,C=vu(e);bu(e,C,_);break;default:throw Error(l(161))}}catch(B){Ae(e,e.return,B)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Zf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Zf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function wa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Yf(e,t.alternate,t),t=t.sibling}function jn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ka(4,t,t.return),jn(t);break;case 1:ia(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&$f(t,t.return,n),jn(t);break;case 27:wr(t.stateNode);case 26:case 5:ia(t,t.return),jn(t);break;case 22:t.memoizedState===null&&jn(t);break;case 30:jn(t);break;default:jn(t)}e=e.sibling}}function _a(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,o=e,d=t,g=d.flags;switch(d.tag){case 0:case 11:case 15:_a(o,d,n),dr(4,d);break;case 1:if(_a(o,d,n),i=d,o=i.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(C){Ae(i,i.return,C)}if(i=d,o=i.updateQueue,o!==null){var v=i.stateNode;try{var _=o.shared.hiddenCallbacks;if(_!==null)for(o.shared.hiddenCallbacks=null,o=0;o<_.length;o++)Th(_[o],v)}catch(C){Ae(i,i.return,C)}}n&&g&64&&Bf(d),hr(d,d.return);break;case 27:Gf(d);case 26:case 5:_a(o,d,n),n&&i===null&&g&4&&Hf(d),hr(d,d.return);break;case 12:_a(o,d,n);break;case 31:_a(o,d,n),n&&g&4&&Pf(o,d);break;case 13:_a(o,d,n),n&&g&4&&Jf(o,d);break;case 22:d.memoizedState===null&&_a(o,d,n),hr(d,d.return);break;case 30:break;default:_a(o,d,n)}t=t.sibling}}function wu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Fs(n))}function _u(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Fs(e))}function Ft(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ff(e,t,n,i),t=t.sibling}function Ff(e,t,n,i){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Ft(e,t,n,i),o&2048&&dr(9,t);break;case 1:Ft(e,t,n,i);break;case 3:Ft(e,t,n,i),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Fs(e)));break;case 12:if(o&2048){Ft(e,t,n,i),e=t.stateNode;try{var d=t.memoizedProps,g=d.id,v=d.onPostCommit;typeof v=="function"&&v(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){Ae(t,t.return,_)}}else Ft(e,t,n,i);break;case 31:Ft(e,t,n,i);break;case 13:Ft(e,t,n,i);break;case 23:break;case 22:d=t.stateNode,g=t.alternate,t.memoizedState!==null?d._visibility&2?Ft(e,t,n,i):fr(e,t):d._visibility&2?Ft(e,t,n,i):(d._visibility|=2,is(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),o&2048&&wu(g,t);break;case 24:Ft(e,t,n,i),o&2048&&_u(t.alternate,t);break;default:Ft(e,t,n,i)}}function is(e,t,n,i,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,g=t,v=n,_=i,C=g.flags;switch(g.tag){case 0:case 11:case 15:is(d,g,v,_,o),dr(8,g);break;case 23:break;case 22:var B=g.stateNode;g.memoizedState!==null?B._visibility&2?is(d,g,v,_,o):fr(d,g):(B._visibility|=2,is(d,g,v,_,o)),o&&C&2048&&wu(g.alternate,g);break;case 24:is(d,g,v,_,o),o&&C&2048&&_u(g.alternate,g);break;default:is(d,g,v,_,o)}t=t.sibling}}function fr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,o=i.flags;switch(i.tag){case 22:fr(n,i),o&2048&&wu(i.alternate,i);break;case 24:fr(n,i),o&2048&&_u(i.alternate,i);break;default:fr(n,i)}t=t.sibling}}var mr=8192;function ls(e,t,n){if(e.subtreeFlags&mr)for(e=e.child;e!==null;)Wf(e,t,n),e=e.sibling}function Wf(e,t,n){switch(e.tag){case 26:ls(e,t,n),e.flags&mr&&e.memoizedState!==null&&vv(n,Zt,e.memoizedState,e.memoizedProps);break;case 5:ls(e,t,n);break;case 3:case 4:var i=Zt;Zt=tl(e.stateNode.containerInfo),ls(e,t,n),Zt=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=mr,mr=16777216,ls(e,t,n),mr=i):ls(e,t,n));break;default:ls(e,t,n)}}function em(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function pr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];at=i,am(i,e)}em(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)tm(e),e=e.sibling}function tm(e){switch(e.tag){case 0:case 11:case 15:pr(e),e.flags&2048&&Ka(9,e,e.return);break;case 3:pr(e);break;case 12:pr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ki(e)):pr(e);break;default:pr(e)}}function Ki(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];at=i,am(i,e)}em(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ka(8,t,t.return),Ki(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Ki(t));break;default:Ki(t)}e=e.sibling}}function am(e,t){for(;at!==null;){var n=at;switch(n.tag){case 0:case 11:case 15:Ka(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Fs(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,at=i;else e:for(n=e;at!==null;){i=at;var o=i.sibling,d=i.return;if(If(i),i===n){at=null;break e}if(o!==null){o.return=d,at=o;break e}at=d}}}var My={getCacheForType:function(e){var t=rt(Pe),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return rt(Pe).controller.signal}},Dy=typeof WeakMap=="function"?WeakMap:Map,Ee=0,Me=null,ve=null,xe=0,Te=0,Ot=null,Ga=!1,os=!1,Su=!1,Sa=0,Ge=0,Va=0,En=0,ju=0,Rt=0,us=0,gr=null,bt=null,Eu=!1,Gi=0,nm=0,Vi=1/0,Yi=null,Ya=null,We=0,Ia=null,cs=null,ja=0,Nu=0,Tu=null,sm=null,yr=0,Au=null;function Ct(){return(Ee&2)!==0&&xe!==0?xe&-xe:k.T!==null?Du():bd()}function rm(){if(Rt===0)if((xe&536870912)===0||_e){var e=Wr;Wr<<=1,(Wr&3932160)===0&&(Wr=262144),Rt=e}else Rt=536870912;return e=Tt.current,e!==null&&(e.flags|=32),Rt}function xt(e,t,n){(e===Me&&(Te===2||Te===9)||e.cancelPendingCommit!==null)&&(ds(e,0),Qa(e,xe,Rt,!1)),qs(e,n),((Ee&2)===0||e!==Me)&&(e===Me&&((Ee&2)===0&&(En|=n),Ge===4&&Qa(e,xe,Rt,!1)),la(e))}function im(e,t,n){if((Ee&6)!==0)throw Error(l(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Ls(e,t),o=i?Ly(e,t):Ru(e,t,!0),d=i;do{if(o===0){os&&!i&&Qa(e,t,0,!1);break}else{if(n=e.current.alternate,d&&!Uy(n)){o=Ru(e,t,!1),d=!1;continue}if(o===2){if(d=t,e.errorRecoveryDisabledLanes&d)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var v=e;o=gr;var _=v.current.memoizedState.isDehydrated;if(_&&(ds(v,g).flags|=256),g=Ru(v,g,!1),g!==2){if(Su&&!_){v.errorRecoveryDisabledLanes|=d,En|=d,o=4;break e}d=bt,bt=o,d!==null&&(bt===null?bt=d:bt.push.apply(bt,d))}o=g}if(d=!1,o!==2)continue}}if(o===1){ds(e,0),Qa(e,t,0,!0);break}e:{switch(i=e,d=o,d){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Qa(i,t,Rt,!Ga);break e;case 2:bt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(o=Gi+300-_t(),10<o)){if(Qa(i,t,Rt,!Ga),ti(i,0,!0)!==0)break e;ja=t,i.timeoutHandle=Lm(lm.bind(null,i,n,bt,Yi,Eu,t,Rt,En,us,Ga,d,"Throttled",-0,0),o);break e}lm(i,n,bt,Yi,Eu,t,Rt,En,us,Ga,d,null,-0,0)}}break}while(!0);la(e)}function lm(e,t,n,i,o,d,g,v,_,C,B,K,D,q){if(e.timeoutHandle=-1,K=t.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ua},Wf(t,d,K);var X=(d&62914560)===d?Gi-_t():(d&4194048)===d?nm-_t():0;if(X=bv(K,X),X!==null){ja=d,e.cancelPendingCommit=X(pm.bind(null,e,t,d,n,i,o,g,v,_,B,K,null,D,q)),Qa(e,d,g,!C);return}}pm(e,t,d,n,i,o,g,v,_)}function Uy(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var o=n[i],d=o.getSnapshot;o=o.value;try{if(!Et(d(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qa(e,t,n,i){t&=~ju,t&=~En,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var o=t;0<o;){var d=31-jt(o),g=1<<d;i[d]=-1,o&=~g}n!==0&&gd(e,n,t)}function Ii(){return(Ee&6)===0?(vr(0),!1):!0}function Ou(){if(ve!==null){if(Te===0)var e=ve.return;else e=ve,fa=gn=null,Yo(e),ts=null,er=0,e=ve;for(;e!==null;)qf(e.alternate,e),e=e.return;ve=null}}function ds(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,tv(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),ja=0,Ou(),Me=e,ve=n=da(e.current,null),xe=t,Te=0,Ot=null,Ga=!1,os=Ls(e,t),Su=!1,us=Rt=ju=En=Va=Ge=0,bt=gr=null,Eu=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var o=31-jt(i),d=1<<o;t|=e[o],i&=~d}return Sa=t,fi(),n}function om(e,t){he=null,k.H=or,t===es||t===wi?(t=Sh(),Te=3):t===Mo?(t=Sh(),Te=4):Te=t===lu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ot=t,ve===null&&(Ge=1,Ui(e,Ht(t,e.current)))}function um(){var e=Tt.current;return e===null?!0:(xe&4194048)===xe?Yt===null:(xe&62914560)===xe||(xe&536870912)!==0?e===Yt:!1}function cm(){var e=k.H;return k.H=or,e===null?or:e}function dm(){var e=k.A;return k.A=My,e}function Qi(){Ge=4,Ga||(xe&4194048)!==xe&&Tt.current!==null||(os=!0),(Va&134217727)===0&&(En&134217727)===0||Me===null||Qa(Me,xe,Rt,!1)}function Ru(e,t,n){var i=Ee;Ee|=2;var o=cm(),d=dm();(Me!==e||xe!==t)&&(Yi=null,ds(e,t)),t=!1;var g=Ge;e:do try{if(Te!==0&&ve!==null){var v=ve,_=Ot;switch(Te){case 8:Ou(),g=6;break e;case 3:case 2:case 9:case 6:Tt.current===null&&(t=!0);var C=Te;if(Te=0,Ot=null,hs(e,v,_,C),n&&os){g=0;break e}break;default:C=Te,Te=0,Ot=null,hs(e,v,_,C)}}zy(),g=Ge;break}catch(B){om(e,B)}while(!0);return t&&e.shellSuspendCounter++,fa=gn=null,Ee=i,k.H=o,k.A=d,ve===null&&(Me=null,xe=0,fi()),g}function zy(){for(;ve!==null;)hm(ve)}function Ly(e,t){var n=Ee;Ee|=2;var i=cm(),o=dm();Me!==e||xe!==t?(Yi=null,Vi=_t()+500,ds(e,t)):os=Ls(e,t);e:do try{if(Te!==0&&ve!==null){t=ve;var d=Ot;t:switch(Te){case 1:Te=0,Ot=null,hs(e,t,d,1);break;case 2:case 9:if(wh(d)){Te=0,Ot=null,fm(t);break}t=function(){Te!==2&&Te!==9||Me!==e||(Te=7),la(e)},d.then(t,t);break e;case 3:Te=7;break e;case 4:Te=5;break e;case 7:wh(d)?(Te=0,Ot=null,fm(t)):(Te=0,Ot=null,hs(e,t,d,7));break;case 5:var g=null;switch(ve.tag){case 26:g=ve.memoizedState;case 5:case 27:var v=ve;if(g?Fm(g):v.stateNode.complete){Te=0,Ot=null;var _=v.sibling;if(_!==null)ve=_;else{var C=v.return;C!==null?(ve=C,Pi(C)):ve=null}break t}}Te=0,Ot=null,hs(e,t,d,5);break;case 6:Te=0,Ot=null,hs(e,t,d,6);break;case 8:Ou(),Ge=6;break e;default:throw Error(l(462))}}qy();break}catch(B){om(e,B)}while(!0);return fa=gn=null,k.H=i,k.A=o,Ee=n,ve!==null?0:(Me=null,xe=0,fi(),Ge)}function qy(){for(;ve!==null&&!lg();)hm(ve)}function hm(e){var t=zf(e.alternate,e,Sa);e.memoizedProps=e.pendingProps,t===null?Pi(e):ve=t}function fm(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Rf(n,t,t.pendingProps,t.type,void 0,xe);break;case 11:t=Rf(n,t,t.pendingProps,t.type.render,t.ref,xe);break;case 5:Yo(t);default:qf(n,t),t=ve=ch(t,Sa),t=zf(n,t,Sa)}e.memoizedProps=e.pendingProps,t===null?Pi(e):ve=t}function hs(e,t,n,i){fa=gn=null,Yo(t),ts=null,er=0;var o=t.return;try{if(Ny(e,o,t,n,xe)){Ge=1,Ui(e,Ht(n,e.current)),ve=null;return}}catch(d){if(o!==null)throw ve=o,d;Ge=1,Ui(e,Ht(n,e.current)),ve=null;return}t.flags&32768?(_e||i===1?e=!0:os||(xe&536870912)!==0?e=!1:(Ga=e=!0,(i===2||i===9||i===3||i===6)&&(i=Tt.current,i!==null&&i.tag===13&&(i.flags|=16384))),mm(t,e)):Pi(t)}function Pi(e){var t=e;do{if((t.flags&32768)!==0){mm(t,Ga);return}e=t.return;var n=Oy(t.alternate,t,Sa);if(n!==null){ve=n;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);Ge===0&&(Ge=5)}function mm(e,t){do{var n=Ry(e.alternate,e);if(n!==null){n.flags&=32767,ve=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ve=e;return}ve=e=n}while(e!==null);Ge=6,ve=null}function pm(e,t,n,i,o,d,g,v,_){e.cancelPendingCommit=null;do Ji();while(We!==0);if((Ee&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(d=t.lanes|t.childLanes,d|=vo,yg(e,n,d,g,v,_),e===Me&&(ve=Me=null,xe=0),cs=t,Ia=e,ja=n,Nu=d,Tu=o,sm=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ky(Zr,function(){return xm(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=k.T,k.T=null,o=V.p,V.p=2,g=Ee,Ee|=4;try{Cy(e,t,n)}finally{Ee=g,V.p=o,k.T=i}}We=1,gm(),ym(),vm()}}function gm(){if(We===1){We=0;var e=Ia,t=cs,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=k.T,k.T=null;var i=V.p;V.p=2;var o=Ee;Ee|=4;try{Xf(t,e);var d=Ku,g=th(e.containerInfo),v=d.focusedElem,_=d.selectionRange;if(g!==v&&v&&v.ownerDocument&&eh(v.ownerDocument.documentElement,v)){if(_!==null&&fo(v)){var C=_.start,B=_.end;if(B===void 0&&(B=C),"selectionStart"in v)v.selectionStart=C,v.selectionEnd=Math.min(B,v.value.length);else{var K=v.ownerDocument||document,D=K&&K.defaultView||window;if(D.getSelection){var q=D.getSelection(),X=v.textContent.length,re=Math.min(_.start,X),ke=_.end===void 0?re:Math.min(_.end,X);!q.extend&&re>ke&&(g=ke,ke=re,re=g);var A=Wd(v,re),j=Wd(v,ke);if(A&&j&&(q.rangeCount!==1||q.anchorNode!==A.node||q.anchorOffset!==A.offset||q.focusNode!==j.node||q.focusOffset!==j.offset)){var R=K.createRange();R.setStart(A.node,A.offset),q.removeAllRanges(),re>ke?(q.addRange(R),q.extend(j.node,j.offset)):(R.setEnd(j.node,j.offset),q.addRange(R))}}}}for(K=[],q=v;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<K.length;v++){var H=K[v];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}ll=!!Hu,Ku=Hu=null}finally{Ee=o,V.p=i,k.T=n}}e.current=t,We=2}}function ym(){if(We===2){We=0;var e=Ia,t=cs,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=k.T,k.T=null;var i=V.p;V.p=2;var o=Ee;Ee|=4;try{Yf(e,t.alternate,t)}finally{Ee=o,V.p=i,k.T=n}}We=3}}function vm(){if(We===4||We===3){We=0,og();var e=Ia,t=cs,n=ja,i=sm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?We=5:(We=0,cs=Ia=null,bm(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Ya=null),Ql(n),t=t.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(zs,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=k.T,o=V.p,V.p=2,k.T=null;try{for(var d=e.onRecoverableError,g=0;g<i.length;g++){var v=i[g];d(v.value,{componentStack:v.stack})}}finally{k.T=t,V.p=o}}(ja&3)!==0&&Ji(),la(e),o=e.pendingLanes,(n&261930)!==0&&(o&42)!==0?e===Au?yr++:(yr=0,Au=e):yr=0,vr(0)}}function bm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Fs(t)))}function Ji(){return gm(),ym(),vm(),xm()}function xm(){if(We!==5)return!1;var e=Ia,t=Nu;Nu=0;var n=Ql(ja),i=k.T,o=V.p;try{V.p=32>n?32:n,k.T=null,n=Tu,Tu=null;var d=Ia,g=ja;if(We=0,cs=Ia=null,ja=0,(Ee&6)!==0)throw Error(l(331));var v=Ee;if(Ee|=4,tm(d.current),Ff(d,d.current,g,n),Ee=v,vr(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(zs,d)}catch{}return!0}finally{V.p=o,k.T=i,bm(e,t)}}function wm(e,t,n){t=Ht(n,t),t=iu(e.stateNode,t,2),e=Ba(e,t,2),e!==null&&(qs(e,2),la(e))}function Ae(e,t,n){if(e.tag===3)wm(e,e,n);else for(;t!==null;){if(t.tag===3){wm(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ya===null||!Ya.has(i))){e=Ht(n,e),n=_f(2),i=Ba(t,n,2),i!==null&&(Sf(n,i,t,e),qs(i,2),la(i));break}}t=t.return}}function Cu(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new Dy;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(n)||(Su=!0,o.add(n),e=By.bind(null,e,t,n),t.then(e,e))}function By(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Me===e&&(xe&n)===n&&(Ge===4||Ge===3&&(xe&62914560)===xe&&300>_t()-Gi?(Ee&2)===0&&ds(e,0):ju|=n,us===xe&&(us=0)),la(e)}function _m(e,t){t===0&&(t=pd()),e=fn(e,t),e!==null&&(qs(e,t),la(e))}function $y(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),_m(e,n)}function Hy(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(l(314))}i!==null&&i.delete(t),_m(e,n)}function Ky(e,t){return Gl(e,t)}var Xi=null,fs=null,ku=!1,Zi=!1,Mu=!1,Pa=0;function la(e){e!==fs&&e.next===null&&(fs===null?Xi=fs=e:fs=fs.next=e),Zi=!0,ku||(ku=!0,Vy())}function vr(e,t){if(!Mu&&Zi){Mu=!0;do for(var n=!1,i=Xi;i!==null;){if(e!==0){var o=i.pendingLanes;if(o===0)var d=0;else{var g=i.suspendedLanes,v=i.pingedLanes;d=(1<<31-jt(42|e)+1)-1,d&=o&~(g&~v),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(n=!0,Nm(i,d))}else d=xe,d=ti(i,i===Me?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(d&3)===0||Ls(i,d)||(n=!0,Nm(i,d));i=i.next}while(n);Mu=!1}}function Gy(){Sm()}function Sm(){Zi=ku=!1;var e=0;Pa!==0&&ev()&&(e=Pa);for(var t=_t(),n=null,i=Xi;i!==null;){var o=i.next,d=jm(i,t);d===0?(i.next=null,n===null?Xi=o:n.next=o,o===null&&(fs=n)):(n=i,(e!==0||(d&3)!==0)&&(Zi=!0)),i=o}We!==0&&We!==5||vr(e),Pa!==0&&(Pa=0)}function jm(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var g=31-jt(d),v=1<<g,_=o[g];_===-1?((v&n)===0||(v&i)!==0)&&(o[g]=gg(v,t)):_<=t&&(e.expiredLanes|=v),d&=~v}if(t=Me,n=xe,n=ti(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(Te===2||Te===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Vl(i),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Ls(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Vl(i),Ql(n)){case 2:case 8:n=fd;break;case 32:n=Zr;break;case 268435456:n=md;break;default:n=Zr}return i=Em.bind(null,e),n=Gl(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Vl(i),e.callbackPriority=2,e.callbackNode=null,2}function Em(e,t){if(We!==0&&We!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Ji()&&e.callbackNode!==n)return null;var i=xe;return i=ti(e,e===Me?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(im(e,i,t),jm(e,_t()),e.callbackNode!=null&&e.callbackNode===n?Em.bind(null,e):null)}function Nm(e,t){if(Ji())return null;im(e,t,!0)}function Vy(){av(function(){(Ee&6)!==0?Gl(hd,Gy):Sm()})}function Du(){if(Pa===0){var e=Fn;e===0&&(e=Fr,Fr<<=1,(Fr&261888)===0&&(Fr=256)),Pa=e}return Pa}function Tm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ri(""+e)}function Am(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Yy(e,t,n,i,o){if(t==="submit"&&n&&n.stateNode===o){var d=Tm((o[mt]||null).action),g=i.submitter;g&&(t=(t=g[mt]||null)?Tm(t.formAction):g.getAttribute("formAction"),t!==null&&(d=t,g=null));var v=new ui("action","action",null,i,o);e.push({event:v,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Pa!==0){var _=g?Am(o,g):new FormData(o);eu(n,{pending:!0,data:_,method:o.method,action:d},null,_)}}else typeof d=="function"&&(v.preventDefault(),_=g?Am(o,g):new FormData(o),eu(n,{pending:!0,data:_,method:o.method,action:d},d,_))},currentTarget:o}]})}}for(var Uu=0;Uu<yo.length;Uu++){var zu=yo[Uu],Iy=zu.toLowerCase(),Qy=zu[0].toUpperCase()+zu.slice(1);Xt(Iy,"on"+Qy)}Xt(sh,"onAnimationEnd"),Xt(rh,"onAnimationIteration"),Xt(ih,"onAnimationStart"),Xt("dblclick","onDoubleClick"),Xt("focusin","onFocus"),Xt("focusout","onBlur"),Xt(uy,"onTransitionRun"),Xt(cy,"onTransitionStart"),Xt(dy,"onTransitionCancel"),Xt(lh,"onTransitionEnd"),qn("onMouseEnter",["mouseout","mouseover"]),qn("onMouseLeave",["mouseout","mouseover"]),qn("onPointerEnter",["pointerout","pointerover"]),qn("onPointerLeave",["pointerout","pointerover"]),un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),un("onBeforeInput",["compositionend","keypress","textInput","paste"]),un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var br="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Py=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(br));function Om(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],o=i.event;i=i.listeners;e:{var d=void 0;if(t)for(var g=i.length-1;0<=g;g--){var v=i[g],_=v.instance,C=v.currentTarget;if(v=v.listener,_!==d&&o.isPropagationStopped())break e;d=v,o.currentTarget=C;try{d(o)}catch(B){hi(B)}o.currentTarget=null,d=_}else for(g=0;g<i.length;g++){if(v=i[g],_=v.instance,C=v.currentTarget,v=v.listener,_!==d&&o.isPropagationStopped())break e;d=v,o.currentTarget=C;try{d(o)}catch(B){hi(B)}o.currentTarget=null,d=_}}}}function be(e,t){var n=t[Pl];n===void 0&&(n=t[Pl]=new Set);var i=e+"__bubble";n.has(i)||(Rm(t,e,2,!1),n.add(i))}function Lu(e,t,n){var i=0;t&&(i|=4),Rm(n,e,i,t)}var Fi="_reactListening"+Math.random().toString(36).slice(2);function qu(e){if(!e[Fi]){e[Fi]=!0,_d.forEach(function(n){n!=="selectionchange"&&(Py.has(n)||Lu(n,!1,e),Lu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fi]||(t[Fi]=!0,Lu("selectionchange",!1,t))}}function Rm(e,t,n,i){switch(r0(t)){case 2:var o=_v;break;case 8:o=Sv;break;default:o=Wu}n=o.bind(null,t,n,e),o=void 0,!no||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Bu(e,t,n,i,o){var d=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var g=i.tag;if(g===3||g===4){var v=i.stateNode.containerInfo;if(v===o)break;if(g===4)for(g=i.return;g!==null;){var _=g.tag;if((_===3||_===4)&&g.stateNode.containerInfo===o)return;g=g.return}for(;v!==null;){if(g=Un(v),g===null)return;if(_=g.tag,_===5||_===6||_===26||_===27){i=d=g;continue e}v=v.parentNode}}i=i.return}Dd(function(){var C=d,B=to(n),K=[];e:{var D=oh.get(e);if(D!==void 0){var q=ui,X=e;switch(e){case"keypress":if(li(n)===0)break e;case"keydown":case"keyup":q=Hg;break;case"focusin":X="focus",q=lo;break;case"focusout":X="blur",q=lo;break;case"beforeblur":case"afterblur":q=lo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Ld;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Og;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Vg;break;case sh:case rh:case ih:q=kg;break;case lh:q=Ig;break;case"scroll":case"scrollend":q=Tg;break;case"wheel":q=Pg;break;case"copy":case"cut":case"paste":q=Dg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Bd;break;case"toggle":case"beforetoggle":q=Xg}var re=(t&4)!==0,ke=!re&&(e==="scroll"||e==="scrollend"),A=re?D!==null?D+"Capture":null:D;re=[];for(var j=C,R;j!==null;){var H=j;if(R=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||R===null||A===null||(H=Hs(j,A),H!=null&&re.push(xr(j,H,R))),ke)break;j=j.return}0<re.length&&(D=new q(D,X,null,n,B),K.push({event:D,listeners:re}))}}if((t&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",D&&n!==eo&&(X=n.relatedTarget||n.fromElement)&&(Un(X)||X[Dn]))break e;if((q||D)&&(D=B.window===B?B:(D=B.ownerDocument)?D.defaultView||D.parentWindow:window,q?(X=n.relatedTarget||n.toElement,q=C,X=X?Un(X):null,X!==null&&(ke=h(X),re=X.tag,X!==ke||re!==5&&re!==27&&re!==6)&&(X=null)):(q=null,X=C),q!==X)){if(re=Ld,H="onMouseLeave",A="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(re=Bd,H="onPointerLeave",A="onPointerEnter",j="pointer"),ke=q==null?D:$s(q),R=X==null?D:$s(X),D=new re(H,j+"leave",q,n,B),D.target=ke,D.relatedTarget=R,H=null,Un(B)===C&&(re=new re(A,j+"enter",X,n,B),re.target=R,re.relatedTarget=ke,H=re),ke=H,q&&X)t:{for(re=Jy,A=q,j=X,R=0,H=A;H;H=re(H))R++;H=0;for(var ne=j;ne;ne=re(ne))H++;for(;0<R-H;)A=re(A),R--;for(;0<H-R;)j=re(j),H--;for(;R--;){if(A===j||j!==null&&A===j.alternate){re=A;break t}A=re(A),j=re(j)}re=null}else re=null;q!==null&&Cm(K,D,q,re,!1),X!==null&&ke!==null&&Cm(K,ke,X,re,!0)}}e:{if(D=C?$s(C):window,q=D.nodeName&&D.nodeName.toLowerCase(),q==="select"||q==="input"&&D.type==="file")var Se=Qd;else if(Yd(D))if(Pd)Se=iy;else{Se=sy;var W=ny}else q=D.nodeName,!q||q.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?C&&Wl(C.elementType)&&(Se=Qd):Se=ry;if(Se&&(Se=Se(e,C))){Id(K,Se,n,B);break e}W&&W(e,D,C),e==="focusout"&&C&&D.type==="number"&&C.memoizedProps.value!=null&&Fl(D,"number",D.value)}switch(W=C?$s(C):window,e){case"focusin":(Yd(W)||W.contentEditable==="true")&&(Vn=W,mo=C,Js=null);break;case"focusout":Js=mo=Vn=null;break;case"mousedown":po=!0;break;case"contextmenu":case"mouseup":case"dragend":po=!1,ah(K,n,B);break;case"selectionchange":if(oy)break;case"keydown":case"keyup":ah(K,n,B)}var pe;if(uo)e:{switch(e){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Gn?Gd(e,n)&&(we="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(we="onCompositionStart");we&&($d&&n.locale!=="ko"&&(Gn||we!=="onCompositionStart"?we==="onCompositionEnd"&&Gn&&(pe=Ud()):(ka=B,so="value"in ka?ka.value:ka.textContent,Gn=!0)),W=Wi(C,we),0<W.length&&(we=new qd(we,e,null,n,B),K.push({event:we,listeners:W}),pe?we.data=pe:(pe=Vd(n),pe!==null&&(we.data=pe)))),(pe=Fg?Wg(e,n):ey(e,n))&&(we=Wi(C,"onBeforeInput"),0<we.length&&(W=new qd("onBeforeInput","beforeinput",null,n,B),K.push({event:W,listeners:we}),W.data=pe)),Yy(K,e,C,n,B)}Om(K,t)})}function xr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wi(e,t){for(var n=t+"Capture",i=[];e!==null;){var o=e,d=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||d===null||(o=Hs(e,n),o!=null&&i.unshift(xr(e,o,d)),o=Hs(e,t),o!=null&&i.push(xr(e,o,d))),e.tag===3)return i;e=e.return}return[]}function Jy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Cm(e,t,n,i,o){for(var d=t._reactName,g=[];n!==null&&n!==i;){var v=n,_=v.alternate,C=v.stateNode;if(v=v.tag,_!==null&&_===i)break;v!==5&&v!==26&&v!==27||C===null||(_=C,o?(C=Hs(n,d),C!=null&&g.unshift(xr(n,C,_))):o||(C=Hs(n,d),C!=null&&g.push(xr(n,C,_)))),n=n.return}g.length!==0&&e.push({event:t,listeners:g})}var Xy=/\r\n?/g,Zy=/\u0000|\uFFFD/g;function km(e){return(typeof e=="string"?e:""+e).replace(Xy,`
`).replace(Zy,"")}function Mm(e,t){return t=km(t),km(e)===t}function Ce(e,t,n,i,o,d){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||$n(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&$n(e,""+i);break;case"className":ni(e,"class",i);break;case"tabIndex":ni(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":ni(e,n,i);break;case"style":kd(e,i,d);break;case"data":if(t!=="object"){ni(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=ri(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(n==="formAction"?(t!=="input"&&Ce(e,t,"name",o.name,o,null),Ce(e,t,"formEncType",o.formEncType,o,null),Ce(e,t,"formMethod",o.formMethod,o,null),Ce(e,t,"formTarget",o.formTarget,o,null)):(Ce(e,t,"encType",o.encType,o,null),Ce(e,t,"method",o.method,o,null),Ce(e,t,"target",o.target,o,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=ri(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=ua);break;case"onScroll":i!=null&&be("scroll",e);break;case"onScrollEnd":i!=null&&be("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=ri(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":be("beforetoggle",e),be("toggle",e),ai(e,"popover",i);break;case"xlinkActuate":oa(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":oa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":oa(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":oa(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":oa(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":oa(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":oa(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":oa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":oa(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":ai(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Eg.get(n)||n,ai(e,n,i))}}function $u(e,t,n,i,o,d){switch(n){case"style":kd(e,i,d);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"children":typeof i=="string"?$n(e,i):(typeof i=="number"||typeof i=="bigint")&&$n(e,""+i);break;case"onScroll":i!=null&&be("scroll",e);break;case"onScrollEnd":i!=null&&be("scrollend",e);break;case"onClick":i!=null&&(e.onclick=ua);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sd.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),d=e[mt]||null,d=d!=null?d[n]:null,typeof d=="function"&&e.removeEventListener(t,d,o),typeof i=="function")){typeof d!="function"&&d!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,o);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):ai(e,n,i)}}}function lt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":be("error",e),be("load",e);var i=!1,o=!1,d;for(d in n)if(n.hasOwnProperty(d)){var g=n[d];if(g!=null)switch(d){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ce(e,t,d,g,n,null)}}o&&Ce(e,t,"srcSet",n.srcSet,n,null),i&&Ce(e,t,"src",n.src,n,null);return;case"input":be("invalid",e);var v=d=g=o=null,_=null,C=null;for(i in n)if(n.hasOwnProperty(i)){var B=n[i];if(B!=null)switch(i){case"name":o=B;break;case"type":g=B;break;case"checked":_=B;break;case"defaultChecked":C=B;break;case"value":d=B;break;case"defaultValue":v=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(l(137,t));break;default:Ce(e,t,i,B,n,null)}}Ad(e,d,v,_,C,g,o,!1);return;case"select":be("invalid",e),i=g=d=null;for(o in n)if(n.hasOwnProperty(o)&&(v=n[o],v!=null))switch(o){case"value":d=v;break;case"defaultValue":g=v;break;case"multiple":i=v;default:Ce(e,t,o,v,n,null)}t=d,n=g,e.multiple=!!i,t!=null?Bn(e,!!i,t,!1):n!=null&&Bn(e,!!i,n,!0);return;case"textarea":be("invalid",e),d=o=i=null;for(g in n)if(n.hasOwnProperty(g)&&(v=n[g],v!=null))switch(g){case"value":i=v;break;case"defaultValue":o=v;break;case"children":d=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(l(91));break;default:Ce(e,t,g,v,n,null)}Rd(e,i,o,d);return;case"option":for(_ in n)n.hasOwnProperty(_)&&(i=n[_],i!=null)&&(_==="selected"?e.selected=i&&typeof i!="function"&&typeof i!="symbol":Ce(e,t,_,i,n,null));return;case"dialog":be("beforetoggle",e),be("toggle",e),be("cancel",e),be("close",e);break;case"iframe":case"object":be("load",e);break;case"video":case"audio":for(i=0;i<br.length;i++)be(br[i],e);break;case"image":be("error",e),be("load",e);break;case"details":be("toggle",e);break;case"embed":case"source":case"link":be("error",e),be("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(C in n)if(n.hasOwnProperty(C)&&(i=n[C],i!=null))switch(C){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ce(e,t,C,i,n,null)}return;default:if(Wl(t)){for(B in n)n.hasOwnProperty(B)&&(i=n[B],i!==void 0&&$u(e,t,B,i,n,void 0));return}}for(v in n)n.hasOwnProperty(v)&&(i=n[v],i!=null&&Ce(e,t,v,i,n,null))}function Fy(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,d=null,g=null,v=null,_=null,C=null,B=null;for(q in n){var K=n[q];if(n.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":_=K;default:i.hasOwnProperty(q)||Ce(e,t,q,null,i,K)}}for(var D in i){var q=i[D];if(K=n[D],i.hasOwnProperty(D)&&(q!=null||K!=null))switch(D){case"type":d=q;break;case"name":o=q;break;case"checked":C=q;break;case"defaultChecked":B=q;break;case"value":g=q;break;case"defaultValue":v=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(l(137,t));break;default:q!==K&&Ce(e,t,D,q,i,K)}}Zl(e,g,v,_,C,B,d,o);return;case"select":q=g=v=D=null;for(d in n)if(_=n[d],n.hasOwnProperty(d)&&_!=null)switch(d){case"value":break;case"multiple":q=_;default:i.hasOwnProperty(d)||Ce(e,t,d,null,i,_)}for(o in i)if(d=i[o],_=n[o],i.hasOwnProperty(o)&&(d!=null||_!=null))switch(o){case"value":D=d;break;case"defaultValue":v=d;break;case"multiple":g=d;default:d!==_&&Ce(e,t,o,d,i,_)}t=v,n=g,i=q,D!=null?Bn(e,!!n,D,!1):!!i!=!!n&&(t!=null?Bn(e,!!n,t,!0):Bn(e,!!n,n?[]:"",!1));return;case"textarea":q=D=null;for(v in n)if(o=n[v],n.hasOwnProperty(v)&&o!=null&&!i.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Ce(e,t,v,null,i,o)}for(g in i)if(o=i[g],d=n[g],i.hasOwnProperty(g)&&(o!=null||d!=null))switch(g){case"value":D=o;break;case"defaultValue":q=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==d&&Ce(e,t,g,o,i,d)}Od(e,D,q);return;case"option":for(var X in n)D=n[X],n.hasOwnProperty(X)&&D!=null&&!i.hasOwnProperty(X)&&(X==="selected"?e.selected=!1:Ce(e,t,X,null,i,D));for(_ in i)D=i[_],q=n[_],i.hasOwnProperty(_)&&D!==q&&(D!=null||q!=null)&&(_==="selected"?e.selected=D&&typeof D!="function"&&typeof D!="symbol":Ce(e,t,_,D,i,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in n)D=n[re],n.hasOwnProperty(re)&&D!=null&&!i.hasOwnProperty(re)&&Ce(e,t,re,null,i,D);for(C in i)if(D=i[C],q=n[C],i.hasOwnProperty(C)&&D!==q&&(D!=null||q!=null))switch(C){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(l(137,t));break;default:Ce(e,t,C,D,i,q)}return;default:if(Wl(t)){for(var ke in n)D=n[ke],n.hasOwnProperty(ke)&&D!==void 0&&!i.hasOwnProperty(ke)&&$u(e,t,ke,void 0,i,D);for(B in i)D=i[B],q=n[B],!i.hasOwnProperty(B)||D===q||D===void 0&&q===void 0||$u(e,t,B,D,i,q);return}}for(var A in n)D=n[A],n.hasOwnProperty(A)&&D!=null&&!i.hasOwnProperty(A)&&Ce(e,t,A,null,i,D);for(K in i)D=i[K],q=n[K],!i.hasOwnProperty(K)||D===q||D==null&&q==null||Ce(e,t,K,D,i,q)}function Dm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Wy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var o=n[i],d=o.transferSize,g=o.initiatorType,v=o.duration;if(d&&v&&Dm(g)){for(g=0,v=o.responseEnd,i+=1;i<n.length;i++){var _=n[i],C=_.startTime;if(C>v)break;var B=_.transferSize,K=_.initiatorType;B&&Dm(K)&&(_=_.responseEnd,g+=B*(_<v?1:(v-C)/(_-C)))}if(--i,t+=8*(d+g)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Hu=null,Ku=null;function el(e){return e.nodeType===9?e:e.ownerDocument}function Um(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Gu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vu=null;function ev(){var e=window.event;return e&&e.type==="popstate"?e===Vu?!1:(Vu=e,!0):(Vu=null,!1)}var Lm=typeof setTimeout=="function"?setTimeout:void 0,tv=typeof clearTimeout=="function"?clearTimeout:void 0,qm=typeof Promise=="function"?Promise:void 0,av=typeof queueMicrotask=="function"?queueMicrotask:typeof qm<"u"?function(e){return qm.resolve(null).then(e).catch(nv)}:Lm;function nv(e){setTimeout(function(){throw e})}function Ja(e){return e==="head"}function Bm(e,t){var n=t,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(o),ys(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")wr(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,wr(n);for(var d=n.firstChild;d;){var g=d.nextSibling,v=d.nodeName;d[Bs]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&d.rel.toLowerCase()==="stylesheet"||n.removeChild(d),d=g}}else n==="body"&&wr(e.ownerDocument.body);n=o}while(n);ys(t)}function $m(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function Yu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Yu(n),Jl(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function sv(e,t,n,i){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Bs])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=It(e.nextSibling),e===null)break}return null}function rv(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=It(e.nextSibling),e===null))return null;return e}function Hm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=It(e.nextSibling),e===null))return null;return e}function Iu(e){return e.data==="$?"||e.data==="$~"}function Qu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function iv(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function It(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Pu=null;function Km(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return It(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Gm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Vm(e,t,n){switch(t=el(n),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function wr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Jl(e)}var Qt=new Map,Ym=new Set;function tl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ea=V.d;V.d={f:lv,r:ov,D:uv,C:cv,L:dv,m:hv,X:mv,S:fv,M:pv};function lv(){var e=Ea.f(),t=Ii();return e||t}function ov(e){var t=zn(e);t!==null&&t.tag===5&&t.type==="form"?of(t):Ea.r(e)}var ms=typeof document>"u"?null:document;function Im(e,t,n){var i=ms;if(i&&typeof t=="string"&&t){var o=Bt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),Ym.has(o)||(Ym.add(o),e={rel:e,crossOrigin:n,href:t},i.querySelector(o)===null&&(t=i.createElement("link"),lt(t,"link",e),tt(t),i.head.appendChild(t)))}}function uv(e){Ea.D(e),Im("dns-prefetch",e,null)}function cv(e,t){Ea.C(e,t),Im("preconnect",e,t)}function dv(e,t,n){Ea.L(e,t,n);var i=ms;if(i&&e&&t){var o='link[rel="preload"][as="'+Bt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+Bt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+Bt(n.imageSizes)+'"]')):o+='[href="'+Bt(e)+'"]';var d=o;switch(t){case"style":d=ps(e);break;case"script":d=gs(e)}Qt.has(d)||(e=b({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Qt.set(d,e),i.querySelector(o)!==null||t==="style"&&i.querySelector(_r(d))||t==="script"&&i.querySelector(Sr(d))||(t=i.createElement("link"),lt(t,"link",e),tt(t),i.head.appendChild(t)))}}function hv(e,t){Ea.m(e,t);var n=ms;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Bt(i)+'"][href="'+Bt(e)+'"]',d=o;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=gs(e)}if(!Qt.has(d)&&(e=b({rel:"modulepreload",href:e},t),Qt.set(d,e),n.querySelector(o)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Sr(d)))return}i=n.createElement("link"),lt(i,"link",e),tt(i),n.head.appendChild(i)}}}function fv(e,t,n){Ea.S(e,t,n);var i=ms;if(i&&e){var o=Ln(i).hoistableStyles,d=ps(e);t=t||"default";var g=o.get(d);if(!g){var v={loading:0,preload:null};if(g=i.querySelector(_r(d)))v.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Qt.get(d))&&Ju(e,n);var _=g=i.createElement("link");tt(_),lt(_,"link",e),_._p=new Promise(function(C,B){_.onload=C,_.onerror=B}),_.addEventListener("load",function(){v.loading|=1}),_.addEventListener("error",function(){v.loading|=2}),v.loading|=4,al(g,t,i)}g={type:"stylesheet",instance:g,count:1,state:v},o.set(d,g)}}}function mv(e,t){Ea.X(e,t);var n=ms;if(n&&e){var i=Ln(n).hoistableScripts,o=gs(e),d=i.get(o);d||(d=n.querySelector(Sr(o)),d||(e=b({src:e,async:!0},t),(t=Qt.get(o))&&Xu(e,t),d=n.createElement("script"),tt(d),lt(d,"link",e),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},i.set(o,d))}}function pv(e,t){Ea.M(e,t);var n=ms;if(n&&e){var i=Ln(n).hoistableScripts,o=gs(e),d=i.get(o);d||(d=n.querySelector(Sr(o)),d||(e=b({src:e,async:!0,type:"module"},t),(t=Qt.get(o))&&Xu(e,t),d=n.createElement("script"),tt(d),lt(d,"link",e),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},i.set(o,d))}}function Qm(e,t,n,i){var o=(o=ye.current)?tl(o):null;if(!o)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ps(n.href),n=Ln(o).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ps(n.href);var d=Ln(o).hoistableStyles,g=d.get(e);if(g||(o=o.ownerDocument||o,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,g),(d=o.querySelector(_r(e)))&&!d._p&&(g.instance=d,g.state.loading=5),Qt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Qt.set(e,n),d||gv(o,e,n,g.state))),t&&i===null)throw Error(l(528,""));return g}if(t&&i!==null)throw Error(l(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=gs(n),n=Ln(o).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function ps(e){return'href="'+Bt(e)+'"'}function _r(e){return'link[rel="stylesheet"]['+e+"]"}function Pm(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function gv(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),lt(t,"link",n),tt(t),e.head.appendChild(t))}function gs(e){return'[src="'+Bt(e)+'"]'}function Sr(e){return"script[async]"+e}function Jm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Bt(n.href)+'"]');if(i)return t.instance=i,tt(i),i;var o=b({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),tt(i),lt(i,"style",o),al(i,n.precedence,e),t.instance=i;case"stylesheet":o=ps(n.href);var d=e.querySelector(_r(o));if(d)return t.state.loading|=4,t.instance=d,tt(d),d;i=Pm(n),(o=Qt.get(o))&&Ju(i,o),d=(e.ownerDocument||e).createElement("link"),tt(d);var g=d;return g._p=new Promise(function(v,_){g.onload=v,g.onerror=_}),lt(d,"link",i),t.state.loading|=4,al(d,n.precedence,e),t.instance=d;case"script":return d=gs(n.src),(o=e.querySelector(Sr(d)))?(t.instance=o,tt(o),o):(i=n,(o=Qt.get(d))&&(i=b({},n),Xu(i,o)),e=e.ownerDocument||e,o=e.createElement("script"),tt(o),lt(o,"link",i),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,al(i,n.precedence,e));return t.instance}function al(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=i.length?i[i.length-1]:null,d=o,g=0;g<i.length;g++){var v=i[g];if(v.dataset.precedence===t)d=v;else if(d!==o)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Ju(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Xu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var nl=null;function Xm(e,t,n){if(nl===null){var i=new Map,o=nl=new Map;o.set(n,i)}else o=nl,i=o.get(n),i||(i=new Map,o.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var d=n[o];if(!(d[Bs]||d[nt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(t)||"";g=e+g;var v=i.get(g);v?v.push(d):i.set(g,[d])}}return i}function Zm(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function yv(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Fm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function vv(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var o=ps(i.href),d=t.querySelector(_r(o));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=sl.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=d,tt(d);return}d=t.ownerDocument||t,i=Pm(i),(o=Qt.get(o))&&Ju(i,o),d=d.createElement("link"),tt(d);var g=d;g._p=new Promise(function(v,_){g.onload=v,g.onerror=_}),lt(d,"link",i),n.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=sl.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Zu=0;function bv(e,t){return e.stylesheets&&e.count===0&&il(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&il(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&Zu===0&&(Zu=62500*Wy());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&il(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Zu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(o)}}:null}function sl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)il(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var rl=null;function il(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,rl=new Map,t.forEach(xv,e),rl=null,sl.call(e))}function xv(e,t){if(!(t.state.loading&4)){var n=rl.get(e);if(n)var i=n.get(null);else{n=new Map,rl.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<o.length;d++){var g=o[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(n.set(g.dataset.precedence,g),i=g)}i&&n.set(null,i)}o=t.instance,g=o.getAttribute("data-precedence"),d=n.get(g)||i,d===i&&n.set(null,o),n.set(g,o),this.count++,i=sl.bind(this),o.addEventListener("load",i),o.addEventListener("error",i),d?d.parentNode.insertBefore(o,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var jr={$$typeof:L,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function wv(e,t,n,i,o,d,g,v,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yl(0),this.hiddenUpdates=Yl(null),this.identifierPrefix=i,this.onUncaughtError=o,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Wm(e,t,n,i,o,d,g,v,_,C,B,K){return e=new wv(e,t,n,g,_,C,B,K,v),t=1,d===!0&&(t|=24),d=Nt(3,null,null,t),e.current=d,d.stateNode=e,t=Ro(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:i,isDehydrated:n,cache:t},Do(d),e}function e0(e){return e?(e=Qn,e):Qn}function t0(e,t,n,i,o,d){o=e0(o),i.context===null?i.context=o:i.pendingContext=o,i=qa(t),i.payload={element:n},d=d===void 0?null:d,d!==null&&(i.callback=d),n=Ba(e,i,t),n!==null&&(xt(n,e,t),ar(n,e,t))}function a0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Fu(e,t){a0(e,t),(e=e.alternate)&&a0(e,t)}function n0(e){if(e.tag===13||e.tag===31){var t=fn(e,67108864);t!==null&&xt(t,e,67108864),Fu(e,67108864)}}function s0(e){if(e.tag===13||e.tag===31){var t=Ct();t=Il(t);var n=fn(e,t);n!==null&&xt(n,e,t),Fu(e,t)}}var ll=!0;function _v(e,t,n,i){var o=k.T;k.T=null;var d=V.p;try{V.p=2,Wu(e,t,n,i)}finally{V.p=d,k.T=o}}function Sv(e,t,n,i){var o=k.T;k.T=null;var d=V.p;try{V.p=8,Wu(e,t,n,i)}finally{V.p=d,k.T=o}}function Wu(e,t,n,i){if(ll){var o=ec(i);if(o===null)Bu(e,t,i,ol,n),i0(e,i);else if(Ev(o,e,t,n,i))i.stopPropagation();else if(i0(e,i),t&4&&-1<jv.indexOf(e)){for(;o!==null;){var d=zn(o);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=on(d.pendingLanes);if(g!==0){var v=d;for(v.pendingLanes|=2,v.entangledLanes|=2;g;){var _=1<<31-jt(g);v.entanglements[1]|=_,g&=~_}la(d),(Ee&6)===0&&(Vi=_t()+500,vr(0))}}break;case 31:case 13:v=fn(d,2),v!==null&&xt(v,d,2),Ii(),Fu(d,2)}if(d=ec(i),d===null&&Bu(e,t,i,ol,n),d===o)break;o=d}o!==null&&i.stopPropagation()}else Bu(e,t,i,null,n)}}function ec(e){return e=to(e),tc(e)}var ol=null;function tc(e){if(ol=null,e=Un(e),e!==null){var t=h(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=f(t),e!==null)return e;e=null}else if(n===31){if(e=m(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ol=e,null}function r0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ug()){case hd:return 2;case fd:return 8;case Zr:case cg:return 32;case md:return 268435456;default:return 32}default:return 32}}var ac=!1,Xa=null,Za=null,Fa=null,Er=new Map,Nr=new Map,Wa=[],jv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function i0(e,t){switch(e){case"focusin":case"focusout":Xa=null;break;case"dragenter":case"dragleave":Za=null;break;case"mouseover":case"mouseout":Fa=null;break;case"pointerover":case"pointerout":Er.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nr.delete(t.pointerId)}}function Tr(e,t,n,i,o,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:d,targetContainers:[o]},t!==null&&(t=zn(t),t!==null&&n0(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Ev(e,t,n,i,o){switch(t){case"focusin":return Xa=Tr(Xa,e,t,n,i,o),!0;case"dragenter":return Za=Tr(Za,e,t,n,i,o),!0;case"mouseover":return Fa=Tr(Fa,e,t,n,i,o),!0;case"pointerover":var d=o.pointerId;return Er.set(d,Tr(Er.get(d)||null,e,t,n,i,o)),!0;case"gotpointercapture":return d=o.pointerId,Nr.set(d,Tr(Nr.get(d)||null,e,t,n,i,o)),!0}return!1}function l0(e){var t=Un(e.target);if(t!==null){var n=h(t);if(n!==null){if(t=n.tag,t===13){if(t=f(n),t!==null){e.blockedOn=t,xd(e.priority,function(){s0(n)});return}}else if(t===31){if(t=m(n),t!==null){e.blockedOn=t,xd(e.priority,function(){s0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ul(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ec(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);eo=i,n.target.dispatchEvent(i),eo=null}else return t=zn(n),t!==null&&n0(t),e.blockedOn=n,!1;t.shift()}return!0}function o0(e,t,n){ul(e)&&n.delete(t)}function Nv(){ac=!1,Xa!==null&&ul(Xa)&&(Xa=null),Za!==null&&ul(Za)&&(Za=null),Fa!==null&&ul(Fa)&&(Fa=null),Er.forEach(o0),Nr.forEach(o0)}function cl(e,t){e.blockedOn===t&&(e.blockedOn=null,ac||(ac=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Nv)))}var dl=null;function u0(e){dl!==e&&(dl=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){dl===e&&(dl=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],o=e[t+2];if(typeof i!="function"){if(tc(i||n)===null)continue;break}var d=zn(n);d!==null&&(e.splice(t,3),t-=3,eu(d,{pending:!0,data:o,method:n.method,action:i},i,o))}}))}function ys(e){function t(_){return cl(_,e)}Xa!==null&&cl(Xa,e),Za!==null&&cl(Za,e),Fa!==null&&cl(Fa,e),Er.forEach(t),Nr.forEach(t);for(var n=0;n<Wa.length;n++){var i=Wa[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Wa.length&&(n=Wa[0],n.blockedOn===null);)l0(n),n.blockedOn===null&&Wa.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var o=n[i],d=n[i+1],g=o[mt]||null;if(typeof d=="function")g||u0(n);else if(g){var v=null;if(d&&d.hasAttribute("formAction")){if(o=d,g=d[mt]||null)v=g.formAction;else if(tc(o)!==null)continue}else v=g.action;typeof v=="function"?n[i+1]=v:(n.splice(i,3),i-=3),u0(n)}}}function c0(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(g){return o=g})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function nc(e){this._internalRoot=e}hl.prototype.render=nc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var n=t.current,i=Ct();t0(n,i,e,t,null,null)},hl.prototype.unmount=nc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;t0(e.current,2,null,e,null,null),Ii(),t[Dn]=null}};function hl(e){this._internalRoot=e}hl.prototype.unstable_scheduleHydration=function(e){if(e){var t=bd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Wa.length&&t!==0&&t<Wa[n].priority;n++);Wa.splice(n,0,e),n===0&&l0(e)}};var d0=a.version;if(d0!=="19.2.3")throw Error(l(527,d0,"19.2.3"));V.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=y(t),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var Tv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fl.isDisabled&&fl.supportsFiber)try{zs=fl.inject(Tv),St=fl}catch{}}return Or.createRoot=function(e,t){if(!u(e))throw Error(l(299));var n=!1,i="",o=vf,d=bf,g=xf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=Wm(e,1,!1,null,null,n,i,null,o,d,g,c0),e[Dn]=t.current,qu(e),new nc(t)},Or.hydrateRoot=function(e,t,n){if(!u(e))throw Error(l(299));var i=!1,o="",d=vf,g=bf,v=xf,_=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.formState!==void 0&&(_=n.formState)),t=Wm(e,1,!0,t,n??null,i,o,_,d,g,v,c0),t.context=e0(null),n=t.current,i=Ct(),i=Il(i),o=qa(i),o.callback=null,Ba(n,o,i),n=i,t.current.lanes=n,qs(t,n),la(t),e[Dn]=t.current,qu(e),new hl(t)},Or.version="19.2.3",Or}var w0;function Lv(){if(w0)return ic.exports;w0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),ic.exports=zv(),ic.exports}var qv=Lv();var _0="popstate";function Bv(s={}){function a(l,u){let{pathname:h,search:f,hash:m}=l.location;return Ec("",{pathname:h,search:f,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function r(l,u){return typeof u=="string"?u:Ur(u)}return Hv(a,r,null,s)}function Be(s,a){if(s===!1||s===null||typeof s>"u")throw new Error(a)}function Pt(s,a){if(!s){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function $v(){return Math.random().toString(36).substring(2,10)}function S0(s,a){return{usr:s.state,key:s.key,idx:a}}function Ec(s,a,r=null,l){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof a=="string"?Cs(a):a,state:r,key:a&&a.key||l||$v()}}function Ur({pathname:s="/",search:a="",hash:r=""}){return a&&a!=="?"&&(s+=a.charAt(0)==="?"?a:"?"+a),r&&r!=="#"&&(s+=r.charAt(0)==="#"?r:"#"+r),s}function Cs(s){let a={};if(s){let r=s.indexOf("#");r>=0&&(a.hash=s.substring(r),s=s.substring(0,r));let l=s.indexOf("?");l>=0&&(a.search=s.substring(l),s=s.substring(0,l)),s&&(a.pathname=s)}return a}function Hv(s,a,r,l={}){let{window:u=document.defaultView,v5Compat:h=!1}=l,f=u.history,m="POP",p=null,y=x();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function x(){return(f.state||{idx:null}).idx}function b(){m="POP";let M=x(),z=M==null?null:M-y;y=M,p&&p({action:m,location:T.location,delta:z})}function w(M,z){m="PUSH";let U=Ec(T.location,M,z);y=x()+1;let L=S0(U,y),Q=T.createHref(U);try{f.pushState(L,"",Q)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;u.location.assign(Q)}h&&p&&p({action:m,location:T.location,delta:1})}function S(M,z){m="REPLACE";let U=Ec(T.location,M,z);y=x();let L=S0(U,y),Q=T.createHref(U);f.replaceState(L,"",Q),h&&p&&p({action:m,location:T.location,delta:0})}function O(M){return Kv(M)}let T={get action(){return m},get location(){return s(u,f)},listen(M){if(p)throw new Error("A history only accepts one active listener");return u.addEventListener(_0,b),p=M,()=>{u.removeEventListener(_0,b),p=null}},createHref(M){return a(u,M)},createURL:O,encodeLocation(M){let z=O(M);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:w,replace:S,go(M){return f.go(M)}};return T}function Kv(s,a=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Be(r,"No window.location.(origin|href) available to create URL");let l=typeof s=="string"?s:Ur(s);return l=l.replace(/ $/,"%20"),!a&&l.startsWith("//")&&(l=r+l),new URL(l,r)}function dp(s,a,r="/"){return Gv(s,a,r,!1)}function Gv(s,a,r,l){let u=typeof a=="string"?Cs(a):a,h=Aa(u.pathname||"/",r);if(h==null)return null;let f=hp(s);Vv(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=tb(h);m=Wv(f[p],y,l)}return m}function hp(s,a=[],r=[],l="",u=!1){let h=(f,m,p=u,y)=>{let x={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(l)&&p)return;Be(x.relativePath.startsWith(l),`Absolute route path "${x.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(l.length)}let b=Ta([l,x.relativePath]),w=r.concat(x);f.children&&f.children.length>0&&(Be(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),hp(f.children,a,w,b,p)),!(f.path==null&&!f.index)&&a.push({path:b,score:Zv(b,f.index),routesMeta:w})};return s.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))h(f,m);else for(let p of fp(f.path))h(f,m,!0,p)}),a}function fp(s){let a=s.split("/");if(a.length===0)return[];let[r,...l]=a,u=r.endsWith("?"),h=r.replace(/\?$/,"");if(l.length===0)return u?[h,""]:[h];let f=fp(l.join("/")),m=[];return m.push(...f.map(p=>p===""?h:[h,p].join("/"))),u&&m.push(...f),m.map(p=>s.startsWith("/")&&p===""?"/":p)}function Vv(s){s.sort((a,r)=>a.score!==r.score?r.score-a.score:Fv(a.routesMeta.map(l=>l.childrenIndex),r.routesMeta.map(l=>l.childrenIndex)))}var Yv=/^:[\w-]+$/,Iv=3,Qv=2,Pv=1,Jv=10,Xv=-2,j0=s=>s==="*";function Zv(s,a){let r=s.split("/"),l=r.length;return r.some(j0)&&(l+=Xv),a&&(l+=Qv),r.filter(u=>!j0(u)).reduce((u,h)=>u+(Yv.test(h)?Iv:h===""?Pv:Jv),l)}function Fv(s,a){return s.length===a.length&&s.slice(0,-1).every((l,u)=>l===a[u])?s[s.length-1]-a[a.length-1]:0}function Wv(s,a,r=!1){let{routesMeta:l}=s,u={},h="/",f=[];for(let m=0;m<l.length;++m){let p=l[m],y=m===l.length-1,x=h==="/"?a:a.slice(h.length)||"/",b=El({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},x),w=p.route;if(!b&&y&&r&&!l[l.length-1].route.index&&(b=El({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},x)),!b)return null;Object.assign(u,b.params),f.push({params:u,pathname:Ta([h,b.pathname]),pathnameBase:rb(Ta([h,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(h=Ta([h,b.pathnameBase]))}return f}function El(s,a){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[r,l]=eb(s.path,s.caseSensitive,s.end),u=a.match(r);if(!u)return null;let h=u[0],f=h.replace(/(.)\/+$/,"$1"),m=u.slice(1);return{params:l.reduce((y,{paramName:x,isOptional:b},w)=>{if(x==="*"){let O=m[w]||"";f=h.slice(0,h.length-O.length).replace(/(.)\/+$/,"$1")}const S=m[w];return b&&!S?y[x]=void 0:y[x]=(S||"").replace(/%2F/g,"/"),y},{}),pathname:h,pathnameBase:f,pattern:s}}function eb(s,a=!1,r=!0){Pt(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let l=[],u="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(l.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(l.push({paramName:"*"}),u+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?u+="\\/*$":s!==""&&s!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,a?void 0:"i"),l]}function tb(s){try{return s.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Pt(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),s}}function Aa(s,a){if(a==="/")return s;if(!s.toLowerCase().startsWith(a.toLowerCase()))return null;let r=a.endsWith("/")?a.length-1:a.length,l=s.charAt(r);return l&&l!=="/"?null:s.slice(r)||"/"}var mp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ab=s=>mp.test(s);function nb(s,a="/"){let{pathname:r,search:l="",hash:u=""}=typeof s=="string"?Cs(s):s,h;if(r)if(ab(r))h=r;else{if(r.includes("//")){let f=r;r=r.replace(/\/\/+/g,"/"),Pt(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${r}`)}r.startsWith("/")?h=E0(r.substring(1),"/"):h=E0(r,a)}else h=a;return{pathname:h,search:ib(l),hash:lb(u)}}function E0(s,a){let r=a.replace(/\/+$/,"").split("/");return s.split("/").forEach(u=>{u===".."?r.length>1&&r.pop():u!=="."&&r.push(u)}),r.length>1?r.join("/"):"/"}function cc(s,a,r,l){return`Cannot include a '${s}' character in a manually specified \`to.${a}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sb(s){return s.filter((a,r)=>r===0||a.route.path&&a.route.path.length>0)}function Qc(s){let a=sb(s);return a.map((r,l)=>l===a.length-1?r.pathname:r.pathnameBase)}function Pc(s,a,r,l=!1){let u;typeof s=="string"?u=Cs(s):(u={...s},Be(!u.pathname||!u.pathname.includes("?"),cc("?","pathname","search",u)),Be(!u.pathname||!u.pathname.includes("#"),cc("#","pathname","hash",u)),Be(!u.search||!u.search.includes("#"),cc("#","search","hash",u)));let h=s===""||u.pathname==="",f=h?"/":u.pathname,m;if(f==null)m=r;else{let b=a.length-1;if(!l&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),b-=1;u.pathname=w.join("/")}m=b>=0?a[b]:"/"}let p=nb(u,m),y=f&&f!=="/"&&f.endsWith("/"),x=(h||f===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(y||x)&&(p.pathname+="/"),p}var Ta=s=>s.join("/").replace(/\/\/+/g,"/"),rb=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),ib=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,lb=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,ob=class{constructor(s,a,r,l=!1){this.status=s,this.statusText=a||"",this.internal=l,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function ub(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function cb(s){return s.map(a=>a.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var pp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function gp(s,a){let r=s;if(typeof r!="string"||!mp.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let l=r,u=!1;if(pp)try{let h=new URL(window.location.href),f=r.startsWith("//")?new URL(h.protocol+r):new URL(r),m=Aa(f.pathname,a);f.origin===h.origin&&m!=null?r=m+f.search+f.hash:u=!0}catch{Pt(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:l,isExternal:u,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var yp=["POST","PUT","PATCH","DELETE"];new Set(yp);var db=["GET",...yp];new Set(db);var ks=N.createContext(null);ks.displayName="DataRouter";var Cl=N.createContext(null);Cl.displayName="DataRouterState";var hb=N.createContext(!1),vp=N.createContext({isTransitioning:!1});vp.displayName="ViewTransition";var fb=N.createContext(new Map);fb.displayName="Fetchers";var mb=N.createContext(null);mb.displayName="Await";var Lt=N.createContext(null);Lt.displayName="Navigation";var Qr=N.createContext(null);Qr.displayName="Location";var Jt=N.createContext({outlet:null,matches:[],isDataRoute:!1});Jt.displayName="Route";var Jc=N.createContext(null);Jc.displayName="RouteError";var bp="REACT_ROUTER_ERROR",pb="REDIRECT",gb="ROUTE_ERROR_RESPONSE";function yb(s){if(s.startsWith(`${bp}:${pb}:{`))try{let a=JSON.parse(s.slice(28));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.location=="string"&&typeof a.reloadDocument=="boolean"&&typeof a.replace=="boolean")return a}catch{}}function vb(s){if(s.startsWith(`${bp}:${gb}:{`))try{let a=JSON.parse(s.slice(40));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string")return new ob(a.status,a.statusText,a.data)}catch{}}function bb(s,{relative:a}={}){Be(Ms(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:l}=N.useContext(Lt),{hash:u,pathname:h,search:f}=Pr(s,{relative:a}),m=h;return r!=="/"&&(m=h==="/"?r:Ta([r,h])),l.createHref({pathname:m,search:f,hash:u})}function Ms(){return N.useContext(Qr)!=null}function rn(){return Be(Ms(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Qr).location}var xp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function wp(s){N.useContext(Lt).static||N.useLayoutEffect(s)}function na(){let{isDataRoute:s}=N.useContext(Jt);return s?Db():xb()}function xb(){Be(Ms(),"useNavigate() may be used only in the context of a <Router> component.");let s=N.useContext(ks),{basename:a,navigator:r}=N.useContext(Lt),{matches:l}=N.useContext(Jt),{pathname:u}=rn(),h=JSON.stringify(Qc(l)),f=N.useRef(!1);return wp(()=>{f.current=!0}),N.useCallback((p,y={})=>{if(Pt(f.current,xp),!f.current)return;if(typeof p=="number"){r.go(p);return}let x=Pc(p,JSON.parse(h),u,y.relative==="path");s==null&&a!=="/"&&(x.pathname=x.pathname==="/"?a:Ta([a,x.pathname])),(y.replace?r.replace:r.push)(x,y.state,y)},[a,r,h,u,s])}var wb=N.createContext(null);function _b(s){let a=N.useContext(Jt).outlet;return N.useMemo(()=>a&&N.createElement(wb.Provider,{value:s},a),[a,s])}function _p(){let{matches:s}=N.useContext(Jt),a=s[s.length-1];return a?a.params:{}}function Pr(s,{relative:a}={}){let{matches:r}=N.useContext(Jt),{pathname:l}=rn(),u=JSON.stringify(Qc(r));return N.useMemo(()=>Pc(s,JSON.parse(u),l,a==="path"),[s,u,l,a])}function Sb(s,a){return Sp(s,a)}function Sp(s,a,r,l,u){Be(Ms(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=N.useContext(Lt),{matches:f}=N.useContext(Jt),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",x=m?m.pathnameBase:"/",b=m&&m.route;{let U=b&&b.path||"";Ep(y,!b||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let w=rn(),S;if(a){let U=typeof a=="string"?Cs(a):a;Be(x==="/"||U.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${U.pathname}" was given in the \`location\` prop.`),S=U}else S=w;let O=S.pathname||"/",T=O;if(x!=="/"){let U=x.replace(/^\//,"").split("/");T="/"+O.replace(/^\//,"").split("/").slice(U.length).join("/")}let M=dp(s,{pathname:T});Pt(b||M!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Pt(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=Ab(M&&M.map(U=>Object.assign({},U,{params:Object.assign({},p,U.params),pathname:Ta([x,h.encodeLocation?h.encodeLocation(U.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?x:Ta([x,h.encodeLocation?h.encodeLocation(U.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathnameBase])})),f,r,l,u);return a&&z?N.createElement(Qr.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},z):z}function jb(){let s=Mb(),a=ub(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),r=s instanceof Error?s.stack:null,l="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:l},h={padding:"2px 4px",backgroundColor:l},f=null;return console.error("Error handled by React Router default ErrorBoundary:",s),f=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:h},"ErrorBoundary")," or"," ",N.createElement("code",{style:h},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},a),r?N.createElement("pre",{style:u},r):null,f)}var Eb=N.createElement(jb,null),jp=class extends N.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,a){return a.location!==s.location||a.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:a.error,location:a.location,revalidation:s.revalidation||a.revalidation}}componentDidCatch(s,a){this.props.onError?this.props.onError(s,a):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const r=vb(s.digest);r&&(s=r)}let a=s!==void 0?N.createElement(Jt.Provider,{value:this.props.routeContext},N.createElement(Jc.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?N.createElement(Nb,{error:s},a):a}};jp.contextType=hb;var dc=new WeakMap;function Nb({children:s,error:a}){let{basename:r}=N.useContext(Lt);if(typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){let l=yb(a.digest);if(l){let u=dc.get(a);if(u)throw u;let h=gp(l.location,r);if(pp&&!dc.get(a))if(h.isExternal||l.reloadDocument)window.location.href=h.absoluteURL||h.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(h.to,{replace:l.replace}));throw dc.set(a,f),f}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${h.absoluteURL||h.to}`})}}return s}function Tb({routeContext:s,match:a,children:r}){let l=N.useContext(ks);return l&&l.static&&l.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=a.route.id),N.createElement(Jt.Provider,{value:s},r)}function Ab(s,a=[],r=null,l=null,u=null){if(s==null){if(!r)return null;if(r.errors)s=r.matches;else if(a.length===0&&!r.initialized&&r.matches.length>0)s=r.matches;else return null}let h=s,f=r?.errors;if(f!=null){let x=h.findIndex(b=>b.route.id&&f?.[b.route.id]!==void 0);Be(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),h=h.slice(0,Math.min(h.length,x+1))}let m=!1,p=-1;if(r)for(let x=0;x<h.length;x++){let b=h[x];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=x),b.route.id){let{loaderData:w,errors:S}=r,O=b.route.loader&&!w.hasOwnProperty(b.route.id)&&(!S||S[b.route.id]===void 0);if(b.route.lazy||O){m=!0,p>=0?h=h.slice(0,p+1):h=[h[0]];break}}}let y=r&&l?(x,b)=>{l(x,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:cb(r.matches),errorInfo:b})}:void 0;return h.reduceRight((x,b,w)=>{let S,O=!1,T=null,M=null;r&&(S=f&&b.route.id?f[b.route.id]:void 0,T=b.route.errorElement||Eb,m&&(p<0&&w===0?(Ep("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,M=null):p===w&&(O=!0,M=b.route.hydrateFallbackElement||null)));let z=a.concat(h.slice(0,w+1)),U=()=>{let L;return S?L=T:O?L=M:b.route.Component?L=N.createElement(b.route.Component,null):b.route.element?L=b.route.element:L=x,N.createElement(Tb,{match:b,routeContext:{outlet:x,matches:z,isDataRoute:r!=null},children:L})};return r&&(b.route.ErrorBoundary||b.route.errorElement||w===0)?N.createElement(jp,{location:r.location,revalidation:r.revalidation,component:T,error:S,children:U(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:y}):U()},null)}function Xc(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ob(s){let a=N.useContext(ks);return Be(a,Xc(s)),a}function Rb(s){let a=N.useContext(Cl);return Be(a,Xc(s)),a}function Cb(s){let a=N.useContext(Jt);return Be(a,Xc(s)),a}function Zc(s){let a=Cb(s),r=a.matches[a.matches.length-1];return Be(r.route.id,`${s} can only be used on routes that contain a unique "id"`),r.route.id}function kb(){return Zc("useRouteId")}function Mb(){let s=N.useContext(Jc),a=Rb("useRouteError"),r=Zc("useRouteError");return s!==void 0?s:a.errors?.[r]}function Db(){let{router:s}=Ob("useNavigate"),a=Zc("useNavigate"),r=N.useRef(!1);return wp(()=>{r.current=!0}),N.useCallback(async(u,h={})=>{Pt(r.current,xp),r.current&&(typeof u=="number"?await s.navigate(u):await s.navigate(u,{fromRouteId:a,...h}))},[s,a])}var N0={};function Ep(s,a,r){!a&&!N0[s]&&(N0[s]=!0,Pt(!1,r))}N.memo(Ub);function Ub({routes:s,future:a,state:r,onError:l}){return Sp(s,void 0,r,l,a)}function Nl({to:s,replace:a,state:r,relative:l}){Be(Ms(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=N.useContext(Lt);Pt(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=N.useContext(Jt),{pathname:f}=rn(),m=na(),p=Pc(s,Qc(h),f,l==="path"),y=JSON.stringify(p);return N.useEffect(()=>{m(JSON.parse(y),{replace:a,state:r,relative:l})},[m,y,l,a,r]),null}function Np(s){return _b(s.context)}function wt(s){Be(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zb({basename:s="/",children:a=null,location:r,navigationType:l="POP",navigator:u,static:h=!1,unstable_useTransitions:f}){Be(!Ms(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=s.replace(/^\/*/,"/"),p=N.useMemo(()=>({basename:m,navigator:u,static:h,unstable_useTransitions:f,future:{}}),[m,u,h,f]);typeof r=="string"&&(r=Cs(r));let{pathname:y="/",search:x="",hash:b="",state:w=null,key:S="default"}=r,O=N.useMemo(()=>{let T=Aa(y,m);return T==null?null:{location:{pathname:T,search:x,hash:b,state:w,key:S},navigationType:l}},[m,y,x,b,w,S,l]);return Pt(O!=null,`<Router basename="${m}"> is not able to match the URL "${y}${x}${b}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:N.createElement(Lt.Provider,{value:p},N.createElement(Qr.Provider,{children:a,value:O}))}function Lb({children:s,location:a}){return Sb(Nc(s),a)}function Nc(s,a=[]){let r=[];return N.Children.forEach(s,(l,u)=>{if(!N.isValidElement(l))return;let h=[...a,u];if(l.type===N.Fragment){r.push.apply(r,Nc(l.props.children,h));return}Be(l.type===wt,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Be(!l.props.index||!l.props.children,"An index route cannot have child routes.");let f={id:l.props.id||h.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(f.children=Nc(l.props.children,h)),r.push(f)}),r}var wl="get",_l="application/x-www-form-urlencoded";function kl(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function qb(s){return kl(s)&&s.tagName.toLowerCase()==="button"}function Bb(s){return kl(s)&&s.tagName.toLowerCase()==="form"}function $b(s){return kl(s)&&s.tagName.toLowerCase()==="input"}function Hb(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Kb(s,a){return s.button===0&&(!a||a==="_self")&&!Hb(s)}var ml=null;function Gb(){if(ml===null)try{new FormData(document.createElement("form"),0),ml=!1}catch{ml=!0}return ml}var Vb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hc(s){return s!=null&&!Vb.has(s)?(Pt(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_l}"`),null):s}function Yb(s,a){let r,l,u,h,f;if(Bb(s)){let m=s.getAttribute("action");l=m?Aa(m,a):null,r=s.getAttribute("method")||wl,u=hc(s.getAttribute("enctype"))||_l,h=new FormData(s)}else if(qb(s)||$b(s)&&(s.type==="submit"||s.type==="image")){let m=s.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||m.getAttribute("action");if(l=p?Aa(p,a):null,r=s.getAttribute("formmethod")||m.getAttribute("method")||wl,u=hc(s.getAttribute("formenctype"))||hc(m.getAttribute("enctype"))||_l,h=new FormData(m,s),!Gb()){let{name:y,type:x,value:b}=s;if(x==="image"){let w=y?`${y}.`:"";h.append(`${w}x`,"0"),h.append(`${w}y`,"0")}else y&&h.append(y,b)}}else{if(kl(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=wl,l=null,u=_l,f=s}return h&&u==="text/plain"&&(f=h,h=void 0),{action:l,method:r.toLowerCase(),encType:u,formData:h,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Fc(s,a){if(s===!1||s===null||typeof s>"u")throw new Error(a)}function Ib(s,a,r,l){let u=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return r?u.pathname.endsWith("/")?u.pathname=`${u.pathname}_.${l}`:u.pathname=`${u.pathname}.${l}`:u.pathname==="/"?u.pathname=`_root.${l}`:a&&Aa(u.pathname,a)==="/"?u.pathname=`${a.replace(/\/$/,"")}/_root.${l}`:u.pathname=`${u.pathname.replace(/\/$/,"")}.${l}`,u}async function Qb(s,a){if(s.id in a)return a[s.id];try{let r=await import(s.module);return a[s.id]=r,r}catch(r){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Pb(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function Jb(s,a,r){let l=await Promise.all(s.map(async u=>{let h=a.routes[u.route.id];if(h){let f=await Qb(h,r);return f.links?f.links():[]}return[]}));return Wb(l.flat(1).filter(Pb).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function T0(s,a,r,l,u,h){let f=(p,y)=>r[y]?p.route.id!==r[y].route.id:!0,m=(p,y)=>r[y].pathname!==p.pathname||r[y].route.path?.endsWith("*")&&r[y].params["*"]!==p.params["*"];return h==="assets"?a.filter((p,y)=>f(p,y)||m(p,y)):h==="data"?a.filter((p,y)=>{let x=l.routes[p.route.id];if(!x||!x.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Xb(s,a,{includeHydrateFallback:r}={}){return Zb(s.map(l=>{let u=a.routes[l.route.id];if(!u)return[];let h=[u.module];return u.clientActionModule&&(h=h.concat(u.clientActionModule)),u.clientLoaderModule&&(h=h.concat(u.clientLoaderModule)),r&&u.hydrateFallbackModule&&(h=h.concat(u.hydrateFallbackModule)),u.imports&&(h=h.concat(u.imports)),h}).flat(1))}function Zb(s){return[...new Set(s)]}function Fb(s){let a={},r=Object.keys(s).sort();for(let l of r)a[l]=s[l];return a}function Wb(s,a){let r=new Set;return new Set(a),s.reduce((l,u)=>{let h=JSON.stringify(Fb(u));return r.has(h)||(r.add(h),l.push({key:h,link:u})),l},[])}function Tp(){let s=N.useContext(ks);return Fc(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function ex(){let s=N.useContext(Cl);return Fc(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Wc=N.createContext(void 0);Wc.displayName="FrameworkContext";function Ap(){let s=N.useContext(Wc);return Fc(s,"You must render this element inside a <HydratedRouter> element"),s}function tx(s,a){let r=N.useContext(Wc),[l,u]=N.useState(!1),[h,f]=N.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:x,onTouchStart:b}=a,w=N.useRef(null);N.useEffect(()=>{if(s==="render"&&f(!0),s==="viewport"){let T=z=>{z.forEach(U=>{f(U.isIntersecting)})},M=new IntersectionObserver(T,{threshold:.5});return w.current&&M.observe(w.current),()=>{M.disconnect()}}},[s]),N.useEffect(()=>{if(l){let T=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(T)}}},[l]);let S=()=>{u(!0)},O=()=>{u(!1),f(!1)};return r?s!=="intent"?[h,w,{}]:[h,w,{onFocus:Rr(m,S),onBlur:Rr(p,O),onMouseEnter:Rr(y,S),onMouseLeave:Rr(x,O),onTouchStart:Rr(b,S)}]:[!1,w,{}]}function Rr(s,a){return r=>{s&&s(r),r.defaultPrevented||a(r)}}function ax({page:s,...a}){let{router:r}=Tp(),l=N.useMemo(()=>dp(r.routes,s,r.basename),[r.routes,s,r.basename]);return l?N.createElement(sx,{page:s,matches:l,...a}):null}function nx(s){let{manifest:a,routeModules:r}=Ap(),[l,u]=N.useState([]);return N.useEffect(()=>{let h=!1;return Jb(s,a,r).then(f=>{h||u(f)}),()=>{h=!0}},[s,a,r]),l}function sx({page:s,matches:a,...r}){let l=rn(),{future:u,manifest:h,routeModules:f}=Ap(),{basename:m}=Tp(),{loaderData:p,matches:y}=ex(),x=N.useMemo(()=>T0(s,a,y,h,l,"data"),[s,a,y,h,l]),b=N.useMemo(()=>T0(s,a,y,h,l,"assets"),[s,a,y,h,l]),w=N.useMemo(()=>{if(s===l.pathname+l.search+l.hash)return[];let T=new Set,M=!1;if(a.forEach(U=>{let L=h.routes[U.route.id];!L||!L.hasLoader||(!x.some(Q=>Q.route.id===U.route.id)&&U.route.id in p&&f[U.route.id]?.shouldRevalidate||L.hasClientLoader?M=!0:T.add(U.route.id))}),T.size===0)return[];let z=Ib(s,m,u.unstable_trailingSlashAwareDataRequests,"data");return M&&T.size>0&&z.searchParams.set("_routes",a.filter(U=>T.has(U.route.id)).map(U=>U.route.id).join(",")),[z.pathname+z.search]},[m,u.unstable_trailingSlashAwareDataRequests,p,l,h,x,a,s,f]),S=N.useMemo(()=>Xb(b,h),[b,h]),O=nx(b);return N.createElement(N.Fragment,null,w.map(T=>N.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...r})),S.map(T=>N.createElement("link",{key:T,rel:"modulepreload",href:T,...r})),O.map(({key:T,link:M})=>N.createElement("link",{key:T,nonce:r.nonce,...M})))}function rx(...s){return a=>{s.forEach(r=>{typeof r=="function"?r(a):r!=null&&(r.current=a)})}}var ix=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ix&&(window.__reactRouterVersion="7.12.0")}catch{}function lx({basename:s,children:a,unstable_useTransitions:r,window:l}){let u=N.useRef();u.current==null&&(u.current=Bv({window:l,v5Compat:!0}));let h=u.current,[f,m]=N.useState({action:h.action,location:h.location}),p=N.useCallback(y=>{r===!1?m(y):N.startTransition(()=>m(y))},[r]);return N.useLayoutEffect(()=>h.listen(p),[h,p]),N.createElement(zb,{basename:s,children:a,location:f.location,navigationType:f.action,navigator:h,unstable_useTransitions:r})}var Op=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ed=N.forwardRef(function({onClick:a,discover:r="render",prefetch:l="none",relative:u,reloadDocument:h,replace:f,state:m,target:p,to:y,preventScrollReset:x,viewTransition:b,unstable_defaultShouldRevalidate:w,...S},O){let{basename:T,unstable_useTransitions:M}=N.useContext(Lt),z=typeof y=="string"&&Op.test(y),U=gp(y,T);y=U.to;let L=bb(y,{relative:u}),[Q,te,J]=tx(l,S),Y=cx(y,{replace:f,state:m,target:p,preventScrollReset:x,relative:u,viewTransition:b,unstable_defaultShouldRevalidate:w,unstable_useTransitions:M});function fe($e){a&&a($e),$e.defaultPrevented||Y($e)}let ge=N.createElement("a",{...S,...J,href:U.absoluteURL||L,onClick:U.isExternal||h?a:fe,ref:rx(O,te),target:p,"data-discover":!z&&r==="render"?"true":void 0});return Q&&!z?N.createElement(N.Fragment,null,ge,N.createElement(ax,{page:L})):ge});ed.displayName="Link";var Tc=N.forwardRef(function({"aria-current":a="page",caseSensitive:r=!1,className:l="",end:u=!1,style:h,to:f,viewTransition:m,children:p,...y},x){let b=Pr(f,{relative:y.relative}),w=rn(),S=N.useContext(Cl),{navigator:O,basename:T}=N.useContext(Lt),M=S!=null&&px(b)&&m===!0,z=O.encodeLocation?O.encodeLocation(b).pathname:b.pathname,U=w.pathname,L=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;r||(U=U.toLowerCase(),L=L?L.toLowerCase():null,z=z.toLowerCase()),L&&T&&(L=Aa(L,T)||L);const Q=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let te=U===z||!u&&U.startsWith(z)&&U.charAt(Q)==="/",J=L!=null&&(L===z||!u&&L.startsWith(z)&&L.charAt(z.length)==="/"),Y={isActive:te,isPending:J,isTransitioning:M},fe=te?a:void 0,ge;typeof l=="function"?ge=l(Y):ge=[l,te?"active":null,J?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let $e=typeof h=="function"?h(Y):h;return N.createElement(ed,{...y,"aria-current":fe,className:ge,ref:x,style:$e,to:f,viewTransition:m},typeof p=="function"?p(Y):p)});Tc.displayName="NavLink";var ox=N.forwardRef(({discover:s="render",fetcherKey:a,navigate:r,reloadDocument:l,replace:u,state:h,method:f=wl,action:m,onSubmit:p,relative:y,preventScrollReset:x,viewTransition:b,unstable_defaultShouldRevalidate:w,...S},O)=>{let{unstable_useTransitions:T}=N.useContext(Lt),M=fx(),z=mx(m,{relative:y}),U=f.toLowerCase()==="get"?"get":"post",L=typeof m=="string"&&Op.test(m),Q=te=>{if(p&&p(te),te.defaultPrevented)return;te.preventDefault();let J=te.nativeEvent.submitter,Y=J?.getAttribute("formmethod")||f,fe=()=>M(J||te.currentTarget,{fetcherKey:a,method:Y,navigate:r,replace:u,state:h,relative:y,preventScrollReset:x,viewTransition:b,unstable_defaultShouldRevalidate:w});T&&r!==!1?N.startTransition(()=>fe()):fe()};return N.createElement("form",{ref:O,method:U,action:z,onSubmit:l?p:Q,...S,"data-discover":!L&&s==="render"?"true":void 0})});ox.displayName="Form";function ux(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rp(s){let a=N.useContext(ks);return Be(a,ux(s)),a}function cx(s,{target:a,replace:r,state:l,preventScrollReset:u,relative:h,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let y=na(),x=rn(),b=Pr(s,{relative:h});return N.useCallback(w=>{if(Kb(w,a)){w.preventDefault();let S=r!==void 0?r:Ur(x)===Ur(b),O=()=>y(s,{replace:S,state:l,preventScrollReset:u,relative:h,viewTransition:f,unstable_defaultShouldRevalidate:m});p?N.startTransition(()=>O()):O()}},[x,y,b,r,l,a,s,u,h,f,m,p])}var dx=0,hx=()=>`__${String(++dx)}__`;function fx(){let{router:s}=Rp("useSubmit"),{basename:a}=N.useContext(Lt),r=kb(),l=s.fetch,u=s.navigate;return N.useCallback(async(h,f={})=>{let{action:m,method:p,encType:y,formData:x,body:b}=Yb(h,a);if(f.navigate===!1){let w=f.fetcherKey||hx();await l(w,r,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:x,body:b,formMethod:f.method||p,formEncType:f.encType||y,flushSync:f.flushSync})}else await u(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:x,body:b,formMethod:f.method||p,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:r,flushSync:f.flushSync,viewTransition:f.viewTransition})},[l,u,a,r])}function mx(s,{relative:a}={}){let{basename:r}=N.useContext(Lt),l=N.useContext(Jt);Be(l,"useFormAction must be used inside a RouteContext");let[u]=l.matches.slice(-1),h={...Pr(s||".",{relative:a})},f=rn();if(s==null){h.search=f.search;let m=new URLSearchParams(h.search),p=m.getAll("index");if(p.some(x=>x==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let x=m.toString();h.search=x?`?${x}`:""}}return(!s||s===".")&&u.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(h.pathname=h.pathname==="/"?r:Ta([r,h.pathname])),Ur(h)}function px(s,{relative:a}={}){let r=N.useContext(vp);Be(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=Rp("useViewTransitionState"),u=Pr(s,{relative:a});if(!r.isTransitioning)return!1;let h=Aa(r.currentLocation.pathname,l)||r.currentLocation.pathname,f=Aa(r.nextLocation.pathname,l)||r.nextLocation.pathname;return El(u.pathname,f)!=null||El(u.pathname,h)!=null}var Ml=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(s){return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},gx={setTimeout:(s,a)=>setTimeout(s,a),clearTimeout:s=>clearTimeout(s),setInterval:(s,a)=>setInterval(s,a),clearInterval:s=>clearInterval(s)},yx=class{#e=gx;#t=!1;setTimeoutProvider(s){this.#e=s}setTimeout(s,a){return this.#e.setTimeout(s,a)}clearTimeout(s){this.#e.clearTimeout(s)}setInterval(s,a){return this.#e.setInterval(s,a)}clearInterval(s){this.#e.clearInterval(s)}},Ac=new yx;function vx(s){setTimeout(s,0)}var Dl=typeof window>"u"||"Deno"in globalThis;function ea(){}function bx(s,a){return typeof s=="function"?s(a):s}function xx(s){return typeof s=="number"&&s>=0&&s!==1/0}function wx(s,a){return Math.max(s+(a||0)-Date.now(),0)}function Oc(s,a){return typeof s=="function"?s(a):s}function _x(s,a){return typeof s=="function"?s(a):s}function A0(s,a){const{type:r="all",exact:l,fetchStatus:u,predicate:h,queryKey:f,stale:m}=s;if(f){if(l){if(a.queryHash!==td(f,a.options))return!1}else if(!Lr(a.queryKey,f))return!1}if(r!=="all"){const p=a.isActive();if(r==="active"&&!p||r==="inactive"&&p)return!1}return!(typeof m=="boolean"&&a.isStale()!==m||u&&u!==a.state.fetchStatus||h&&!h(a))}function O0(s,a){const{exact:r,status:l,predicate:u,mutationKey:h}=s;if(h){if(!a.options.mutationKey)return!1;if(r){if(zr(a.options.mutationKey)!==zr(h))return!1}else if(!Lr(a.options.mutationKey,h))return!1}return!(l&&a.state.status!==l||u&&!u(a))}function td(s,a){return(a?.queryKeyHashFn||zr)(s)}function zr(s){return JSON.stringify(s,(a,r)=>Rc(r)?Object.keys(r).sort().reduce((l,u)=>(l[u]=r[u],l),{}):r)}function Lr(s,a){return s===a?!0:typeof s!=typeof a?!1:s&&a&&typeof s=="object"&&typeof a=="object"?Object.keys(a).every(r=>Lr(s[r],a[r])):!1}var Sx=Object.prototype.hasOwnProperty;function Cp(s,a){if(s===a)return s;const r=R0(s)&&R0(a);if(!r&&!(Rc(s)&&Rc(a)))return a;const u=(r?s:Object.keys(s)).length,h=r?a:Object.keys(a),f=h.length,m=r?new Array(f):{};let p=0;for(let y=0;y<f;y++){const x=r?y:h[y],b=s[x],w=a[x];if(b===w){m[x]=b,(r?y<u:Sx.call(s,x))&&p++;continue}if(b===null||w===null||typeof b!="object"||typeof w!="object"){m[x]=w;continue}const S=Cp(b,w);m[x]=S,S===b&&p++}return u===f&&p===u?s:m}function R0(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function Rc(s){if(!C0(s))return!1;const a=s.constructor;if(a===void 0)return!0;const r=a.prototype;return!(!C0(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(s)!==Object.prototype)}function C0(s){return Object.prototype.toString.call(s)==="[object Object]"}function jx(s){return new Promise(a=>{Ac.setTimeout(a,s)})}function Ex(s,a,r){return typeof r.structuralSharing=="function"?r.structuralSharing(s,a):r.structuralSharing!==!1?Cp(s,a):a}function Nx(s,a,r=0){const l=[...s,a];return r&&l.length>r?l.slice(1):l}function Tx(s,a,r=0){const l=[a,...s];return r&&l.length>r?l.slice(0,-1):l}var ad=Symbol();function kp(s,a){return!s.queryFn&&a?.initialPromise?()=>a.initialPromise:!s.queryFn||s.queryFn===ad?()=>Promise.reject(new Error(`Missing queryFn: '${s.queryHash}'`)):s.queryFn}function Ax(s,a,r){let l=!1,u;return Object.defineProperty(s,"signal",{enumerable:!0,get:()=>(u??=a(),l||(l=!0,u.aborted?r():u.addEventListener("abort",r,{once:!0})),u)}),s}var Ox=class extends Ml{#e;#t;#a;constructor(){super(),this.#a=s=>{if(!Dl&&window.addEventListener){const a=()=>s();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#a)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(s){this.#a=s,this.#t?.(),this.#t=s(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()})}setFocused(s){this.#e!==s&&(this.#e=s,this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(a=>{a(s)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Mp=new Ox;function Rx(){let s,a;const r=new Promise((u,h)=>{s=u,a=h});r.status="pending",r.catch(()=>{});function l(u){Object.assign(r,u),delete r.resolve,delete r.reject}return r.resolve=u=>{l({status:"fulfilled",value:u}),s(u)},r.reject=u=>{l({status:"rejected",reason:u}),a(u)},r}var Cx=vx;function kx(){let s=[],a=0,r=m=>{m()},l=m=>{m()},u=Cx;const h=m=>{a?s.push(m):u(()=>{r(m)})},f=()=>{const m=s;s=[],m.length&&u(()=>{l(()=>{m.forEach(p=>{r(p)})})})};return{batch:m=>{let p;a++;try{p=m()}finally{a--,a||f()}return p},batchCalls:m=>(...p)=>{h(()=>{m(...p)})},schedule:h,setNotifyFunction:m=>{r=m},setBatchNotifyFunction:m=>{l=m},setScheduler:m=>{u=m}}}var ft=kx(),Mx=class extends Ml{#e=!0;#t;#a;constructor(){super(),this.#a=s=>{if(!Dl&&window.addEventListener){const a=()=>s(!0),r=()=>s(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#a)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(s){this.#a=s,this.#t?.(),this.#t=s(this.setOnline.bind(this))}setOnline(s){this.#e!==s&&(this.#e=s,this.listeners.forEach(r=>{r(s)}))}isOnline(){return this.#e}},Tl=new Mx;function Dx(s){return Math.min(1e3*2**s,3e4)}function Dp(s){return(s??"online")==="online"?Tl.isOnline():!0}var Cc=class extends Error{constructor(s){super("CancelledError"),this.revert=s?.revert,this.silent=s?.silent}};function Up(s){let a=!1,r=0,l;const u=Rx(),h=()=>u.status!=="pending",f=T=>{if(!h()){const M=new Cc(T);w(M),s.onCancel?.(M)}},m=()=>{a=!0},p=()=>{a=!1},y=()=>Mp.isFocused()&&(s.networkMode==="always"||Tl.isOnline())&&s.canRun(),x=()=>Dp(s.networkMode)&&s.canRun(),b=T=>{h()||(l?.(),u.resolve(T))},w=T=>{h()||(l?.(),u.reject(T))},S=()=>new Promise(T=>{l=M=>{(h()||y())&&T(M)},s.onPause?.()}).then(()=>{l=void 0,h()||s.onContinue?.()}),O=()=>{if(h())return;let T;const M=r===0?s.initialPromise:void 0;try{T=M??s.fn()}catch(z){T=Promise.reject(z)}Promise.resolve(T).then(b).catch(z=>{if(h())return;const U=s.retry??(Dl?0:3),L=s.retryDelay??Dx,Q=typeof L=="function"?L(r,z):L,te=U===!0||typeof U=="number"&&r<U||typeof U=="function"&&U(r,z);if(a||!te){w(z);return}r++,s.onFail?.(r,z),jx(Q).then(()=>y()?void 0:S()).then(()=>{a?w(z):O()})})};return{promise:u,status:()=>u.status,cancel:f,continue:()=>(l?.(),u),cancelRetry:m,continueRetry:p,canStart:x,start:()=>(x()?O():S().then(O),u)}}var zp=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),xx(this.gcTime)&&(this.#e=Ac.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(s){this.gcTime=Math.max(this.gcTime||0,s??(Dl?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Ac.clearTimeout(this.#e),this.#e=void 0)}},Ux=class extends zp{#e;#t;#a;#s;#n;#i;#l;constructor(s){super(),this.#l=!1,this.#i=s.defaultOptions,this.setOptions(s.options),this.observers=[],this.#s=s.client,this.#a=this.#s.getQueryCache(),this.queryKey=s.queryKey,this.queryHash=s.queryHash,this.#e=M0(this.options),this.state=s.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(s){if(this.options={...this.#i,...s},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const a=M0(this.options);a.data!==void 0&&(this.setState(k0(a.data,a.dataUpdatedAt)),this.#e=a)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#a.remove(this)}setData(s,a){const r=Ex(this.state.data,s,this.options);return this.#r({data:r,type:"success",dataUpdatedAt:a?.updatedAt,manual:a?.manual}),r}setState(s,a){this.#r({type:"setState",state:s,setStateOptions:a})}cancel(s){const a=this.#n?.promise;return this.#n?.cancel(s),a?a.then(ea).catch(ea):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(s=>_x(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ad||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(s=>Oc(s.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(s=0){return this.state.data===void 0?!0:s==="static"?!1:this.state.isInvalidated?!0:!wx(this.state.dataUpdatedAt,s)}onFocus(){this.observers.find(a=>a.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(a=>a.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),this.#a.notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(a=>a!==s),this.observers.length||(this.#n&&(this.#l?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#a.notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(s,a){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&a?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(s&&this.setOptions(s),!this.options.queryFn){const m=this.observers.find(p=>p.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,l=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(this.#l=!0,r.signal)})},u=()=>{const m=kp(this.options,a),y=(()=>{const x={client:this.#s,queryKey:this.queryKey,meta:this.meta};return l(x),x})();return this.#l=!1,this.options.persister?this.options.persister(m,y,this):m(y)},f=(()=>{const m={fetchOptions:a,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:u};return l(m),m})();this.options.behavior?.onFetch(f,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==f.fetchOptions?.meta)&&this.#r({type:"fetch",meta:f.fetchOptions?.meta}),this.#n=Up({initialPromise:a?.initialPromise,fn:f.fetchFn,onCancel:m=>{m instanceof Cc&&m.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(m,p)=>{this.#r({type:"failed",failureCount:m,error:p})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0});try{const m=await this.#n.start();if(m===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(m),this.#a.config.onSuccess?.(m,this),this.#a.config.onSettled?.(m,this.state.error,this),m}catch(m){if(m instanceof Cc){if(m.silent)return this.#n.promise;if(m.revert){if(this.state.data===void 0)throw m;return this.state.data}}throw this.#r({type:"error",error:m}),this.#a.config.onError?.(m,this),this.#a.config.onSettled?.(this.state.data,m,this),m}finally{this.scheduleGc()}}#r(s){const a=r=>{switch(s.type){case"failed":return{...r,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...zx(r.data,this.options),fetchMeta:s.meta??null};case"success":const l={...r,...k0(s.data,s.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=s.manual?l:void 0,l;case"error":const u=s.error;return{...r,error:u,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:u,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...s.state}}};this.state=a(this.state),ft.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#a.notify({query:this,type:"updated",action:s})})}};function zx(s,a){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Dp(a.networkMode)?"fetching":"paused",...s===void 0&&{error:null,status:"pending"}}}function k0(s,a){return{data:s,dataUpdatedAt:a??Date.now(),error:null,isInvalidated:!1,status:"success"}}function M0(s){const a=typeof s.initialData=="function"?s.initialData():s.initialData,r=a!==void 0,l=r?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0;return{data:a,dataUpdateCount:0,dataUpdatedAt:r?l??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function D0(s){return{onFetch:(a,r)=>{const l=a.options,u=a.fetchOptions?.meta?.fetchMore?.direction,h=a.state.data?.pages||[],f=a.state.data?.pageParams||[];let m={pages:[],pageParams:[]},p=0;const y=async()=>{let x=!1;const b=O=>{Ax(O,()=>a.signal,()=>x=!0)},w=kp(a.options,a.fetchOptions),S=async(O,T,M)=>{if(x)return Promise.reject();if(T==null&&O.pages.length)return Promise.resolve(O);const U=(()=>{const J={client:a.client,queryKey:a.queryKey,pageParam:T,direction:M?"backward":"forward",meta:a.options.meta};return b(J),J})(),L=await w(U),{maxPages:Q}=a.options,te=M?Tx:Nx;return{pages:te(O.pages,L,Q),pageParams:te(O.pageParams,T,Q)}};if(u&&h.length){const O=u==="backward",T=O?Lx:U0,M={pages:h,pageParams:f},z=T(l,M);m=await S(M,z,O)}else{const O=s??h.length;do{const T=p===0?f[0]??l.initialPageParam:U0(l,m);if(p>0&&T==null)break;m=await S(m,T),p++}while(p<O)}return m};a.options.persister?a.fetchFn=()=>a.options.persister?.(y,{client:a.client,queryKey:a.queryKey,meta:a.options.meta,signal:a.signal},r):a.fetchFn=y}}}function U0(s,{pages:a,pageParams:r}){const l=a.length-1;return a.length>0?s.getNextPageParam(a[l],a,r[l],r):void 0}function Lx(s,{pages:a,pageParams:r}){return a.length>0?s.getPreviousPageParam?.(a[0],a,r[0],r):void 0}var qx=class extends zp{#e;#t;#a;#s;constructor(s){super(),this.#e=s.client,this.mutationId=s.mutationId,this.#a=s.mutationCache,this.#t=[],this.state=s.state||Bx(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){this.#t.includes(s)||(this.#t.push(s),this.clearGcTimeout(),this.#a.notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){this.#t=this.#t.filter(a=>a!==s),this.scheduleGc(),this.#a.notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#a.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(s){const a=()=>{this.#n({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=Up({fn:()=>this.options.mutationFn?this.options.mutationFn(s,r):Promise.reject(new Error("No mutationFn found")),onFail:(h,f)=>{this.#n({type:"failed",failureCount:h,error:f})},onPause:()=>{this.#n({type:"pause"})},onContinue:a,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#a.canRun(this)});const l=this.state.status==="pending",u=!this.#s.canStart();try{if(l)a();else{this.#n({type:"pending",variables:s,isPaused:u}),await this.#a.config.onMutate?.(s,this,r);const f=await this.options.onMutate?.(s,r);f!==this.state.context&&this.#n({type:"pending",context:f,variables:s,isPaused:u})}const h=await this.#s.start();return await this.#a.config.onSuccess?.(h,s,this.state.context,this,r),await this.options.onSuccess?.(h,s,this.state.context,r),await this.#a.config.onSettled?.(h,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(h,null,s,this.state.context,r),this.#n({type:"success",data:h}),h}catch(h){try{await this.#a.config.onError?.(h,s,this.state.context,this,r)}catch(f){Promise.reject(f)}try{await this.options.onError?.(h,s,this.state.context,r)}catch(f){Promise.reject(f)}try{await this.#a.config.onSettled?.(void 0,h,this.state.variables,this.state.context,this,r)}catch(f){Promise.reject(f)}try{await this.options.onSettled?.(void 0,h,s,this.state.context,r)}catch(f){Promise.reject(f)}throw this.#n({type:"error",error:h}),h}finally{this.#a.runNext(this)}}#n(s){const a=r=>{switch(s.type){case"failed":return{...r,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...r,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:s.error,failureCount:r.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=a(this.state),ft.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(s)}),this.#a.notify({mutation:this,type:"updated",action:s})})}};function Bx(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $x=class extends Ml{constructor(s={}){super(),this.config=s,this.#e=new Set,this.#t=new Map,this.#a=0}#e;#t;#a;build(s,a,r){const l=new qx({client:s,mutationCache:this,mutationId:++this.#a,options:s.defaultMutationOptions(a),state:r});return this.add(l),l}add(s){this.#e.add(s);const a=pl(s);if(typeof a=="string"){const r=this.#t.get(a);r?r.push(s):this.#t.set(a,[s])}this.notify({type:"added",mutation:s})}remove(s){if(this.#e.delete(s)){const a=pl(s);if(typeof a=="string"){const r=this.#t.get(a);if(r)if(r.length>1){const l=r.indexOf(s);l!==-1&&r.splice(l,1)}else r[0]===s&&this.#t.delete(a)}}this.notify({type:"removed",mutation:s})}canRun(s){const a=pl(s);if(typeof a=="string"){const l=this.#t.get(a)?.find(u=>u.state.status==="pending");return!l||l===s}else return!0}runNext(s){const a=pl(s);return typeof a=="string"?this.#t.get(a)?.find(l=>l!==s&&l.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){ft.batch(()=>{this.#e.forEach(s=>{this.notify({type:"removed",mutation:s})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(s){const a={exact:!0,...s};return this.getAll().find(r=>O0(a,r))}findAll(s={}){return this.getAll().filter(a=>O0(s,a))}notify(s){ft.batch(()=>{this.listeners.forEach(a=>{a(s)})})}resumePausedMutations(){const s=this.getAll().filter(a=>a.state.isPaused);return ft.batch(()=>Promise.all(s.map(a=>a.continue().catch(ea))))}};function pl(s){return s.options.scope?.id}var Hx=class extends Ml{constructor(s={}){super(),this.config=s,this.#e=new Map}#e;build(s,a,r){const l=a.queryKey,u=a.queryHash??td(l,a);let h=this.get(u);return h||(h=new Ux({client:s,queryKey:l,queryHash:u,options:s.defaultQueryOptions(a),state:r,defaultOptions:s.getQueryDefaults(l)}),this.add(h)),h}add(s){this.#e.has(s.queryHash)||(this.#e.set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const a=this.#e.get(s.queryHash);a&&(s.destroy(),a===s&&this.#e.delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){ft.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return this.#e.get(s)}getAll(){return[...this.#e.values()]}find(s){const a={exact:!0,...s};return this.getAll().find(r=>A0(a,r))}findAll(s={}){const a=this.getAll();return Object.keys(s).length>0?a.filter(r=>A0(s,r)):a}notify(s){ft.batch(()=>{this.listeners.forEach(a=>{a(s)})})}onFocus(){ft.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){ft.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},Kx=class{#e;#t;#a;#s;#n;#i;#l;#r;constructor(s={}){this.#e=s.queryCache||new Hx,this.#t=s.mutationCache||new $x,this.#a=s.defaultOptions||{},this.#s=new Map,this.#n=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#l=Mp.subscribe(async s=>{s&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=Tl.subscribe(async s=>{s&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#l?.(),this.#l=void 0,this.#r?.(),this.#r=void 0)}isFetching(s){return this.#e.findAll({...s,fetchStatus:"fetching"}).length}isMutating(s){return this.#t.findAll({...s,status:"pending"}).length}getQueryData(s){const a=this.defaultQueryOptions({queryKey:s});return this.#e.get(a.queryHash)?.state.data}ensureQueryData(s){const a=this.defaultQueryOptions(s),r=this.#e.build(this,a),l=r.state.data;return l===void 0?this.fetchQuery(s):(s.revalidateIfStale&&r.isStaleByTime(Oc(a.staleTime,r))&&this.prefetchQuery(a),Promise.resolve(l))}getQueriesData(s){return this.#e.findAll(s).map(({queryKey:a,state:r})=>{const l=r.data;return[a,l]})}setQueryData(s,a,r){const l=this.defaultQueryOptions({queryKey:s}),h=this.#e.get(l.queryHash)?.state.data,f=bx(a,h);if(f!==void 0)return this.#e.build(this,l).setData(f,{...r,manual:!0})}setQueriesData(s,a,r){return ft.batch(()=>this.#e.findAll(s).map(({queryKey:l})=>[l,this.setQueryData(l,a,r)]))}getQueryState(s){const a=this.defaultQueryOptions({queryKey:s});return this.#e.get(a.queryHash)?.state}removeQueries(s){const a=this.#e;ft.batch(()=>{a.findAll(s).forEach(r=>{a.remove(r)})})}resetQueries(s,a){const r=this.#e;return ft.batch(()=>(r.findAll(s).forEach(l=>{l.reset()}),this.refetchQueries({type:"active",...s},a)))}cancelQueries(s,a={}){const r={revert:!0,...a},l=ft.batch(()=>this.#e.findAll(s).map(u=>u.cancel(r)));return Promise.all(l).then(ea).catch(ea)}invalidateQueries(s,a={}){return ft.batch(()=>(this.#e.findAll(s).forEach(r=>{r.invalidate()}),s?.refetchType==="none"?Promise.resolve():this.refetchQueries({...s,type:s?.refetchType??s?.type??"active"},a)))}refetchQueries(s,a={}){const r={...a,cancelRefetch:a.cancelRefetch??!0},l=ft.batch(()=>this.#e.findAll(s).filter(u=>!u.isDisabled()&&!u.isStatic()).map(u=>{let h=u.fetch(void 0,r);return r.throwOnError||(h=h.catch(ea)),u.state.fetchStatus==="paused"?Promise.resolve():h}));return Promise.all(l).then(ea)}fetchQuery(s){const a=this.defaultQueryOptions(s);a.retry===void 0&&(a.retry=!1);const r=this.#e.build(this,a);return r.isStaleByTime(Oc(a.staleTime,r))?r.fetch(a):Promise.resolve(r.state.data)}prefetchQuery(s){return this.fetchQuery(s).then(ea).catch(ea)}fetchInfiniteQuery(s){return s.behavior=D0(s.pages),this.fetchQuery(s)}prefetchInfiniteQuery(s){return this.fetchInfiniteQuery(s).then(ea).catch(ea)}ensureInfiniteQueryData(s){return s.behavior=D0(s.pages),this.ensureQueryData(s)}resumePausedMutations(){return Tl.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#a}setDefaultOptions(s){this.#a=s}setQueryDefaults(s,a){this.#s.set(zr(s),{queryKey:s,defaultOptions:a})}getQueryDefaults(s){const a=[...this.#s.values()],r={};return a.forEach(l=>{Lr(s,l.queryKey)&&Object.assign(r,l.defaultOptions)}),r}setMutationDefaults(s,a){this.#n.set(zr(s),{mutationKey:s,defaultOptions:a})}getMutationDefaults(s){const a=[...this.#n.values()],r={};return a.forEach(l=>{Lr(s,l.mutationKey)&&Object.assign(r,l.defaultOptions)}),r}defaultQueryOptions(s){if(s._defaulted)return s;const a={...this.#a.queries,...this.getQueryDefaults(s.queryKey),...s,_defaulted:!0};return a.queryHash||(a.queryHash=td(a.queryKey,a)),a.refetchOnReconnect===void 0&&(a.refetchOnReconnect=a.networkMode!=="always"),a.throwOnError===void 0&&(a.throwOnError=!!a.suspense),!a.networkMode&&a.persister&&(a.networkMode="offlineFirst"),a.queryFn===ad&&(a.enabled=!1),a}defaultMutationOptions(s){return s?._defaulted?s:{...this.#a.mutations,...s?.mutationKey&&this.getMutationDefaults(s.mutationKey),...s,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Gx=N.createContext(void 0),Vx=({client:s,children:a})=>(N.useEffect(()=>(s.mount(),()=>{s.unmount()}),[s]),c.jsx(Gx.Provider,{value:s,children:a}));function Ul(s,a){var r={};for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&a.indexOf(l)<0&&(r[l]=s[l]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(s);u<l.length;u++)a.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(s,l[u])&&(r[l[u]]=s[l[u]]);return r}function Yx(s,a,r,l){function u(h){return h instanceof r?h:new r(function(f){f(h)})}return new(r||(r=Promise))(function(h,f){function m(x){try{y(l.next(x))}catch(b){f(b)}}function p(x){try{y(l.throw(x))}catch(b){f(b)}}function y(x){x.done?h(x.value):u(x.value).then(m,p)}y((l=l.apply(s,a||[])).next())})}const Ix=s=>s?(...a)=>s(...a):(...a)=>fetch(...a);class nd extends Error{constructor(a,r="FunctionsError",l){super(a),this.name=r,this.context=l}}class Qx extends nd{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class z0 extends nd{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class L0 extends nd{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var kc;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(kc||(kc={}));class Px{constructor(a,{headers:r={},customFetch:l,region:u=kc.Any}={}){this.url=a,this.headers=r,this.region=u,this.fetch=Ix(l)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return Yx(this,arguments,void 0,function*(r,l={}){var u;let h,f;try{const{headers:m,method:p,body:y,signal:x,timeout:b}=l;let w={},{region:S}=l;S||(S=this.region);const O=new URL(`${this.url}/${r}`);S&&S!=="any"&&(w["x-region"]=S,O.searchParams.set("forceFunctionRegion",S));let T;y&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",T=y):typeof y=="string"?(w["Content-Type"]="text/plain",T=y):typeof FormData<"u"&&y instanceof FormData?T=y:(w["Content-Type"]="application/json",T=JSON.stringify(y)):y&&typeof y!="string"&&!(typeof Blob<"u"&&y instanceof Blob)&&!(y instanceof ArrayBuffer)&&!(typeof FormData<"u"&&y instanceof FormData)?T=JSON.stringify(y):T=y;let M=x;b&&(f=new AbortController,h=setTimeout(()=>f.abort(),b),x?(M=f.signal,x.addEventListener("abort",()=>f.abort())):M=f.signal);const z=yield this.fetch(O.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),m),body:T,signal:M}).catch(te=>{throw new Qx(te)}),U=z.headers.get("x-relay-error");if(U&&U==="true")throw new z0(z);if(!z.ok)throw new L0(z);let L=((u=z.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),Q;return L==="application/json"?Q=yield z.json():L==="application/octet-stream"||L==="application/pdf"?Q=yield z.blob():L==="text/event-stream"?Q=z:L==="multipart/form-data"?Q=yield z.formData():Q=yield z.text(),{data:Q,error:null,response:z}}catch(m){return{data:null,error:m,response:m instanceof L0||m instanceof z0?m.context:void 0}}finally{h&&clearTimeout(h)}})}}var Jx=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},Xx=class{constructor(s){var a,r;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(a=s.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=s.signal,this.isMaybeSingle=(r=s.isMaybeSingle)!==null&&r!==void 0?r:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=new Headers(this.headers),this.headers.set(s,a),this}then(s,a){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{let f=null,m=null,p=null,y=h.status,x=h.statusText;if(h.ok){var b,w;if(r.method!=="HEAD"){var S;const z=await h.text();z===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((S=r.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?m=z:m=JSON.parse(z))}const T=(b=r.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),M=(w=h.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");T&&M&&M.length>1&&(p=parseInt(M[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(m)&&(m.length>1?(f={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,p=null,y=406,x="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var O;const T=await h.text();try{f=JSON.parse(T),Array.isArray(f)&&h.status===404&&(m=[],f=null,y=200,x="OK")}catch{h.status===404&&T===""?(y=204,x="No Content"):f={message:T}}if(f&&r.isMaybeSingle&&(!(f==null||(O=f.details)===null||O===void 0)&&O.includes("0 rows"))&&(f=null,y=200,x="OK"),f&&r.shouldThrowOnError)throw new Jx(f)}return{error:f,data:m,count:p,status:y,statusText:x}});return this.shouldThrowOnError||(u=u.catch(h=>{var f;let m="";const p=h?.cause;if(p){var y,x,b,w;const O=(y=p?.message)!==null&&y!==void 0?y:"",T=(x=p?.code)!==null&&x!==void 0?x:"";m=`${(b=h?.name)!==null&&b!==void 0?b:"FetchError"}: ${h?.message}`,m+=`

Caused by: ${(w=p?.name)!==null&&w!==void 0?w:"Error"}: ${O}`,T&&(m+=` (${T})`),p?.stack&&(m+=`
${p.stack}`)}else{var S;m=(S=h?.stack)!==null&&S!==void 0?S:""}return{error:{message:`${(f=h?.name)!==null&&f!==void 0?f:"FetchError"}: ${h?.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(s,a)}returns(){return this}overrideTypes(){return this}},Zx=class extends Xx{select(s){let a=!1;const r=(s??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:a=!0,nullsFirst:r,foreignTable:l,referencedTable:u=l}={}){const h=u?`${u}.order`:"order",f=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${f?`${f},`:""}${s}.${a?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:a,referencedTable:r=a}={}){const l=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,a,{foreignTable:r,referencedTable:l=r}={}){const u=typeof l>"u"?"offset":`${l}.offset`,h=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${s}`),this.url.searchParams.set(h,`${a-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:a=!1,settings:r=!1,buffers:l=!1,wal:u=!1,format:h="text"}={}){var f;const m=[s?"analyze":null,a?"verbose":null,r?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),p=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${p}"; options=${m};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const q0=new RegExp("[,()]");var Es=class extends Zx{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}regexMatch(s,a){return this.url.searchParams.append(s,`match.${a}`),this}regexIMatch(s,a){return this.url.searchParams.append(s,`imatch.${a}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}isDistinct(s,a){return this.url.searchParams.append(s,`isdistinct.${a}`),this}in(s,a){const r=Array.from(new Set(a)).map(l=>typeof l=="string"&&q0.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`in.(${r})`),this}notIn(s,a){const r=Array.from(new Set(a)).map(l=>typeof l=="string"&&q0.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`not.in.(${r})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:r,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const h=r===void 0?"":`(${r})`;return this.url.searchParams.append(s,`${u}fts${h}.${a}`),this}match(s){return Object.entries(s).forEach(([a,r])=>{this.url.searchParams.append(a,`eq.${r}`)}),this}not(s,a,r){return this.url.searchParams.append(s,`not.${a}.${r}`),this}or(s,{foreignTable:a,referencedTable:r=a}={}){const l=r?`${r}.or`:"or";return this.url.searchParams.append(l,`(${s})`),this}filter(s,a,r){return this.url.searchParams.append(s,`${a}.${r}`),this}},Fx=class{constructor(s,{headers:a={},schema:r,fetch:l}){this.url=s,this.headers=new Headers(a),this.schema=r,this.fetch=l}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(s,a){const{head:r=!1,count:l}=a??{},u=r?"HEAD":"GET";let h=!1;const f=(s??"*").split("").map(y=>/\s/.test(y)&&!h?"":(y==='"'&&(h=!h),y)).join(""),{url:m,headers:p}=this.cloneRequestState();return m.searchParams.set("select",f),l&&p.append("Prefer",`count=${l}`),new Es({method:u,url:m,headers:p,schema:this.schema,fetch:this.fetch})}insert(s,{count:a,defaultToNull:r=!0}={}){var l;const u="POST",{url:h,headers:f}=this.cloneRequestState();if(a&&f.append("Prefer",`count=${a}`),r||f.append("Prefer","missing=default"),Array.isArray(s)){const m=s.reduce((p,y)=>p.concat(Object.keys(y)),[]);if(m.length>0){const p=[...new Set(m)].map(y=>`"${y}"`);h.searchParams.set("columns",p.join(","))}}return new Es({method:u,url:h,headers:f,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:a,ignoreDuplicates:r=!1,count:l,defaultToNull:u=!0}={}){var h;const f="POST",{url:m,headers:p}=this.cloneRequestState();if(p.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),a!==void 0&&m.searchParams.set("on_conflict",a),l&&p.append("Prefer",`count=${l}`),u||p.append("Prefer","missing=default"),Array.isArray(s)){const y=s.reduce((x,b)=>x.concat(Object.keys(b)),[]);if(y.length>0){const x=[...new Set(y)].map(b=>`"${b}"`);m.searchParams.set("columns",x.join(","))}}return new Es({method:f,url:m,headers:p,schema:this.schema,body:s,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(s,{count:a}={}){var r;const l="PATCH",{url:u,headers:h}=this.cloneRequestState();return a&&h.append("Prefer",`count=${a}`),new Es({method:l,url:u,headers:h,schema:this.schema,body:s,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:s}={}){var a;const r="DELETE",{url:l,headers:u}=this.cloneRequestState();return s&&u.append("Prefer",`count=${s}`),new Es({method:r,url:l,headers:u,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}},Wx=class Lp{constructor(a,{headers:r={},schema:l,fetch:u}={}){this.url=a,this.headers=new Headers(r),this.schemaName=l,this.fetch=u}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Fx(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new Lp(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,r={},{head:l=!1,get:u=!1,count:h}={}){var f;let m;const p=new URL(`${this.url}/rpc/${a}`);let y;const x=S=>S!==null&&typeof S=="object"&&(!Array.isArray(S)||S.some(x)),b=l&&Object.values(r).some(x);b?(m="POST",y=r):l||u?(m=l?"HEAD":"GET",Object.entries(r).filter(([S,O])=>O!==void 0).map(([S,O])=>[S,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([S,O])=>{p.searchParams.append(S,O)})):(m="POST",y=r);const w=new Headers(this.headers);return b?w.set("Prefer",h?`count=${h},return=minimal`:"return=minimal"):h&&w.set("Prefer",`count=${h}`),new Es({method:m,url:p,headers:w,schema:this.schemaName,body:y,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};class ew{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const l=r.versions;if(l&&l.node){const u=l.node,h=parseInt(u.replace(/^v/,"").split(".")[0]);return h>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${h} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${h} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let r=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(r+=`

Suggested solution: ${a.workaround}`),new Error(r)}static createWebSocket(a,r){const l=this.getWebSocketConstructor();return new l(a,r)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const tw="2.90.1",aw=`realtime-js/${tw}`,qp="1.0.0",nw="2.0.0",B0=qp,Mc=1e4,sw=1e3,rw=100;var tn;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(tn||(tn={}));var et;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(et||(et={}));var aa;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(aa||(aa={}));var Dc;(function(s){s.websocket="websocket"})(Dc||(Dc={}));var On;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(On||(On={}));class iw{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,r){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(a));let l=[a.join_ref,a.ref,a.topic,a.event,a.payload];return r(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(a){var r;return this._isArrayBuffer((r=a.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var r,l;const u=(l=(r=a.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(a){var r,l;const u=(l=(r=a.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:{},f=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(a,r,l){var u,h;const f=a.topic,m=(u=a.ref)!==null&&u!==void 0?u:"",p=(h=a.join_ref)!==null&&h!==void 0?h:"",y=a.payload.event,x=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},b=Object.keys(x).length===0?"":JSON.stringify(x);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+m.length+f.length+y.length+b.length,S=new ArrayBuffer(this.HEADER_LENGTH+w);let O=new DataView(S),T=0;O.setUint8(T++,this.KINDS.userBroadcastPush),O.setUint8(T++,p.length),O.setUint8(T++,m.length),O.setUint8(T++,f.length),O.setUint8(T++,y.length),O.setUint8(T++,b.length),O.setUint8(T++,r),Array.from(p,z=>O.setUint8(T++,z.charCodeAt(0))),Array.from(m,z=>O.setUint8(T++,z.charCodeAt(0))),Array.from(f,z=>O.setUint8(T++,z.charCodeAt(0))),Array.from(y,z=>O.setUint8(T++,z.charCodeAt(0))),Array.from(b,z=>O.setUint8(T++,z.charCodeAt(0)));var M=new Uint8Array(S.byteLength+l.byteLength);return M.set(new Uint8Array(S),0),M.set(new Uint8Array(l),S.byteLength),M.buffer}decode(a,r){if(this._isArrayBuffer(a)){let l=this._binaryDecode(a);return r(l)}if(typeof a=="string"){const l=JSON.parse(a),[u,h,f,m,p]=l;return r({join_ref:u,ref:h,topic:f,event:m,payload:p})}return r({})}_binaryDecode(a){const r=new DataView(a),l=r.getUint8(0),u=new TextDecoder;if(l===this.KINDS.userBroadcast)return this._decodeUserBroadcast(a,r,u)}_decodeUserBroadcast(a,r,l){const u=r.getUint8(1),h=r.getUint8(2),f=r.getUint8(3),m=r.getUint8(4);let p=this.HEADER_LENGTH+4;const y=l.decode(a.slice(p,p+u));p=p+u;const x=l.decode(a.slice(p,p+h));p=p+h;const b=l.decode(a.slice(p,p+f));p=p+f;const w=a.slice(p,a.byteLength),S=m===this.JSON_ENCODING?JSON.parse(l.decode(w)):w,O={type:this.BROADCAST_EVENT,event:x,payload:S};return f>0&&(O.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:O}}_isArrayBuffer(a){var r;return a instanceof ArrayBuffer||((r=a?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(a,r){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([l])=>r.includes(l)))}}class Bp{constructor(a,r){this.callback=a,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var De;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(De||(De={}));const $0=(s,a,r={})=>{var l;const u=(l=r.skipTypes)!==null&&l!==void 0?l:[];return a?Object.keys(a).reduce((h,f)=>(h[f]=lw(f,s,a,u),h),{}):{}},lw=(s,a,r,l)=>{const u=a.find(m=>m.name===s),h=u?.type,f=r[s];return h&&!l.includes(h)?$p(h,f):Uc(f)},$p=(s,a)=>{if(s.charAt(0)==="_"){const r=s.slice(1,s.length);return dw(a,r)}switch(s){case De.bool:return ow(a);case De.float4:case De.float8:case De.int2:case De.int4:case De.int8:case De.numeric:case De.oid:return uw(a);case De.json:case De.jsonb:return cw(a);case De.timestamp:return hw(a);case De.abstime:case De.date:case De.daterange:case De.int4range:case De.int8range:case De.money:case De.reltime:case De.text:case De.time:case De.timestamptz:case De.timetz:case De.tsrange:case De.tstzrange:return Uc(a);default:return Uc(a)}},Uc=s=>s,ow=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},uw=s=>{if(typeof s=="string"){const a=parseFloat(s);if(!Number.isNaN(a))return a}return s},cw=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},dw=(s,a)=>{if(typeof s!="string")return s;const r=s.length-1,l=s[r];if(s[0]==="{"&&l==="}"){let h;const f=s.slice(1,r);try{h=JSON.parse("["+f+"]")}catch{h=f?f.split(","):[]}return h.map(m=>$p(a,m))}return s},hw=s=>typeof s=="string"?s.replace(" ","T"):s,Hp=s=>{const a=new URL(s);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class fc{constructor(a,r,l={},u=Mc){this.channel=a,this.event=r,this.payload=l,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,r){var l;return this._hasReceived(a)&&r((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:a,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:r}){this.recHooks.filter(l=>l.status===a).forEach(l=>l.callback(r))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var H0;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(H0||(H0={}));class Mr{constructor(a,r){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},u=>{const{onJoin:h,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Mr.syncState(this.state,u,h,f),this.pendingDiffs.forEach(p=>{this.state=Mr.syncDiff(this.state,p,h,f)}),this.pendingDiffs=[],m()}),this.channel._on(l.diff,{},u=>{const{onJoin:h,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=Mr.syncDiff(this.state,u,h,f),m())}),this.onJoin((u,h,f)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:h,newPresences:f})}),this.onLeave((u,h,f)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:h,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,r,l,u){const h=this.cloneDeep(a),f=this.transformState(r),m={},p={};return this.map(h,(y,x)=>{f[y]||(p[y]=x)}),this.map(f,(y,x)=>{const b=h[y];if(b){const w=x.map(M=>M.presence_ref),S=b.map(M=>M.presence_ref),O=x.filter(M=>S.indexOf(M.presence_ref)<0),T=b.filter(M=>w.indexOf(M.presence_ref)<0);O.length>0&&(m[y]=O),T.length>0&&(p[y]=T)}else m[y]=x}),this.syncDiff(h,{joins:m,leaves:p},l,u)}static syncDiff(a,r,l,u){const{joins:h,leaves:f}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return l||(l=()=>{}),u||(u=()=>{}),this.map(h,(m,p)=>{var y;const x=(y=a[m])!==null&&y!==void 0?y:[];if(a[m]=this.cloneDeep(p),x.length>0){const b=a[m].map(S=>S.presence_ref),w=x.filter(S=>b.indexOf(S.presence_ref)<0);a[m].unshift(...w)}l(m,x,p)}),this.map(f,(m,p)=>{let y=a[m];if(!y)return;const x=p.map(b=>b.presence_ref);y=y.filter(b=>x.indexOf(b.presence_ref)<0),a[m]=y,u(m,y,p),y.length===0&&delete a[m]}),a}static map(a,r){return Object.getOwnPropertyNames(a).map(l=>r(l,a[l]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((r,l)=>{const u=a[l];return"metas"in u?r[l]=u.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):r[l]=u,r},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var K0;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(K0||(K0={}));var Dr;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(Dr||(Dr={}));var Na;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(Na||(Na={}));class As{constructor(a,r={config:{}},l){var u,h;if(this.topic=a,this.params=r,this.socket=l,this.bindings={},this.state=et.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new fc(this,aa.join,this.params,this.timeout),this.rejoinTimer=new Bp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=et.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=et.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this._on(aa.reply,{},(f,m)=>{this._trigger(this._replyEventName(m),f)}),this.presence=new Mr(this),this.broadcastEndpointURL=Hp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((h=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||h===void 0)&&h.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,r=this.timeout){var l,u,h;if(this.socket.isConnected()||this.socket.connect(),this.state==et.closed){const{config:{broadcast:f,presence:m,private:p}}=this.params,y=(u=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(S=>S.filter))!==null&&u!==void 0?u:[],x=!!this.bindings[Dr.PRESENCE]&&this.bindings[Dr.PRESENCE].length>0||((h=this.params.config.presence)===null||h===void 0?void 0:h.enabled)===!0,b={},w={broadcast:f,presence:Object.assign(Object.assign({},m),{enabled:x}),postgres_changes:y,private:p};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(S=>a?.(Na.CHANNEL_ERROR,S)),this._onClose(()=>a?.(Na.CLOSED)),this.updateJoinPayload(Object.assign({config:w},b)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:S})=>{var O;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){a?.(Na.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,M=(O=T?.length)!==null&&O!==void 0?O:0,z=[];for(let U=0;U<M;U++){const L=T[U],{filter:{event:Q,schema:te,table:J,filter:Y}}=L,fe=S&&S[U];if(fe&&fe.event===Q&&As.isFilterValueEqual(fe.schema,te)&&As.isFilterValueEqual(fe.table,J)&&As.isFilterValueEqual(fe.filter,Y))z.push(Object.assign(Object.assign({},L),{id:fe.id}));else{this.unsubscribe(),this.state=et.errored,a?.(Na.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=z,a&&a(Na.SUBSCRIBED);return}}).receive("error",S=>{this.state=et.errored,a?.(Na.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{a?.(Na.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,r={}){return await this.send({type:"presence",event:"track",payload:a},r.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,r,l){return this.state===et.joined&&a===Dr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,r,l)}async httpSend(a,r,l={}){var u;if(r==null)return Promise.reject("Payload is required for httpSend()");const h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:r,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(u=l.timeout)!==null&&u!==void 0?u:this.timeout);if(m.status===202)return{success:!0};let p=m.statusText;try{const y=await m.json();p=y.error||y.message||p}catch{}return Promise.reject(new Error(p))}async send(a,r={}){var l,u;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:h,payload:f}=a,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:f,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(l=r.timeout)!==null&&l!==void 0?l:this.timeout);return await((u=y.body)===null||u===void 0?void 0:u.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var f,m,p;const y=this._push(a.type,a,r.timeout||this.timeout);a.type==="broadcast"&&!(!((p=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||p===void 0)&&p.ack)&&h("ok"),y.receive("ok",()=>h("ok")),y.receive("error",()=>h("error")),y.receive("timeout",()=>h("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=et.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(aa.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(u=>{l=new fc(this,aa.leave,{},a),l.receive("ok",()=>{r(),u("ok")}).receive("timeout",()=>{r(),u("timed out")}).receive("error",()=>{u("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=et.closed,this.bindings={}}async _fetchWithTimeout(a,r,l){const u=new AbortController,h=setTimeout(()=>u.abort(),l),f=await this.socket.fetch(a,Object.assign(Object.assign({},r),{signal:u.signal}));return clearTimeout(h),f}_push(a,r,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new fc(this,a,r,l);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>rw){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(a,r,l){return r}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,r,l){var u,h;const f=a.toLocaleLowerCase(),{close:m,error:p,leave:y,join:x}=aa;if(l&&[m,p,y,x].indexOf(f)>=0&&l!==this._joinRef())return;let w=this._onMessage(f,r,l);if(r&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(S=>{var O,T,M;return((O=S.filter)===null||O===void 0?void 0:O.event)==="*"||((M=(T=S.filter)===null||T===void 0?void 0:T.event)===null||M===void 0?void 0:M.toLocaleLowerCase())===f}).map(S=>S.callback(w,l)):(h=this.bindings[f])===null||h===void 0||h.filter(S=>{var O,T,M,z,U,L,Q,te;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in S){const J=S.id,Y=(O=S.filter)===null||O===void 0?void 0:O.event;return J&&((T=r.ids)===null||T===void 0?void 0:T.includes(J))&&(Y==="*"||Y?.toLocaleLowerCase()===((M=r.data)===null||M===void 0?void 0:M.type.toLocaleLowerCase()))&&(!(!((z=S.filter)===null||z===void 0)&&z.table)||S.filter.table===((U=r.data)===null||U===void 0?void 0:U.table))}else{const J=(Q=(L=S?.filter)===null||L===void 0?void 0:L.event)===null||Q===void 0?void 0:Q.toLocaleLowerCase();return J==="*"||J===((te=r?.event)===null||te===void 0?void 0:te.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===f}).map(S=>{if(typeof w=="object"&&"ids"in w){const O=w.data,{schema:T,table:M,commit_timestamp:z,type:U,errors:L}=O;w=Object.assign(Object.assign({},{schema:T,table:M,commit_timestamp:z,eventType:U,new:{},old:{},errors:L}),this._getPayloadRecords(O))}S.callback(w,l)})}_isClosed(){return this.state===et.closed}_isJoined(){return this.state===et.joined}_isJoining(){return this.state===et.joining}_isLeaving(){return this.state===et.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,r,l){const u=a.toLocaleLowerCase(),h={type:u,filter:r,callback:l};return this.bindings[u]?this.bindings[u].push(h):this.bindings[u]=[h],this}_off(a,r){const l=a.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(u=>{var h;return!(((h=u.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===l&&As.isEqual(u.filter,r))})),this}static isEqual(a,r){if(Object.keys(a).length!==Object.keys(r).length)return!1;for(const l in a)if(a[l]!==r[l])return!1;return!0}static isFilterValueEqual(a,r){return(a??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(aa.close,{},a)}_onError(a){this._on(aa.error,{},r=>a(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=et.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const r={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(r.new=$0(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(r.old=$0(a.columns,a.old_record)),r}}const mc=()=>{},gl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},fw=[1e3,2e3,5e3,1e4],mw=1e4,pw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class gw{constructor(a,r){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Mc,this.transport=null,this.heartbeatIntervalMs=gl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=mc,this.ref=0,this.reconnectTimer=null,this.vsn=B0,this.logger=mc,this.conn=null,this.sendBuffer=[],this.serializer=new iw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=u=>u?(...h)=>u(...h):(...h)=>fetch(...h),!(!((l=r?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${a}/${Dc.websocket}`,this.httpEndpoint=Hp(a),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ew.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const r=a.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const r=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const a=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,r,l){this.logger(a,r,l)}connectionState(){switch(this.conn&&this.conn.readyState){case tn.connecting:return On.Connecting;case tn.open:return On.Open;case tn.closing:return On.Closing;default:return On.Closed}}isConnected(){return this.connectionState()===On.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,r={config:{}}){const l=`realtime:${a}`,u=this.getChannels().find(h=>h.topic===l);if(u)return u;{const h=new As(`realtime:${a}`,r,this);return this.channels.push(h),h}}push(a){const{topic:r,event:l,payload:u,ref:h}=a,f=()=>{this.encode(a,m=>{var p;(p=this.conn)===null||p===void 0||p.send(m)})};this.log("push",`${r} ${l} (${h})`,u),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(sw,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},gl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let r=this.channels.find(l=>l.topic===a&&(l._isJoined()||l._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${a}"`),r.unsubscribe())}_remove(a){this.channels=this.channels.filter(r=>r.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const y=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",y)}catch(x){this.log("error","error in heartbeat callback",x)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:l,event:u,payload:h,ref:f}=r,m=f?`(${f})`:"",p=h.status||"";this.log("receive",`${p} ${l} ${u} ${m}`.trim(),h),this.channels.filter(y=>y._isMember(l)).forEach(y=>y._trigger(u,h,f)),this._triggerStateCallbacks("message",r)})}_clearTimer(a){var r;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===tn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===tn.open||this.conn.readyState===tn.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var r;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(aa.error))}_appendParams(a,r){if(Object.keys(r).length===0)return a;const l=a.match(/\?/)?"&":"?",u=new URLSearchParams(r);return`${a}${l}${u}`}_workerObjectUrl(a){let r;if(a)r=a;else{const l=new Blob([pw],{type:"application/javascript"});r=URL.createObjectURL(l)}return r}_setConnectionState(a,r=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(a=null){let r,l=!1;if(a)r=a,l=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),r=this.accessTokenValue}else r=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(u=>{const h={access_token:r,version:aw};r&&u.updateJoinPayload(h),u.joinedOnce&&u._isJoined()&&u._push(aa.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${a}`,r)})}_triggerStateCallbacks(a,r){try{this.stateChangeCallbacks[a].forEach(l=>{try{l(r)}catch(u){this.log("error",`error in ${a} callback`,u)}})}catch(l){this.log("error",`error triggering ${a} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new Bp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},gl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var r,l,u,h,f,m,p,y,x,b,w,S;switch(this.transport=(r=a?.transport)!==null&&r!==void 0?r:null,this.timeout=(l=a?.timeout)!==null&&l!==void 0?l:Mc,this.heartbeatIntervalMs=(u=a?.heartbeatIntervalMs)!==null&&u!==void 0?u:gl.HEARTBEAT_INTERVAL,this.worker=(h=a?.worker)!==null&&h!==void 0?h:!1,this.accessToken=(f=a?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(m=a?.heartbeatCallback)!==null&&m!==void 0?m:mc,this.vsn=(p=a?.vsn)!==null&&p!==void 0?p:B0,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=a?.reconnectAfterMs)!==null&&y!==void 0?y:(O=>fw[O-1]||mw),this.vsn){case qp:this.encode=(x=a?.encode)!==null&&x!==void 0?x:((O,T)=>T(JSON.stringify(O))),this.decode=(b=a?.decode)!==null&&b!==void 0?b:((O,T)=>T(JSON.parse(O)));break;case nw:this.encode=(w=a?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(S=a?.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}var qr=class extends Error{constructor(s,a){super(s),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function yw(s,a,r){const l=new URL(a,s);if(r)for(const[u,h]of Object.entries(r))h!==void 0&&l.searchParams.set(u,h);return l.toString()}async function vw(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function bw(s){const a=s.fetchImpl??globalThis.fetch;return{async request({method:r,path:l,query:u,body:h,headers:f}){const m=yw(s.baseUrl,l,u),p=await vw(s.auth),y=await a(m,{method:r,headers:{...h?{"Content-Type":"application/json"}:{},...p,...f},body:h?JSON.stringify(h):void 0}),x=await y.text(),b=(y.headers.get("content-type")||"").includes("application/json"),w=b&&x?JSON.parse(x):x;if(!y.ok){const S=b?w:void 0,O=S?.error;throw new qr(O?.message??`Request failed with status ${y.status}`,{status:y.status,icebergType:O?.type,icebergCode:O?.code,details:S})}return{status:y.status,headers:y.headers,data:w}}}}function yl(s){return s.join("")}var xw=class{constructor(s,a=""){this.client=s,this.prefix=a}async listNamespaces(s){const a=s?{parent:yl(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(s,a){const r={namespace:s.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${yl(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yl(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${yl(s.namespace)}`}),!0}catch(a){if(a instanceof qr&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(s,a){try{return await this.createNamespace(s,a)}catch(r){if(r instanceof qr&&r.status===409)return;throw r}}};function vs(s){return s.join("")}var ww=class{constructor(s,a="",r){this.client=s,this.prefix=a,this.accessDelegation=r}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vs(s.namespace)}/tables`})).data.identifiers}async createTable(s,a){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${vs(s.namespace)}/tables`,body:a,headers:r})).data.metadata}async updateTable(s,a){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${vs(s.namespace)}/tables/${s.name}`,body:a});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(s,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${vs(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(s){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vs(s.namespace)}/tables/${s.name}`,headers:a})).data.metadata}async tableExists(s){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${vs(s.namespace)}/tables/${s.name}`,headers:a}),!0}catch(r){if(r instanceof qr&&r.status===404)return!1;throw r}}async createTableIfNotExists(s,a){try{return await this.createTable(s,a)}catch(r){if(r instanceof qr&&r.status===409)return await this.loadTable({namespace:s.namespace,name:a.name});throw r}}},_w=class{constructor(s){let a="v1";s.catalogName&&(a+=`/${s.catalogName}`);const r=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=bw({baseUrl:r,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=s.accessDelegation?.join(","),this.namespaceOps=new xw(this.client,a),this.tableOps=new ww(this.client,a,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,a){return this.namespaceOps.createNamespace(s,a)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,a){return this.tableOps.createTable(s,a)}async updateTable(s,a){return this.tableOps.updateTable(s,a)}async dropTable(s,a){await this.tableOps.dropTable(s,a)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,a){return this.namespaceOps.createNamespaceIfNotExists(s,a)}async createTableIfNotExists(s,a){return this.tableOps.createTableIfNotExists(s,a)}},zl=class extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}};function He(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var Sw=class extends zl{constructor(s,a,r){super(s),this.name="StorageApiError",this.status=a,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},zc=class extends zl{constructor(s,a){super(s),this.name="StorageUnknownError",this.originalError=a}};const sd=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),jw=()=>Response,Lc=s=>{if(Array.isArray(s))return s.map(r=>Lc(r));if(typeof s=="function"||s!==Object(s))return s;const a={};return Object.entries(s).forEach(([r,l])=>{const u=r.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));a[u]=Lc(l)}),a},Ew=s=>{if(typeof s!="object"||s===null)return!1;const a=Object.getPrototypeOf(s);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},Nw=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function Br(s){"@babel/helpers - typeof";return Br=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Br(s)}function Tw(s,a){if(Br(s)!="object"||!s)return s;var r=s[Symbol.toPrimitive];if(r!==void 0){var l=r.call(s,a);if(Br(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}function Aw(s){var a=Tw(s,"string");return Br(a)=="symbol"?a:a+""}function Ow(s,a,r){return(a=Aw(a))in s?Object.defineProperty(s,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[a]=r,s}function G0(s,a){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);a&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable})),r.push.apply(r,l)}return r}function le(s){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?G0(Object(r),!0).forEach(function(l){Ow(s,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):G0(Object(r)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(r,l))})}return s}const pc=s=>{var a;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(a=s.error)===null||a===void 0?void 0:a.message)||JSON.stringify(s)},Rw=async(s,a,r)=>{s instanceof await jw()&&!r?.noResolveJson?s.json().then(l=>{const u=s.status||500,h=l?.statusCode||u+"";a(new Sw(pc(l),u,h))}).catch(l=>{a(new zc(pc(l),l))}):a(new zc(pc(s),s))},Cw=(s,a,r,l)=>{const u={method:s,headers:a?.headers||{}};return s==="GET"||!l?u:(Ew(l)?(u.headers=le({"Content-Type":"application/json"},a?.headers),u.body=JSON.stringify(l)):u.body=l,a?.duplex&&(u.duplex=a.duplex),le(le({},u),r))};async function Jr(s,a,r,l,u,h){return new Promise((f,m)=>{s(r,Cw(a,l,u,h)).then(p=>{if(!p.ok)throw p;return l?.noResolveJson?p:p.json()}).then(p=>f(p)).catch(p=>Rw(p,m,l))})}async function $r(s,a,r,l){return Jr(s,"GET",a,r,l)}async function ta(s,a,r,l,u){return Jr(s,"POST",a,l,u,r)}async function qc(s,a,r,l,u){return Jr(s,"PUT",a,l,u,r)}async function kw(s,a,r,l){return Jr(s,"HEAD",a,le(le({},r),{},{noResolveJson:!0}),l)}async function rd(s,a,r,l,u){return Jr(s,"DELETE",a,l,u,r)}var Mw=class{constructor(s,a){this.downloadFn=s,this.shouldThrowOnError=a}then(s,a){return this.execute().then(s,a)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}}};let Kp;Kp=Symbol.toStringTag;var Dw=class{constructor(s,a){this.downloadFn=s,this.shouldThrowOnError=a,this[Kp]="BlobDownloadBuilder",this.promise=null}asStream(){return new Mw(this.downloadFn,this.shouldThrowOnError)}then(s,a){return this.getPromise().then(s,a)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}}};const Uw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},V0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var zw=class{constructor(s,a={},r,l){this.shouldThrowOnError=!1,this.url=s,this.headers=a,this.bucketId=r,this.fetch=sd(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(s,a,r,l){var u=this;try{let h;const f=le(le({},V0),l);let m=le(le({},u.headers),s==="POST"&&{"x-upsert":String(f.upsert)});const p=f.metadata;typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),p&&h.append("metadata",u.encodeMetadata(p)),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.has("cacheControl")||h.append("cacheControl",f.cacheControl),p&&!h.has("metadata")&&h.append("metadata",u.encodeMetadata(p))):(h=r,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType,p&&(m["x-metadata"]=u.toBase64(u.encodeMetadata(p))),(typeof ReadableStream<"u"&&h instanceof ReadableStream||h&&typeof h=="object"&&"pipe"in h&&typeof h.pipe=="function")&&!f.duplex&&(f.duplex="half")),l?.headers&&(m=le(le({},m),l.headers));const y=u._removeEmptyFolders(a),x=u._getFinalPath(y),b=await(s=="PUT"?qc:ta)(u.fetch,`${u.url}/object/${x}`,h,le({headers:m},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:y,id:b.Id,fullPath:b.Key},error:null}}catch(h){if(u.shouldThrowOnError)throw h;if(He(h))return{data:null,error:h};throw h}}async upload(s,a,r){return this.uploadOrUpdate("POST",s,a,r)}async uploadToSignedUrl(s,a,r,l){var u=this;const h=u._removeEmptyFolders(s),f=u._getFinalPath(h),m=new URL(u.url+`/object/upload/sign/${f}`);m.searchParams.set("token",a);try{let p;const y=le({upsert:V0.upsert},l),x=le(le({},u.headers),{"x-upsert":String(y.upsert)});return typeof Blob<"u"&&r instanceof Blob?(p=new FormData,p.append("cacheControl",y.cacheControl),p.append("",r)):typeof FormData<"u"&&r instanceof FormData?(p=r,p.append("cacheControl",y.cacheControl)):(p=r,x["cache-control"]=`max-age=${y.cacheControl}`,x["content-type"]=y.contentType),{data:{path:h,fullPath:(await qc(u.fetch,m.toString(),p,{headers:x})).Key},error:null}}catch(p){if(u.shouldThrowOnError)throw p;if(He(p))return{data:null,error:p};throw p}}async createSignedUploadUrl(s,a){var r=this;try{let l=r._getFinalPath(s);const u=le({},r.headers);a?.upsert&&(u["x-upsert"]="true");const h=await ta(r.fetch,`${r.url}/object/upload/sign/${l}`,{},{headers:u}),f=new URL(r.url+h.url),m=f.searchParams.get("token");if(!m)throw new zl("No token returned by API");return{data:{signedUrl:f.toString(),path:s,token:m},error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(He(l))return{data:null,error:l};throw l}}async update(s,a,r){return this.uploadOrUpdate("PUT",s,a,r)}async move(s,a,r){var l=this;try{return{data:await ta(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:s,destinationKey:a,destinationBucket:r?.destinationBucket},{headers:l.headers}),error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(He(u))return{data:null,error:u};throw u}}async copy(s,a,r){var l=this;try{return{data:{path:(await ta(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:s,destinationKey:a,destinationBucket:r?.destinationBucket},{headers:l.headers})).Key},error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(He(u))return{data:null,error:u};throw u}}async createSignedUrl(s,a,r){var l=this;try{let u=l._getFinalPath(s),h=await ta(l.fetch,`${l.url}/object/sign/${u}`,le({expiresIn:a},r?.transform?{transform:r.transform}:{}),{headers:l.headers});const f=r?.download?`&download=${r.download===!0?"":r.download}`:"";return h={signedUrl:encodeURI(`${l.url}${h.signedURL}${f}`)},{data:h,error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(He(u))return{data:null,error:u};throw u}}async createSignedUrls(s,a,r){var l=this;try{const u=await ta(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:a,paths:s},{headers:l.headers}),h=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:u.map(f=>le(le({},f),{},{signedUrl:f.signedURL?encodeURI(`${l.url}${f.signedURL}${h}`):null})),error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(He(u))return{data:null,error:u};throw u}}download(s,a){const r=typeof a?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(a?.transform||{}),u=l?`?${l}`:"",h=this._getFinalPath(s),f=()=>$r(this.fetch,`${this.url}/${r}/${h}${u}`,{headers:this.headers,noResolveJson:!0});return new Dw(f,this.shouldThrowOnError)}async info(s){var a=this;const r=a._getFinalPath(s);try{return{data:Lc(await $r(a.fetch,`${a.url}/object/info/${r}`,{headers:a.headers})),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(He(l))return{data:null,error:l};throw l}}async exists(s){var a=this;const r=a._getFinalPath(s);try{return await kw(a.fetch,`${a.url}/object/${r}`,{headers:a.headers}),{data:!0,error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(He(l)&&l instanceof zc){const u=l.originalError;if([400,404].includes(u?.status))return{data:!1,error:l}}throw l}}getPublicUrl(s,a){const r=this._getFinalPath(s),l=[],u=a?.download?`download=${a.download===!0?"":a.download}`:"";u!==""&&l.push(u);const h=typeof a?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(a?.transform||{});f!==""&&l.push(f);let m=l.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${r}${m}`)}}}async remove(s){var a=this;try{return{data:await rd(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:s},{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}}async list(s,a,r){var l=this;try{const u=le(le(le({},Uw),a),{},{prefix:s||""});return{data:await ta(l.fetch,`${l.url}/object/list/${l.bucketId}`,u,{headers:l.headers},r),error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(He(u))return{data:null,error:u};throw u}}async listV2(s,a){var r=this;try{const l=le({},s);return{data:await ta(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,l,{headers:r.headers},a),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(He(l))return{data:null,error:l};throw l}}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const a=[];return s.width&&a.push(`width=${s.width}`),s.height&&a.push(`height=${s.height}`),s.resize&&a.push(`resize=${s.resize}`),s.format&&a.push(`format=${s.format}`),s.quality&&a.push(`quality=${s.quality}`),a.join("&")}};const Gp="2.90.1",Vp={"X-Client-Info":`storage-js/${Gp}`};var Lw=class{constructor(s,a={},r,l){this.shouldThrowOnError=!1;const u=new URL(s);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=le(le({},Vp),a),this.fetch=sd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(s){var a=this;try{const r=a.listBucketOptionsToQueryString(s);return{data:await $r(a.fetch,`${a.url}/bucket${r}`,{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}}async getBucket(s){var a=this;try{return{data:await $r(a.fetch,`${a.url}/bucket/${s}`,{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}}async createBucket(s,a={public:!1}){var r=this;try{return{data:await ta(r.fetch,`${r.url}/bucket`,{id:s,name:s,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:r.headers}),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(He(l))return{data:null,error:l};throw l}}async updateBucket(s,a){var r=this;try{return{data:await qc(r.fetch,`${r.url}/bucket/${s}`,{id:s,name:s,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:r.headers}),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(He(l))return{data:null,error:l};throw l}}async emptyBucket(s){var a=this;try{return{data:await ta(a.fetch,`${a.url}/bucket/${s}/empty`,{},{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}}async deleteBucket(s){var a=this;try{return{data:await rd(a.fetch,`${a.url}/bucket/${s}`,{},{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(s){const a={};return s&&("limit"in s&&(a.limit=String(s.limit)),"offset"in s&&(a.offset=String(s.offset)),s.search&&(a.search=s.search),s.sortColumn&&(a.sortColumn=s.sortColumn),s.sortOrder&&(a.sortOrder=s.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},qw=class{constructor(s,a={},r){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=le(le({},Vp),a),this.fetch=sd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var a=this;try{return{data:await ta(a.fetch,`${a.url}/bucket`,{name:s},{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}}async listBuckets(s){var a=this;try{const r=new URLSearchParams;s?.limit!==void 0&&r.set("limit",s.limit.toString()),s?.offset!==void 0&&r.set("offset",s.offset.toString()),s?.sortColumn&&r.set("sortColumn",s.sortColumn),s?.sortOrder&&r.set("sortOrder",s.sortOrder),s?.search&&r.set("search",s.search);const l=r.toString(),u=l?`${a.url}/bucket?${l}`:`${a.url}/bucket`;return{data:await $r(a.fetch,u,{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}}async deleteBucket(s){var a=this;try{return{data:await rd(a.fetch,`${a.url}/bucket/${s}`,{},{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}}from(s){var a=this;if(!Nw(s))throw new zl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new _w({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(r,{get(u,h){const f=u[h];return typeof f!="function"?f:async(...m)=>{try{return{data:await f.apply(u,m),error:null}}catch(p){if(l)throw p;return{data:null,error:p}}}}})}};const id={"X-Client-Info":`storage-js/${Gp}`,"Content-Type":"application/json"};var Yp=class extends Error{constructor(s){super(s),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Mt(s){return typeof s=="object"&&s!==null&&"__isStorageVectorsError"in s}var gc=class extends Yp{constructor(s,a,r){super(s),this.name="StorageVectorsApiError",this.status=a,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Bw=class extends Yp{constructor(s,a){super(s),this.name="StorageVectorsUnknownError",this.originalError=a}};const ld=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),$w=s=>{if(typeof s!="object"||s===null)return!1;const a=Object.getPrototypeOf(s);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},Y0=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Hw=async(s,a,r)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!r?.noResolveJson){const l=s.status||500,u=s;if(typeof u.json=="function")u.json().then(h=>{const f=h?.statusCode||h?.code||l+"";a(new gc(Y0(h),l,f))}).catch(()=>{const h=l+"";a(new gc(u.statusText||`HTTP ${l} error`,l,h))});else{const h=l+"";a(new gc(u.statusText||`HTTP ${l} error`,l,h))}}else a(new Bw(Y0(s),s))},Kw=(s,a,r,l)=>{const u={method:s,headers:a?.headers||{}};return l?($w(l)?(u.headers=le({"Content-Type":"application/json"},a?.headers),u.body=JSON.stringify(l)):u.body=l,le(le({},u),r)):u};async function Gw(s,a,r,l,u,h){return new Promise((f,m)=>{s(r,Kw(a,l,u,h)).then(p=>{if(!p.ok)throw p;if(l?.noResolveJson)return p;const y=p.headers.get("content-type");return!y||!y.includes("application/json")?{}:p.json()}).then(p=>f(p)).catch(p=>Hw(p,m,l))})}async function Dt(s,a,r,l,u){return Gw(s,"POST",a,l,u,r)}var Vw=class{constructor(s,a={},r){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=le(le({},id),a),this.fetch=ld(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(s){var a=this;try{return{data:await Dt(a.fetch,`${a.url}/CreateIndex`,s,{headers:a.headers})||{},error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}async getIndex(s,a){var r=this;try{return{data:await Dt(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:s,indexName:a},{headers:r.headers}),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Mt(l))return{data:null,error:l};throw l}}async listIndexes(s){var a=this;try{return{data:await Dt(a.fetch,`${a.url}/ListIndexes`,s,{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}async deleteIndex(s,a){var r=this;try{return{data:await Dt(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:s,indexName:a},{headers:r.headers})||{},error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Mt(l))return{data:null,error:l};throw l}}},Yw=class{constructor(s,a={},r){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=le(le({},id),a),this.fetch=ld(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(s){var a=this;try{if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Dt(a.fetch,`${a.url}/PutVectors`,s,{headers:a.headers})||{},error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}async getVectors(s){var a=this;try{return{data:await Dt(a.fetch,`${a.url}/GetVectors`,s,{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}async listVectors(s){var a=this;try{if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return{data:await Dt(a.fetch,`${a.url}/ListVectors`,s,{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}async queryVectors(s){var a=this;try{return{data:await Dt(a.fetch,`${a.url}/QueryVectors`,s,{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}async deleteVectors(s){var a=this;try{if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Dt(a.fetch,`${a.url}/DeleteVectors`,s,{headers:a.headers})||{},error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}},Iw=class{constructor(s,a={},r){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=le(le({},id),a),this.fetch=ld(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var a=this;try{return{data:await Dt(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:a.headers})||{},error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}async getBucket(s){var a=this;try{return{data:await Dt(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:s},{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}async listBuckets(s={}){var a=this;try{return{data:await Dt(a.fetch,`${a.url}/ListVectorBuckets`,s,{headers:a.headers}),error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}async deleteBucket(s){var a=this;try{return{data:await Dt(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:a.headers})||{},error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}},Qw=class extends Iw{constructor(s,a={}){super(s,a.headers||{},a.fetch)}from(s){return new Pw(this.url,this.headers,s,this.fetch)}async createBucket(s){var a=()=>super.createBucket,r=this;return a().call(r,s)}async getBucket(s){var a=()=>super.getBucket,r=this;return a().call(r,s)}async listBuckets(s={}){var a=()=>super.listBuckets,r=this;return a().call(r,s)}async deleteBucket(s){var a=()=>super.deleteBucket,r=this;return a().call(r,s)}},Pw=class extends Vw{constructor(s,a,r,l){super(s,a,l),this.vectorBucketName=r}async createIndex(s){var a=()=>super.createIndex,r=this;return a().call(r,le(le({},s),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(s={}){var a=()=>super.listIndexes,r=this;return a().call(r,le(le({},s),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(s){var a=()=>super.getIndex,r=this;return a().call(r,r.vectorBucketName,s)}async deleteIndex(s){var a=()=>super.deleteIndex,r=this;return a().call(r,r.vectorBucketName,s)}index(s){return new Jw(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},Jw=class extends Yw{constructor(s,a,r,l,u){super(s,a,u),this.vectorBucketName=r,this.indexName=l}async putVectors(s){var a=()=>super.putVectors,r=this;return a().call(r,le(le({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(s){var a=()=>super.getVectors,r=this;return a().call(r,le(le({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(s={}){var a=()=>super.listVectors,r=this;return a().call(r,le(le({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(s){var a=()=>super.queryVectors,r=this;return a().call(r,le(le({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(s){var a=()=>super.deleteVectors,r=this;return a().call(r,le(le({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Xw=class extends Lw{constructor(s,a={},r,l){super(s,a,r,l)}from(s){return new zw(this.url,this.headers,s,this.fetch)}get vectors(){return new Qw(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new qw(this.url+"/iceberg",this.headers,this.fetch)}};const Ip="2.90.1",Ns=30*1e3,Bc=3,yc=Bc*Ns,Zw="http://localhost:9999",Fw="supabase.auth.token",Ww={"X-Client-Info":`gotrue-js/${Ip}`},$c="X-Supabase-Api-Version",Qp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},e1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,t1=600*1e3;class Hr extends Error{constructor(a,r,l){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=l}}function ee(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class a1 extends Hr{constructor(a,r,l){super(a,r,l),this.name="AuthApiError",this.status=r,this.code=l}}function n1(s){return ee(s)&&s.name==="AuthApiError"}class Rn extends Hr{constructor(a,r){super(a),this.name="AuthUnknownError",this.originalError=r}}class Oa extends Hr{constructor(a,r,l,u){super(a,l,u),this.name=r,this.status=l}}class kt extends Oa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function s1(s){return ee(s)&&s.name==="AuthSessionMissingError"}class bs extends Oa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vl extends Oa{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class bl extends Oa{constructor(a,r=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function r1(s){return ee(s)&&s.name==="AuthImplicitGrantRedirectError"}class I0 extends Oa{constructor(a,r=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class i1 extends Oa{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Hc extends Oa{constructor(a,r){super(a,"AuthRetryableFetchError",r,void 0)}}function vc(s){return ee(s)&&s.name==="AuthRetryableFetchError"}class Q0 extends Oa{constructor(a,r,l){super(a,"AuthWeakPasswordError",r,"weak_password"),this.reasons=l}}class Kc extends Oa{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const Al="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),P0=` 	
\r=`.split(""),l1=(()=>{const s=new Array(128);for(let a=0;a<s.length;a+=1)s[a]=-1;for(let a=0;a<P0.length;a+=1)s[P0[a].charCodeAt(0)]=-2;for(let a=0;a<Al.length;a+=1)s[Al[a].charCodeAt(0)]=a;return s})();function J0(s,a,r){if(s!==null)for(a.queue=a.queue<<8|s,a.queuedBits+=8;a.queuedBits>=6;){const l=a.queue>>a.queuedBits-6&63;r(Al[l]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const l=a.queue>>a.queuedBits-6&63;r(Al[l]),a.queuedBits-=6}}function Pp(s,a,r){const l=l1[s];if(l>-1)for(a.queue=a.queue<<6|l,a.queuedBits+=6;a.queuedBits>=8;)r(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function X0(s){const a=[],r=f=>{a.push(String.fromCodePoint(f))},l={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},h=f=>{c1(f,l,r)};for(let f=0;f<s.length;f+=1)Pp(s.charCodeAt(f),u,h);return a.join("")}function o1(s,a){if(s<=127){a(s);return}else if(s<=2047){a(192|s>>6),a(128|s&63);return}else if(s<=65535){a(224|s>>12),a(128|s>>6&63),a(128|s&63);return}else if(s<=1114111){a(240|s>>18),a(128|s>>12&63),a(128|s>>6&63),a(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function u1(s,a){for(let r=0;r<s.length;r+=1){let l=s.charCodeAt(r);if(l>55295&&l<=56319){const u=(l-55296)*1024&65535;l=(s.charCodeAt(r+1)-56320&65535|u)+65536,r+=1}o1(l,a)}}function c1(s,a,r){if(a.utf8seq===0){if(s<=127){r(s);return}for(let l=1;l<6;l+=1)if((s>>7-l&1)===0){a.utf8seq=l;break}if(a.utf8seq===2)a.codepoint=s&31;else if(a.utf8seq===3)a.codepoint=s&15;else if(a.utf8seq===4)a.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|s&63,a.utf8seq-=1,a.utf8seq===0&&r(a.codepoint)}}function Os(s){const a=[],r={queue:0,queuedBits:0},l=u=>{a.push(u)};for(let u=0;u<s.length;u+=1)Pp(s.charCodeAt(u),r,l);return new Uint8Array(a)}function d1(s){const a=[];return u1(s,r=>a.push(r)),new Uint8Array(a)}function Cn(s){const a=[],r={queue:0,queuedBits:0},l=u=>{a.push(u)};return s.forEach(u=>J0(u,r,l)),J0(null,r,l),a.join("")}function h1(s){return Math.round(Date.now()/1e3)+s}function f1(){return Symbol("auth-callback")}const ut=()=>typeof window<"u"&&typeof document<"u",Nn={tested:!1,writable:!1},Jp=()=>{if(!ut())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Nn.tested)return Nn.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),Nn.tested=!0,Nn.writable=!0}catch{Nn.tested=!0,Nn.writable=!1}return Nn.writable};function m1(s){const a={},r=new URL(s);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((u,h)=>{a[h]=u})}catch{}return r.searchParams.forEach((l,u)=>{a[u]=l}),a}const Xp=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),p1=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",Ts=async(s,a,r)=>{await s.setItem(a,JSON.stringify(r))},Tn=async(s,a)=>{const r=await s.getItem(a);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ot=async(s,a)=>{await s.removeItem(a)};class Ll{constructor(){this.promise=new Ll.promiseConstructor((a,r)=>{this.resolve=a,this.reject=r})}}Ll.promiseConstructor=Promise;function bc(s){const a=s.split(".");if(a.length!==3)throw new Kc("Invalid JWT structure");for(let l=0;l<a.length;l++)if(!e1.test(a[l]))throw new Kc("JWT not in base64url format");return{header:JSON.parse(X0(a[0])),payload:JSON.parse(X0(a[1])),signature:Os(a[2]),raw:{header:a[0],payload:a[1]}}}async function g1(s){return await new Promise(a=>{setTimeout(()=>a(null),s)})}function y1(s,a){return new Promise((l,u)=>{(async()=>{for(let h=0;h<1/0;h++)try{const f=await s(h);if(!a(h,null,f)){l(f);return}}catch(f){if(!a(h,f)){u(f);return}}})()})}function v1(s){return("0"+s.toString(16)).substr(-2)}function b1(){const a=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=r.length;let u="";for(let h=0;h<56;h++)u+=r.charAt(Math.floor(Math.random()*l));return u}return crypto.getRandomValues(a),Array.from(a,v1).join("")}async function x1(s){const r=new TextEncoder().encode(s),l=await crypto.subtle.digest("SHA-256",r),u=new Uint8Array(l);return Array.from(u).map(h=>String.fromCharCode(h)).join("")}async function w1(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const r=await x1(s);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xs(s,a,r=!1){const l=b1();let u=l;r&&(u+="/PASSWORD_RECOVERY"),await Ts(s,`${a}-code-verifier`,u);const h=await w1(l);return[h,l===h?"plain":"s256"]}const _1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function S1(s){const a=s.headers.get($c);if(!a||!a.match(_1))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function j1(s){if(!s)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(s<=a)throw new Error("JWT has expired")}function E1(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const N1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ws(s){if(!N1.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function xc(){const s={};return new Proxy(s,{get:(a,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const l=r.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function T1(s,a){return new Proxy(s,{get:(r,l,u)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const h=l.toString();if(h==="Symbol(Symbol.toPrimitive)"||h==="Symbol(Symbol.toStringTag)"||h==="Symbol(util.inspect.custom)"||h==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,l,u)}return!a.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(r,l,u)}})}function Z0(s){return JSON.parse(JSON.stringify(s))}const An=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),A1=[502,503,504];async function F0(s){var a;if(!p1(s))throw new Hc(An(s),0);if(A1.includes(s.status))throw new Hc(An(s),s.status);let r;try{r=await s.json()}catch(h){throw new Rn(An(h),h)}let l;const u=S1(s);if(u&&u.getTime()>=Qp["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?l=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(l=r.error_code),l){if(l==="weak_password")throw new Q0(An(r),s.status,((a=r.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(l==="session_not_found")throw new kt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((h,f)=>h&&typeof f=="string",!0))throw new Q0(An(r),s.status,r.weak_password.reasons);throw new a1(An(r),s.status||500,l)}const O1=(s,a,r,l)=>{const u={method:s,headers:a?.headers||{}};return s==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),r))};async function ie(s,a,r,l){var u;const h=Object.assign({},l?.headers);h[$c]||(h[$c]=Qp["2024-01-01"].name),l?.jwt&&(h.Authorization=`Bearer ${l.jwt}`);const f=(u=l?.query)!==null&&u!==void 0?u:{};l?.redirectTo&&(f.redirect_to=l.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",p=await R1(s,a,r+m,{headers:h,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(p):{data:Object.assign({},p),error:null}}async function R1(s,a,r,l,u,h){const f=O1(a,l,u,h);let m;try{m=await s(r,Object.assign({},f))}catch(p){throw console.error(p),new Hc(An(p),0)}if(m.ok||await F0(m),l?.noResolveJson)return m;try{return await m.json()}catch(p){await F0(p)}}function Wt(s){var a;let r=null;M1(s)&&(r=Object.assign({},s),s.expires_at||(r.expires_at=h1(s.expires_in)));const l=(a=s.user)!==null&&a!==void 0?a:s;return{data:{session:r,user:l},error:null}}function W0(s){const a=Wt(s);return!a.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((r,l)=>r&&typeof l=="string",!0)&&(a.data.weak_password=s.weak_password),a}function an(s){var a;return{data:{user:(a=s.user)!==null&&a!==void 0?a:s},error:null}}function C1(s){return{data:s,error:null}}function k1(s){const{action_link:a,email_otp:r,hashed_token:l,redirect_to:u,verification_type:h}=s,f=Ul(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:a,email_otp:r,hashed_token:l,redirect_to:u,verification_type:h},p=Object.assign({},f);return{data:{properties:m,user:p},error:null}}function ep(s){return s}function M1(s){return s.access_token&&s.refresh_token&&s.expires_in}const wc=["global","local","others"];class D1{constructor({url:a="",headers:r={},fetch:l}){this.url=a,this.headers=r,this.fetch=Xp(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,r=wc[0]){if(wc.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${wc.join(", ")}`);try{return await ie(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ee(l))return{data:null,error:l};throw l}}async inviteUserByEmail(a,r={}){try{return await ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:an})}catch(l){if(ee(l))return{data:{user:null},error:l};throw l}}async generateLink(a){try{const{options:r}=a,l=Ul(a,["options"]),u=Object.assign(Object.assign({},l),r);return"newEmail"in l&&(u.new_email=l?.newEmail,delete u.newEmail),await ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:k1,redirectTo:r?.redirectTo})}catch(r){if(ee(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(a){try{return await ie(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:an})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}async listUsers(a){var r,l,u,h,f,m,p;try{const y={nextPage:null,lastPage:0,total:0},x=await ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=a?.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(h=(u=a?.perPage)===null||u===void 0?void 0:u.toString())!==null&&h!==void 0?h:""},xform:ep});if(x.error)throw x.error;const b=await x.json(),w=(f=x.headers.get("x-total-count"))!==null&&f!==void 0?f:0,S=(p=(m=x.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(O=>{const T=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),M=JSON.parse(O.split(";")[1].split("=")[1]);y[`${M}Page`]=T}),y.total=parseInt(w)),{data:Object.assign(Object.assign({},b),y),error:null}}catch(y){if(ee(y))return{data:{users:[]},error:y};throw y}}async getUserById(a){ws(a);try{return await ie(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:an})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}async updateUserById(a,r){ws(a);try{return await ie(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:r,headers:this.headers,xform:an})}catch(l){if(ee(l))return{data:{user:null},error:l};throw l}}async deleteUser(a,r=!1){ws(a);try{return await ie(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:r},xform:an})}catch(l){if(ee(l))return{data:{user:null},error:l};throw l}}async _listFactors(a){ws(a.userId);try{const{data:r,error:l}=await ie(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:r,error:l}}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _deleteFactor(a){ws(a.userId),ws(a.id);try{return{data:await ie(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _listOAuthClients(a){var r,l,u,h,f,m,p;try{const y={nextPage:null,lastPage:0,total:0},x=await ie(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=a?.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(h=(u=a?.perPage)===null||u===void 0?void 0:u.toString())!==null&&h!==void 0?h:""},xform:ep});if(x.error)throw x.error;const b=await x.json(),w=(f=x.headers.get("x-total-count"))!==null&&f!==void 0?f:0,S=(p=(m=x.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(O=>{const T=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),M=JSON.parse(O.split(";")[1].split("=")[1]);y[`${M}Page`]=T}),y.total=parseInt(w)),{data:Object.assign(Object.assign({},b),y),error:null}}catch(y){if(ee(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(a){try{return await ie(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _getOAuthClient(a){try{return await ie(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _updateOAuthClient(a,r){try{return await ie(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:r,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ee(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(a){try{return await ie(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(a){try{return await ie(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ee(r))return{data:null,error:r};throw r}}}function tp(s={}){return{getItem:a=>s[a]||null,setItem:(a,r)=>{s[a]=r},removeItem:a=>{delete s[a]}}}const _s={debug:!!(globalThis&&Jp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zp extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class U1 extends Zp{}async function z1(s,a,r){_s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,a);const l=new globalThis.AbortController;return a>0&&setTimeout(()=>{l.abort(),_s.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async u=>{if(u){_s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,u.name);try{return await r()}finally{_s.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,u.name)}}else{if(a===0)throw _s.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new U1(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(_s.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function L1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Fp(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function q1(s){return parseInt(s,16)}function B1(s){const a=new TextEncoder().encode(s);return"0x"+Array.from(a,l=>l.toString(16).padStart(2,"0")).join("")}function $1(s){var a;const{chainId:r,domain:l,expirationTime:u,issuedAt:h=new Date,nonce:f,notBefore:m,requestId:p,resources:y,scheme:x,uri:b,version:w}=s;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((a=s.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const S=Fp(s.address),O=x?`${x}://${l}`:l,T=s.statement?`${s.statement}
`:"",M=`${O} wants you to sign in with your Ethereum account:
${S}

${T}`;let z=`URI: ${b}
Version: ${w}
Chain ID: ${r}${f?`
Nonce: ${f}`:""}
Issued At: ${h.toISOString()}`;if(u&&(z+=`
Expiration Time: ${u.toISOString()}`),m&&(z+=`
Not Before: ${m.toISOString()}`),p&&(z+=`
Request ID: ${p}`),y){let U=`
Resources:`;for(const L of y){if(!L||typeof L!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${L}`);U+=`
- ${L}`}z+=U}return`${M}
${z}`}class Fe extends Error{constructor({message:a,code:r,cause:l,name:u}){var h;super(a,{cause:l}),this.__isWebAuthnError=!0,this.name=(h=u??(l instanceof Error?l.name:void 0))!==null&&h!==void 0?h:"Unknown Error",this.code=r}}class Ol extends Fe{constructor(a,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:a}),this.name="WebAuthnUnknownError",this.originalError=r}}function H1({error:s,options:a}){var r,l,u;const{publicKey:h}=a;if(!h)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Fe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((r=h.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Fe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(a.mediation==="conditional"&&((l=h.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Fe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((u=h.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new Fe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new Fe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new Fe({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return h.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new Fe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new Fe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const f=window.location.hostname;if(Wp(f)){if(h.rp.id!==f)return new Fe({message:`The RP ID "${h.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(h.user.id.byteLength<1||h.user.id.byteLength>64)return new Fe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function K1({error:s,options:a}){const{publicKey:r}=a;if(!r)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Fe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new Fe({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const l=window.location.hostname;if(Wp(l)){if(r.rpId!==l)return new Fe({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class G1{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const V1=new G1;function Y1(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:a,user:r,excludeCredentials:l}=s,u=Ul(s,["challenge","user","excludeCredentials"]),h=Os(a).buffer,f=Object.assign(Object.assign({},r),{id:Os(r.id).buffer}),m=Object.assign(Object.assign({},u),{challenge:h,user:f});if(l&&l.length>0){m.excludeCredentials=new Array(l.length);for(let p=0;p<l.length;p++){const y=l[p];m.excludeCredentials[p]=Object.assign(Object.assign({},y),{id:Os(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return m}function I1(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:a,allowCredentials:r}=s,l=Ul(s,["challenge","allowCredentials"]),u=Os(a).buffer,h=Object.assign(Object.assign({},l),{challenge:u});if(r&&r.length>0){h.allowCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const m=r[f];h.allowCredentials[f]=Object.assign(Object.assign({},m),{id:Os(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return h}function Q1(s){var a;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const r=s;return{id:s.id,rawId:s.id,response:{attestationObject:Cn(new Uint8Array(s.response.attestationObject)),clientDataJSON:Cn(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(a=r.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function P1(s){var a;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const r=s,l=s.getClientExtensionResults(),u=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:Cn(new Uint8Array(u.authenticatorData)),clientDataJSON:Cn(new Uint8Array(u.clientDataJSON)),signature:Cn(new Uint8Array(u.signature)),userHandle:u.userHandle?Cn(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(a=r.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Wp(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function ap(){var s,a;return!!(ut()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator?.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function J1(s){try{const a=await navigator.credentials.create(s);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Ol("Browser returned unexpected credential type",a)}:{data:null,error:new Ol("Empty credential response",a)}}catch(a){return{data:null,error:H1({error:a,options:s})}}}async function X1(s){try{const a=await navigator.credentials.get(s);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Ol("Browser returned unexpected credential type",a)}:{data:null,error:new Ol("Empty credential response",a)}}catch(a){return{data:null,error:K1({error:a,options:s})}}}const Z1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},F1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Rl(...s){const a=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),r=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),l={};for(const u of s)if(u)for(const h in u){const f=u[h];if(f!==void 0)if(Array.isArray(f))l[h]=f;else if(r(f))l[h]=f;else if(a(f)){const m=l[h];a(m)?l[h]=Rl(m,f):l[h]=Rl(f)}else l[h]=f}return l}function W1(s,a){return Rl(Z1,s,a||{})}function e_(s,a){return Rl(F1,s,a||{})}class t_{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:r,friendlyName:l,signal:u},h){try{const{data:f,error:m}=await this.client.mfa.challenge({factorId:a,webauthn:r});if(!f)return{data:null,error:m};const p=u??V1.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:y}=f.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${l}`),y.displayName||(y.displayName=y.name)}switch(f.webauthn.type){case"create":{const y=W1(f.webauthn.credential_options.publicKey,h?.create),{data:x,error:b}=await J1({publicKey:y,signal:p});return x?{data:{factorId:a,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:x}},error:null}:{data:null,error:b}}case"request":{const y=e_(f.webauthn.credential_options.publicKey,h?.request),{data:x,error:b}=await X1(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:y,signal:p}));return x?{data:{factorId:a,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:x}},error:null}:{data:null,error:b}}}}catch(f){return ee(f)?{data:null,error:f}:{data:null,error:new Rn("Unexpected error in challenge",f)}}}async _verify({challengeId:a,factorId:r,webauthn:l}){return this.client.mfa.verify({factorId:r,challengeId:a,webauthn:l})}async _authenticate({factorId:a,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},h){if(!r)return{data:null,error:new Hr("rpId is required for WebAuthn authentication")};try{if(!ap())return{data:null,error:new Rn("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this.challenge({factorId:a,webauthn:{rpId:r,rpOrigins:l},signal:u},{request:h});if(!f)return{data:null,error:m};const{webauthn:p}=f;return this._verify({factorId:a,challengeId:f.challengeId,webauthn:{type:p.type,rpId:r,rpOrigins:l,credential_response:p.credential_response}})}catch(f){return ee(f)?{data:null,error:f}:{data:null,error:new Rn("Unexpected error in authenticate",f)}}}async _register({friendlyName:a,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},h){if(!r)return{data:null,error:new Hr("rpId is required for WebAuthn registration")};try{if(!ap())return{data:null,error:new Rn("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this._enroll({friendlyName:a});if(!f)return await this.client.mfa.listFactors().then(x=>{var b;return(b=x.data)===null||b===void 0?void 0:b.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===a&&w.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x?.id}):void 0),{data:null,error:m};const{data:p,error:y}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:r,rpOrigins:l},signal:u},{create:h});return p?this._verify({factorId:f.id,challengeId:p.challengeId,webauthn:{rpId:r,rpOrigins:l,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:y}}catch(f){return ee(f)?{data:null,error:f}:{data:null,error:new Rn("Unexpected error in register",f)}}}}L1();const a_={url:Zw,storageKey:Fw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ww,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function np(s,a,r){return await r()}const Ss={};class Kr{get jwks(){var a,r;return(r=(a=Ss[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(a){Ss[this.storageKey]=Object.assign(Object.assign({},Ss[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,r;return(r=(a=Ss[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){Ss[this.storageKey]=Object.assign(Object.assign({},Ss[this.storageKey]),{cachedAt:a})}constructor(a){var r,l,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const h=Object.assign(Object.assign({},a_),a);if(this.storageKey=h.storageKey,this.instanceID=(r=Kr.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Kr.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!h.debug,typeof h.debug=="function"&&(this.logger=h.debug),this.instanceID>0&&ut()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=h.persistSession,this.autoRefreshToken=h.autoRefreshToken,this.admin=new D1({url:h.url,headers:h.headers,fetch:h.fetch}),this.url=h.url,this.headers=h.headers,this.fetch=Xp(h.fetch),this.lock=h.lock||np,this.detectSessionInUrl=h.detectSessionInUrl,this.flowType=h.flowType,this.hasCustomAuthorizationHeader=h.hasCustomAuthorizationHeader,this.throwOnError=h.throwOnError,this.lockAcquireTimeout=h.lockAcquireTimeout,h.lock?this.lock=h.lock:this.persistSession&&ut()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=z1:this.lock=np,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new t_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(h.storage?this.storage=h.storage:Jp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=tp(this.memoryStorage)),h.userStorage&&(this.userStorage=h.userStorage)):(this.memoryStorage={},this.storage=tp(this.memoryStorage)),ut()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ip}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let r={},l="none";if(ut()&&(r=m1(window.location.href),this._isImplicitGrantCallback(r)?l="implicit":await this._isPKCECallback(r)&&(l="pkce")),ut()&&this.detectSessionInUrl&&l!=="none"){const{data:u,error:h}=await this._getSessionFromURL(r,l);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),r1(h)){const p=(a=h.details)===null||a===void 0?void 0:a.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:h}}return{error:h}}const{session:f,redirectType:m}=u;return this._debug("#_initialize()","detected session in URL",f,"redirect type",m),await this._saveSession(f),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ee(r)?this._returnResult({error:r}):this._returnResult({error:new Rn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var r,l,u;try{const h=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(r=a?.options)===null||r===void 0?void 0:r.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(u=a?.options)===null||u===void 0?void 0:u.captchaToken}},xform:Wt}),{data:f,error:m}=h;if(m||!f)return this._returnResult({data:{user:null,session:null},error:m});const p=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(h){if(ee(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signUp(a){var r,l,u;try{let h;if("email"in a){const{email:x,password:b,options:w}=a;let S=null,O=null;this.flowType==="pkce"&&([S,O]=await xs(this.storage,this.storageKey)),h=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:x,password:b,data:(r=w?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:S,code_challenge_method:O},xform:Wt})}else if("phone"in a){const{phone:x,password:b,options:w}=a;h=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:b,data:(l=w?.data)!==null&&l!==void 0?l:{},channel:(u=w?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:Wt})}else throw new vl("You must provide either an email or phone number and a password");const{data:f,error:m}=h;if(m||!f)return await ot(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const p=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(h){if(await ot(this.storage,`${this.storageKey}-code-verifier`),ee(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signInWithPassword(a){try{let r;if("email"in a){const{email:h,password:f,options:m}=a;r=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:W0})}else if("phone"in a){const{phone:h,password:f,options:m}=a;r=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:W0})}else throw new vl("You must provide either an email or phone number and a password");const{data:l,error:u}=r;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const h=new bs;return this._returnResult({data:{user:null,session:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:u})}catch(r){if(ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(a){var r,l,u,h;return await this._handleProviderSignIn(a.provider,{redirectTo:(r=a.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=a.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=a.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(h=a.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:r}=a;switch(r){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(a){var r,l,u,h,f,m,p,y,x,b,w;let S,O;if("message"in a)S=a.message,O=a.signature;else{const{chain:T,wallet:M,statement:z,options:U}=a;let L;if(ut())if(typeof M=="object")L=M;else{const ge=window;if("ethereum"in ge&&typeof ge.ethereum=="object"&&"request"in ge.ethereum&&typeof ge.ethereum.request=="function")L=ge.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!U?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=M}const Q=new URL((r=U?.url)!==null&&r!==void 0?r:window.location.href),te=await L.request({method:"eth_requestAccounts"}).then(ge=>ge).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!te||te.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const J=Fp(te[0]);let Y=(l=U?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!Y){const ge=await L.request({method:"eth_chainId"});Y=q1(ge)}const fe={domain:Q.host,address:J,statement:z,uri:Q.href,version:"1",chainId:Y,nonce:(u=U?.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(f=(h=U?.signInWithEthereum)===null||h===void 0?void 0:h.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(m=U?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(p=U?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(y=U?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(x=U?.signInWithEthereum)===null||x===void 0?void 0:x.resources};S=$1(fe),O=await L.request({method:"personal_sign",params:[B1(S),J]})}try{const{data:T,error:M}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:O},!((b=a.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(w=a.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Wt});if(M)throw M;if(!T||!T.session||!T.user){const z=new bs;return this._returnResult({data:{user:null,session:null},error:z})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:M})}catch(T){if(ee(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(a){var r,l,u,h,f,m,p,y,x,b,w,S;let O,T;if("message"in a)O=a.message,T=a.signature;else{const{chain:M,wallet:z,statement:U,options:L}=a;let Q;if(ut())if(typeof z=="object")Q=z;else{const J=window;if("solana"in J&&typeof J.solana=="object"&&("signIn"in J.solana&&typeof J.solana.signIn=="function"||"signMessage"in J.solana&&typeof J.solana.signMessage=="function"))Q=J.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof z!="object"||!L?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Q=z}const te=new URL((r=L?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in Q&&Q.signIn){const J=await Q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},L?.signInWithSolana),{version:"1",domain:te.host,uri:te.href}),U?{statement:U}:null));let Y;if(Array.isArray(J)&&J[0]&&typeof J[0]=="object")Y=J[0];else if(J&&typeof J=="object"&&"signedMessage"in J&&"signature"in J)Y=J;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Y&&"signature"in Y&&(typeof Y.signedMessage=="string"||Y.signedMessage instanceof Uint8Array)&&Y.signature instanceof Uint8Array)O=typeof Y.signedMessage=="string"?Y.signedMessage:new TextDecoder().decode(Y.signedMessage),T=Y.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Q)||typeof Q.signMessage!="function"||!("publicKey"in Q)||typeof Q!="object"||!Q.publicKey||!("toBase58"in Q.publicKey)||typeof Q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");O=[`${te.host} wants you to sign in with your Solana account:`,Q.publicKey.toBase58(),...U?["",U,""]:[""],"Version: 1",`URI: ${te.href}`,`Issued At: ${(u=(l=L?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((h=L?.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${L.signInWithSolana.notBefore}`]:[],...!((f=L?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${L.signInWithSolana.expirationTime}`]:[],...!((m=L?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${L.signInWithSolana.chainId}`]:[],...!((p=L?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${L.signInWithSolana.nonce}`]:[],...!((y=L?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${L.signInWithSolana.requestId}`]:[],...!((b=(x=L?.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||b===void 0)&&b.length?["Resources",...L.signInWithSolana.resources.map(Y=>`- ${Y}`)]:[]].join(`
`);const J=await Q.signMessage(new TextEncoder().encode(O),"utf8");if(!J||!(J instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=J}}try{const{data:M,error:z}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:O,signature:Cn(T)},!((w=a.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(S=a.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Wt});if(z)throw z;if(!M||!M.session||!M.user){const U=new bs;return this._returnResult({data:{user:null,session:null},error:U})}return M.session&&(await this._saveSession(M.session),await this._notifyAllSubscribers("SIGNED_IN",M.session)),this._returnResult({data:Object.assign({},M),error:z})}catch(M){if(ee(M))return this._returnResult({data:{user:null,session:null},error:M});throw M}}async _exchangeCodeForSession(a){const r=await Tn(this.storage,`${this.storageKey}-code-verifier`),[l,u]=(r??"").split("/");try{if(!l&&this.flowType==="pkce")throw new i1;const{data:h,error:f}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:l},xform:Wt});if(await ot(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!h||!h.session||!h.user){const m=new bs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:Object.assign(Object.assign({},h),{redirectType:u??null}),error:f})}catch(h){if(await ot(this.storage,`${this.storageKey}-code-verifier`),ee(h))return this._returnResult({data:{user:null,session:null,redirectType:null},error:h});throw h}}async signInWithIdToken(a){try{const{options:r,provider:l,token:u,access_token:h,nonce:f}=a,m=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:u,access_token:h,nonce:f,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Wt}),{data:p,error:y}=m;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!p||!p.session||!p.user){const x=new bs;return this._returnResult({data:{user:null,session:null},error:x})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:y})}catch(r){if(ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(a){var r,l,u,h,f;try{if("email"in a){const{email:m,options:p}=a;let y=null,x=null;this.flowType==="pkce"&&([y,x]=await xs(this.storage,this.storageKey));const{error:b}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(r=p?.data)!==null&&r!==void 0?r:{},create_user:(l=p?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:y,code_challenge_method:x},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in a){const{phone:m,options:p}=a,{data:y,error:x}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(u=p?.data)!==null&&u!==void 0?u:{},create_user:(h=p?.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(f=p?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y?.message_id},error:x})}throw new vl("You must provide either an email or phone number.")}catch(m){if(await ot(this.storage,`${this.storageKey}-code-verifier`),ee(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(a){var r,l;try{let u,h;"options"in a&&(u=(r=a.options)===null||r===void 0?void 0:r.redirectTo,h=(l=a.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:m}=await ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:h}}),redirectTo:u,xform:Wt});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const p=f.session,y=f.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(u){if(ee(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(a){var r,l,u,h,f;try{let m=null,p=null;this.flowType==="pkce"&&([m,p]=await xs(this.storage,this.storageKey));const y=await ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(l=(r=a.options)===null||r===void 0?void 0:r.redirectTo)!==null&&l!==void 0?l:void 0}),!((u=a?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:p}),headers:this.headers,xform:C1});return!((h=y.data)===null||h===void 0)&&h.url&&ut()&&!(!((f=a.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(m){if(await ot(this.storage,`${this.storageKey}-code-verifier`),ee(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:r},error:l}=a;if(l)throw l;if(!r)throw new kt;const{error:u}=await ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(a){if(ee(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const r=`${this.url}/resend`;if("email"in a){const{email:l,type:u,options:h}=a,{error:f}=await ie(this.fetch,"POST",r,{headers:this.headers,body:{email:l,type:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in a){const{phone:l,type:u,options:h}=a,{data:f,error:m}=await ie(this.fetch,"POST",r,{headers:this.headers,body:{phone:l,type:u,gotrue_meta_security:{captcha_token:h?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new vl("You must provide either an email or phone number and a type")}catch(r){if(ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(a,r){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await l,await r()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=r();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await a(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const r=await Tn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?a=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const l=a.expires_at?a.expires_at*1e3-Date.now()<yc:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",a.expires_at),!l){if(this.userStorage){const f=await Tn(this.userStorage,this.storageKey+"-user");f?.user?a.user=f.user:a.user=xc()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};a.user=T1(a.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:u,error:h}=await this._callRefreshToken(a.refresh_token);return h?this._returnResult({data:{session:null},error:h}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(a){try{return a?await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:an}):await this._useSession(async r=>{var l,u,h;const{data:f,error:m}=r;if(m)throw m;return!(!((l=f.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new kt}:await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0,xform:an})})}catch(r){if(ee(r))return s1(r)&&(await this._removeSession(),await ot(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(a,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(a,r))}async _updateUser(a,r={}){try{return await this._useSession(async l=>{const{data:u,error:h}=l;if(h)throw h;if(!u.session)throw new kt;const f=u.session;let m=null,p=null;this.flowType==="pkce"&&a.email!=null&&([m,p]=await xs(this.storage,this.storageKey));const{data:y,error:x}=await ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:m,code_challenge_method:p}),jwt:f.access_token,xform:an});if(x)throw x;return f.user=y.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(l){if(await ot(this.storage,`${this.storageKey}-code-verifier`),ee(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new kt;const r=Date.now()/1e3;let l=r,u=!0,h=null;const{payload:f}=bc(a.access_token);if(f.exp&&(l=f.exp,u=l<=r),u){const{data:m,error:p}=await this._callRefreshToken(a.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m)return{data:{user:null,session:null},error:null};h=m}else{const{data:m,error:p}=await this._getUser(a.access_token);if(p)throw p;h={access_token:a.access_token,refresh_token:a.refresh_token,user:m.user,token_type:"bearer",expires_in:l-r,expires_at:l},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return this._returnResult({data:{user:h.user,session:h},error:null})}catch(r){if(ee(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async r=>{var l;if(!a){const{data:f,error:m}=r;if(m)throw m;a=(l=f.session)!==null&&l!==void 0?l:void 0}if(!a?.refresh_token)throw new kt;const{data:u,error:h}=await this._callRefreshToken(a.refresh_token);return h?this._returnResult({data:{user:null,session:null},error:h}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(a,r){try{if(!ut())throw new bl("No browser detected.");if(a.error||a.error_description||a.error_code)throw new bl(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new I0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new I0("No code detected.");const{data:U,error:L}=await this._exchangeCodeForSession(a.code);if(L)throw L;const Q=new URL(window.location.href);return Q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Q.toString()),{data:{session:U.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:u,access_token:h,refresh_token:f,expires_in:m,expires_at:p,token_type:y}=a;if(!h||!m||!f||!y)throw new bl("No session defined in URL");const x=Math.round(Date.now()/1e3),b=parseInt(m);let w=x+b;p&&(w=parseInt(p));const S=w-x;S*1e3<=Ns&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${b}s`);const O=w-b;x-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,w,x):x-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,w,x);const{data:T,error:M}=await this._getUser(h);if(M)throw M;const z={provider_token:l,provider_refresh_token:u,access_token:h,expires_in:b,expires_at:w,refresh_token:f,token_type:y,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:z,redirectType:a.type},error:null})}catch(l){if(ee(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const r=await Tn(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&r)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async r=>{var l;const{data:u,error:h}=r;if(h)return this._returnResult({error:h});const f=(l=u.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:m}=await this.admin.signOut(f,a);if(m&&!(n1(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return a!=="others"&&(await this._removeSession(),await ot(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const r=f1(),l={id:r,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,l),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:l}}}async _emitInitialSession(a){return await this._useSession(async r=>{var l,u;try{const{data:{session:h},error:f}=r;if(f)throw f;await((l=this.stateChangeEmitters.get(a))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",a,"session",h)}catch(h){await((u=this.stateChangeEmitters.get(a))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",h),console.error(h)}})}async resetPasswordForEmail(a,r={}){let l=null,u=null;this.flowType==="pkce"&&([l,u]=await xs(this.storage,this.storageKey,!0));try{return await ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:l,code_challenge_method:u,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(h){if(await ot(this.storage,`${this.storageKey}-code-verifier`),ee(h))return this._returnResult({data:null,error:h});throw h}}async getUserIdentities(){var a;try{const{data:r,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(a=r.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var r;try{const{data:l,error:u}=await this._useSession(async h=>{var f,m,p,y,x;const{data:b,error:w}=h;if(w)throw w;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(f=a.options)===null||f===void 0?void 0:f.redirectTo,scopes:(m=a.options)===null||m===void 0?void 0:m.scopes,queryParams:(p=a.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await ie(this.fetch,"GET",S,{headers:this.headers,jwt:(x=(y=b.session)===null||y===void 0?void 0:y.access_token)!==null&&x!==void 0?x:void 0})});if(u)throw u;return ut()&&!(!((r=a.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:a.provider,url:l?.url},error:null})}catch(l){if(ee(l))return this._returnResult({data:{provider:a.provider,url:null},error:l});throw l}}async linkIdentityIdToken(a){return await this._useSession(async r=>{var l;try{const{error:u,data:{session:h}}=r;if(u)throw u;const{options:f,provider:m,token:p,access_token:y,nonce:x}=a,b=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=h?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:m,id_token:p,access_token:y,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Wt}),{data:w,error:S}=b;return S?this._returnResult({data:{user:null,session:null},error:S}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new bs}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:S}))}catch(u){if(await ot(this.storage,`${this.storageKey}-code-verifier`),ee(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(a){try{return await this._useSession(async r=>{var l,u;const{data:h,error:f}=r;if(f)throw f;return await ie(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(u=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(a){const r=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(r,"begin");try{const l=Date.now();return await y1(async u=>(u>0&&await g1(200*Math.pow(2,u-1)),this._debug(r,"refreshing attempt",u),await ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:Wt})),(u,h)=>{const f=200*Math.pow(2,u);return h&&vc(h)&&Date.now()+f-l<Ns})}catch(l){if(this._debug(r,"error",l),ee(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(r,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,r){const l=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",r,"url",l),ut()&&!r.skipBrowserRedirect&&window.location.assign(l),{data:{provider:a,url:l},error:null}}async _recoverAndRefresh(){var a,r;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const u=await Tn(this.storage,this.storageKey);if(u&&this.userStorage){let f=await Tn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:u.user},await Ts(this.userStorage,this.storageKey+"-user",f)),u.user=(a=f?.user)!==null&&a!==void 0?a:xc()}else if(u&&!u.user&&!u.user){const f=await Tn(this.storage,this.storageKey+"-user");f&&f?.user?(u.user=f.user,await ot(this.storage,this.storageKey+"-user"),await Ts(this.storage,this.storageKey,u)):u.user=xc()}if(this._debug(l,"session from storage",u),!this._isValidSession(u)){this._debug(l,"session is not valid"),u!==null&&await this._removeSession();return}const h=((r=u.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<yc;if(this._debug(l,`session has${h?"":" not"} expired with margin of ${yc}s`),h){if(this.autoRefreshToken&&u.refresh_token){const{error:f}=await this._callRefreshToken(u.refresh_token);f&&(console.error(f),vc(f)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:m}=await this._getUser(u.access_token);!m&&f?.user?(u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(l,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(l,"error",u),console.error(u);return}finally{this._debug(l,"end")}}async _callRefreshToken(a){var r,l;if(!a)throw new kt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new Ll;const{data:h,error:f}=await this._refreshAccessToken(a);if(f)throw f;if(!h.session)throw new kt;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const m={data:h.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(h){if(this._debug(u,"error",h),ee(h)){const f={data:null,error:h};return vc(h)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(h),h}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(a,r,l=!0){const u=`#_notifyAllSubscribers(${a})`;this._debug(u,"begin",r,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:a,session:r});const h=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(a,r)}catch(p){h.push(p)}});if(await Promise.all(f),h.length>0){for(let m=0;m<h.length;m+=1)console.error(h[m]);throw h[0]}}finally{this._debug(u,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await ot(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},a),l=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&r.user&&await Ts(this.userStorage,this.storageKey+"-user",{user:r.user});const u=Object.assign({},r);delete u.user;const h=Z0(u);await Ts(this.storage,this.storageKey,h)}else{const u=Z0(r);await Ts(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ot(this.storage,this.storageKey),await ot(this.storage,this.storageKey+"-code-verifier"),await ot(this.storage,this.storageKey+"-user"),this.userStorage&&await ot(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&ut()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),Ns);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async r=>{const{data:{session:l}}=r;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((l.expires_at*1e3-a)/Ns);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Ns}ms, refresh threshold is ${Bc} ticks`),u<=Bc&&await this._callRefreshToken(l.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof Zp)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ut()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const r=`#_onVisibilityChanged(${a})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,r,l){const u=[`provider=${encodeURIComponent(r)}`];if(l?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&u.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[h,f]=await xs(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(f)}`});u.push(m.toString())}if(l?.queryParams){const h=new URLSearchParams(l.queryParams);u.push(h.toString())}return l?.skipBrowserRedirect&&u.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${a}?${u.join("&")}`}async _unenroll(a){try{return await this._useSession(async r=>{var l;const{data:u,error:h}=r;return h?this._returnResult({data:null,error:h}):await ie(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token})})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(a){try{return await this._useSession(async r=>{var l,u;const{data:h,error:f}=r;if(f)return this._returnResult({data:null,error:f});const m=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:p,error:y}=await ie(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(l=h?.session)===null||l===void 0?void 0:l.access_token});return y?this._returnResult({data:null,error:y}):(a.factorType==="totp"&&p.type==="totp"&&(!((u=p?.totp)===null||u===void 0)&&u.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async _verify(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var l;const{data:u,error:h}=r;if(h)return this._returnResult({data:null,error:h});const f=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?Q1(a.webauthn.credential_response):P1(a.webauthn.credential_response)})}:{code:a.code}),{data:m,error:p}=await ie(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:f,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:p}))})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var l;const{data:u,error:h}=r;if(h)return this._returnResult({data:null,error:h});const f=await ie(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});if(f.error)return f;const{data:m}=f;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Y1(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:I1(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(a){const{data:r,error:l}=await this._challenge({factorId:a.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:a.factorId,challengeId:r.id,code:a.code})}async _listFactors(){var a;const{data:{user:r},error:l}=await this.getUser();if(l)return{data:null,error:l};const u={all:[],phone:[],totp:[],webauthn:[]};for(const h of(a=r?.factors)!==null&&a!==void 0?a:[])u.all.push(h),h.status==="verified"&&u[h.factor_type].push(h);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(){var a,r;const{data:{session:l},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=bc(l.access_token);let f=null;h.aal&&(f=h.aal);let m=f;((r=(a=l.user.factors)===null||a===void 0?void 0:a.filter(x=>x.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(m="aal2");const y=h.amr||[];return{data:{currentLevel:f,nextLevel:m,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async r=>{const{data:{session:l},error:u}=r;return u?this._returnResult({data:null,error:u}):l?await ie(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:l.access_token,xform:h=>({data:h,error:null})}):this._returnResult({data:null,error:new kt})})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(a,r){try{return await this._useSession(async l=>{const{data:{session:u},error:h}=l;if(h)return this._returnResult({data:null,error:h});if(!u)return this._returnResult({data:null,error:new kt});const f=await ie(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&ut()&&!r?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(ee(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(a,r){try{return await this._useSession(async l=>{const{data:{session:u},error:h}=l;if(h)return this._returnResult({data:null,error:h});if(!u)return this._returnResult({data:null,error:new kt});const f=await ie(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&ut()&&!r?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(ee(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:r},error:l}=a;return l?this._returnResult({data:null,error:l}):r?await ie(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new kt})})}catch(a){if(ee(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async r=>{const{data:{session:l},error:u}=r;return u?this._returnResult({data:null,error:u}):l?(await ie(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new kt})})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(a,r={keys:[]}){let l=r.keys.find(m=>m.kid===a);if(l)return l;const u=Date.now();if(l=this.jwks.keys.find(m=>m.kid===a),l&&this.jwks_cached_at+t1>u)return l;const{data:h,error:f}=await ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=u,l=h.keys.find(m=>m.kid===a),!l)?null:l}async getClaims(a,r={}){try{let l=a;if(!l){const{data:S,error:O}=await this.getSession();if(O||!S.session)return this._returnResult({data:null,error:O});l=S.session.access_token}const{header:u,payload:h,signature:f,raw:{header:m,payload:p}}=bc(l);r?.allowExpired||j1(h.exp);const y=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!y){const{error:S}=await this.getUser(l);if(S)throw S;return{data:{claims:h,header:u,signature:f},error:null}}const x=E1(u.alg),b=await crypto.subtle.importKey("jwk",y,x,!0,["verify"]);if(!await crypto.subtle.verify(x,b,f,d1(`${m}.${p}`)))throw new Kc("Invalid JWT signature");return{data:{claims:h,header:u,signature:f},error:null}}catch(l){if(ee(l))return this._returnResult({data:null,error:l});throw l}}}Kr.nextInstanceID={};const n_=Kr,s_="2.90.1";let kr="";typeof Deno<"u"?kr="deno":typeof document<"u"?kr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?kr="react-native":kr="node";const r_={"X-Client-Info":`supabase-js-${kr}/${s_}`},i_={headers:r_},l_={schema:"public"},o_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},u_={};function Gr(s){"@babel/helpers - typeof";return Gr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Gr(s)}function c_(s,a){if(Gr(s)!="object"||!s)return s;var r=s[Symbol.toPrimitive];if(r!==void 0){var l=r.call(s,a);if(Gr(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}function d_(s){var a=c_(s,"string");return Gr(a)=="symbol"?a:a+""}function h_(s,a,r){return(a=d_(a))in s?Object.defineProperty(s,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[a]=r,s}function sp(s,a){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);a&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable})),r.push.apply(r,l)}return r}function Ve(s){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?sp(Object(r),!0).forEach(function(l){h_(s,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):sp(Object(r)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(r,l))})}return s}const f_=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),m_=()=>Headers,p_=(s,a,r)=>{const l=f_(r),u=m_();return async(h,f)=>{var m;const p=(m=await a())!==null&&m!==void 0?m:s;let y=new u(f?.headers);return y.has("apikey")||y.set("apikey",s),y.has("Authorization")||y.set("Authorization",`Bearer ${p}`),l(h,Ve(Ve({},f),{},{headers:y}))}};function g_(s){return s.endsWith("/")?s:s+"/"}function y_(s,a){var r,l;const{db:u,auth:h,realtime:f,global:m}=s,{db:p,auth:y,realtime:x,global:b}=a,w={db:Ve(Ve({},p),u),auth:Ve(Ve({},y),h),realtime:Ve(Ve({},x),f),storage:{},global:Ve(Ve(Ve({},b),m),{},{headers:Ve(Ve({},(r=b?.headers)!==null&&r!==void 0?r:{}),(l=m?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return s.accessToken?w.accessToken=s.accessToken:delete w.accessToken,w}function v_(s){const a=s?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(g_(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var b_=class extends n_{constructor(s){super(s)}},x_=class{constructor(s,a,r){var l,u;this.supabaseUrl=s,this.supabaseKey=a;const h=v_(s);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const f=`sb-${h.hostname.split(".")[0]}-auth-token`,m={db:l_,realtime:u_,auth:Ve(Ve({},o_),{},{storageKey:f}),global:i_},p=y_(r??{},m);if(this.storageKey=(l=p.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=p.global.headers)!==null&&u!==void 0?u:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(x,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var y;this.auth=this._initSupabaseAuthClient((y=p.auth)!==null&&y!==void 0?y:{},this.headers,p.global.fetch)}this.fetch=p_(a,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Ve({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(x=>this.realtime.setAuth(x)).catch(x=>console.warn("Failed to set initial Realtime auth token:",x)),this.rest=new Wx(new URL("rest/v1",h).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new Xw(this.storageUrl.href,this.headers,this.fetch,r?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new Px(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,a={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,a,r)}channel(s,a={config:{}}){return this.realtime.channel(s,a)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,a,r;if(s.accessToken)return await s.accessToken();const{data:l}=await s.auth.getSession();return(a=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:a,detectSessionInUrl:r,storage:l,userStorage:u,storageKey:h,flowType:f,lock:m,debug:p,throwOnError:y},x,b){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new b_({url:this.authUrl.href,headers:Ve(Ve({},w),x),storageKey:h,autoRefreshToken:s,persistSession:a,detectSessionInUrl:r,storage:l,userStorage:u,flowType:f,lock:m,debug:p,throwOnError:y,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new gw(this.realtimeUrl.href,Ve(Ve({},s),{},{params:Ve(Ve({},{apikey:this.supabaseKey}),s?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,a)=>{this._handleTokenChanged(s,"CLIENT",a?.access_token)})}_handleTokenChanged(s,a,r){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const w_=(s,a,r)=>new x_(s,a,r);function __(){if(typeof window<"u")return!1;const s=globalThis.process;if(!s)return!1;const a=s.version;if(a==null)return!1;const r=a.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}__()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const S_="https://gtblmmefwrwshklnonct.supabase.co",j_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd0YmxtbWVmd3J3c2hrbG5vbmN0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkwODc3MTMsImV4cCI6MjA3NDY2MzcxM30.CAu33Pm8T66Pu5QNLiwka71qtuOPgAOGjPnLMCGelNg",Ue=w_(S_,j_,{auth:{autoRefreshToken:!0,persistSession:!0,storageKey:"kasmail.auth.token"}}),E_=100000000n,rp=100000000n,ip=100000000n;async function N_(){if(!window.kasware)return alert("Kasware Wallet not detected. Please install the extension."),null;try{return(await window.kasware.requestAccounts())?.[0]??null}catch(s){return console.error("Kasware connection rejected:",s),null}}async function nn(){if(!window.kasware)return null;try{return(await window.kasware.getAccounts())?.[0]??null}catch(s){return console.error("Kasware getAccounts failed:",s),null}}async function T_(){if(!window.kasware)return 0n;try{const s=await window.kasware.getBalance();return BigInt(s.total??0)}catch(s){return console.error("Kasware balance fetch failed:",s),0n}}async function Ds(){return await T_()>=E_}async function A_(s){if(!window.kasware?.signMessage)return null;try{return await window.kasware.signMessage(s)}catch(a){return console.error("Kasware signMessage failed:",a),null}}async function O_(){try{const{data:s,error:a}=await Ue.from("miner_addresses").select("address");if(a)return console.error("Failed to fetch miner addresses:",a),null;if(!s||s.length===0)return console.warn("No miner addresses found in miner_addresses table"),null;const r=Math.floor(Math.random()*s.length);return s[r].address}catch(s){return console.error("Unexpected error fetching miner address:",s),null}}async function R_(){const s={devTxId:null,minerTxId:null,minerAddress:null};if(!window.kasware?.sendKaspa)return console.warn("Kasware sendKaspa method is not available  anti-bot fee skipped"),alert("Anti-bot fee not supported in current Kasware version. Message will send without fee."),s;const a="kaspa:qqeda72z7xwwqcwfwewymkr2ddxnm7v0rqffkv2vt2362ffe666vqp6xahrw6";try{console.log(`Sending 1 KAS dev fee (${Number(rp)} sompi) to ${a}...`);const r=await window.kasware.sendKaspa(a,Number(rp),{priorityFee:0});console.log("Dev fee tx successful! TxID:",r),s.devTxId=r}catch(r){console.error("Dev fee transaction failed or user cancelled:",r)}try{const r=await O_();if(!r)console.warn("No miner address available  miner reward skipped");else{console.log(`Sending 1 KAS miner reward (${Number(ip)} sompi) to ${r}...`);const l=await window.kasware.sendKaspa(r,Number(ip),{priorityFee:0});console.log("Miner reward tx successful! TxID:",l),s.minerTxId=l,s.minerAddress=r}}catch(r){console.error("Miner reward transaction failed or user cancelled:",r)}return s}const C_=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),k_=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,r,l)=>l?l.toUpperCase():r.toLowerCase()),lp=s=>{const a=k_(s);return a.charAt(0).toUpperCase()+a.slice(1)},eg=(...s)=>s.filter((a,r,l)=>!!a&&a.trim()!==""&&l.indexOf(a)===r).join(" ").trim(),M_=s=>{for(const a in s)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};var D_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const U_=N.forwardRef(({color:s="currentColor",size:a=24,strokeWidth:r=2,absoluteStrokeWidth:l,className:u="",children:h,iconNode:f,...m},p)=>N.createElement("svg",{ref:p,...D_,width:a,height:a,stroke:s,strokeWidth:l?Number(r)*24/Number(a):r,className:eg("lucide",u),...!h&&!M_(m)&&{"aria-hidden":"true"},...m},[...f.map(([y,x])=>N.createElement(y,x)),...Array.isArray(h)?h:[h]]));const oe=(s,a)=>{const r=N.forwardRef(({className:l,...u},h)=>N.createElement(U_,{ref:h,iconNode:a,className:eg(`lucide-${C_(lp(s))}`,`lucide-${s}`,l),...u}));return r.displayName=lp(s),r};const z_=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],tg=oe("archive",z_);const L_=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Vr=oe("arrow-left",L_);const q_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],op=oe("arrow-right",q_);const B_=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],$_=oe("arrow-up-down",B_);const H_=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]],K_=oe("at-sign",H_);const G_=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],V_=oe("book-open",G_);const Y_=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],I_=oe("calendar",Y_);const Q_=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Gc=oe("check",Q_);const P_=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ag=oe("chevron-down",P_);const J_=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],_c=oe("chevron-right",J_);const X_=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Z_=oe("chevron-up",X_);const F_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],xl=oe("circle-alert",F_);const W_=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Sl=oe("circle-check-big",W_);const eS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ng=oe("clock",eS);const tS=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],aS=oe("code",tS);const nS=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Yr=oe("copy",nS);const sS=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],rS=oe("database",sS);const iS=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],sg=oe("external-link",iS);const lS=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],rg=oe("eye-off",lS);const oS=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],uS=oe("eye",oS);const cS=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],dS=oe("file-text",cS);const hS=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],fS=oe("funnel",hS);const mS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],zt=oe("globe",mS);const pS=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],gS=oe("hash",pS);const yS=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],vS=oe("inbox",yS);const bS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],xS=oe("info",bS);const wS=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],up=oe("loader-circle",wS);const _S=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],sn=oe("lock",_S);const SS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],jS=oe("log-out",SS);const ES=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ut=oe("mail",ES);const NS=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],TS=oe("message-square",NS);const AS=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],OS=oe("paperclip",AS);const RS=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3L11 9.999",key:"1lw9ds"}],["path",{d:"M15.973 4.027A13 13 0 0 0 5.902 2.373c-1.398.342-1.092 2.158.277 2.601a19.9 19.9 0 0 1 5.822 3.024",key:"ffj4ej"}],["path",{d:"M16.001 11.999a19.9 19.9 0 0 1 3.024 5.824c.444 1.369 2.26 1.676 2.603.278A13 13 0 0 0 20 8.069",key:"8tj4zw"}],["path",{d:"M18.352 3.352a1.205 1.205 0 0 0-1.704 0l-5.296 5.296a1.205 1.205 0 0 0 0 1.704l2.296 2.296a1.205 1.205 0 0 0 1.704 0l5.296-5.296a1.205 1.205 0 0 0 0-1.704z",key:"hh6h97"}]],Sc=oe("pickaxe",RS);const CS=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],jl=oe("refresh-cw",CS);const kS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],MS=oe("search",kS);const DS=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Mn=oe("send",DS);const US=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zS=oe("settings",US);const LS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],qS=oe("shield-check",LS);const BS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ql=oe("shield",BS);const $S=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],HS=oe("star",$S);const KS=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],Vc=oe("toggle-left",KS);const GS=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],Yc=oe("toggle-right",GS);const VS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],kn=oe("trash-2",VS);const YS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Rs=oe("triangle-alert",YS);const IS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],od=oe("user",IS);const QS=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],jc=oe("wallet",QS);const PS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],JS=oe("x",PS);const XS=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ir=oe("zap",XS);function ZS({to:s,suffix:a=""}){const[r,l]=N.useState(0),u=N.useRef(null);return N.useEffect(()=>{const h=new IntersectionObserver(([f])=>{if(f.isIntersecting){let m=0;const p=Math.max(1,Math.ceil(s/35)),y=setInterval(()=>{m+=p,m>=s?(l(s),clearInterval(y)):l(m)},25);h.disconnect()}},{threshold:.4});return u.current&&h.observe(u.current),()=>h.disconnect()},[s]),c.jsxs("span",{ref:u,children:[r,a]})}const FS=[{title:"Features",items:[["Wallet-based identity","KasWare extension  your Kaspa address is your email"],["Username@kasmail.org","Custom email addresses stored in Supabase profiles"],["Real-time inbox","Instant updates via Supabase Realtime subscriptions"],["External email","Send/receive Gmail, Outlook via Resend.com relay"],["Split on-chain proof","1 KAS dev fee + 1 KAS miner reward per email"],["Anonymous mode","Hide username, show truncated wallet address only"],["KasMail-only mode","Restrict inbox to other KasMail users only"],["File attachments","Up to 5MB, stored in Supabase storage bucket"]]},{title:"Quick Setup",code:`git clone https://github.com/Zarbelt/Kasmail.git
cd Kasmail && pnpm install

# .env
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key
VITE_ADMIN_WALLET=kaspa:qp...

npm run dev`},{title:"Tech Stack",items:[["Frontend","React 18 + TypeScript + Vite + Tailwind CSS"],["Wallet","KasWare browser extension (window.kasware API)"],["Backend","Supabase  PostgreSQL + Realtime + Storage"],["Email Service","Resend.com (send & receive external)"],["Miner Data","Top 50 addresses from kaspa-pool.org in Supabase"],["Deployment","Vercel (frontend) + Supabase Edge Functions"]]}],WS=[{n:"1",t:"Scope",b:"Deliver small Kaspa payloads across the miner network using KasMail. Each email splits a 2 KAS fee: 1 KAS to the developer wallet + 1 KAS to a random top-50 miner."},{n:"2",t:"Split-Fee Architecture",b:"Transaction 1  1 KAS to VITE_ADMIN_WALLET (on-chain proof + platform). Transaction 2  1 KAS to a randomly selected miner from the Supabase miner_addresses table."},{n:"3",t:"Implementation",b:"KasWare API signs transactions in-browser. Supabase stores miner addresses with RLS. Both txIds (dev_fee_txid + miner_fee_txid) recorded in the emails table for transparency."},{n:"4",t:"Development Process",b:"Index top 50 from kaspa-pool.org  Import CSV to Supabase  Frontend fetches random miner at send-time  Two wallet popups  Both txIds stored with email."}],ej=["kaspa:qpuglt749t8g...j2rkeak","kaspa:qyp2uw586lfj...gzgyzfgd","kaspa:qp2e05h5wk7e...xc2scqe","kaspa:qp3c0a0cql85...2tu0j86","kaspa:qpxex33p6x6q...h9jzv05"];function tj(){const s=na(),[a,r]=N.useState(!1),[l,u]=N.useState(null),[h,f]=N.useState("readme"),[m,p]=N.useState(!1),y=async()=>{r(!0),u(null);try{const b=await N_();if(!b)throw new Error("Wallet connection cancelled or failed");if(!await Ds())throw new Error("Minimum 1 KAS required in wallet to use KasMail");const S=`kasmail-login-v1-${Date.now()}-${Math.random().toString(36).slice(2)}`;if(!await A_(S))throw new Error("Proof of ownership failed");const{error:T}=await Ue.from("profiles").upsert({wallet_address:b},{onConflict:"wallet_address"});if(T)throw new Error(T.message);localStorage.setItem("kasmail_wallet",b),s("/inbox")}catch{u("Connection failed. Make sure KasWare is installed and try again.")}finally{r(!1)}},x=()=>{navigator.clipboard.writeText("git clone https://github.com/Zarbelt/Kasmail.git"),p(!0),setTimeout(()=>p(!1),2e3)};return c.jsxs("div",{className:"min-h-screen bg-[#050508] text-white selection:bg-cyan-500/30 overflow-x-hidden",children:[c.jsx("div",{className:"fixed inset-0 pointer-events-none z-50 opacity-[0.012]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E")`}}),c.jsx("nav",{className:"fixed top-0 inset-x-0 z-40 backdrop-blur-2xl bg-[#050508]/70 border-b border-white/[0.04]",children:c.jsxs("div",{className:"max-w-6xl mx-auto h-14 px-5 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2.5",children:[c.jsx("div",{className:"w-7 h-7 rounded-md bg-gradient-to-br from-emerald-400 to-cyan-500 flex items-center justify-center shadow-lg shadow-cyan-500/10",children:c.jsx(Ut,{className:"w-3.5 h-3.5 text-black",strokeWidth:2.5})}),c.jsxs("span",{className:"font-extrabold text-[15px] tracking-tight",children:["Kas",c.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-emerald-400",children:"Mail"})]})]}),c.jsxs("div",{className:"flex items-center gap-5",children:[c.jsx("a",{href:"#how",className:"text-[13px] text-gray-500 hover:text-white transition-colors hidden md:block",children:"How it works"}),c.jsx("a",{href:"#docs",className:"text-[13px] text-gray-500 hover:text-white transition-colors hidden md:block",children:"Docs"}),c.jsx("a",{href:"https://github.com/Zarbelt/Kasmail",target:"_blank",rel:"noopener noreferrer",className:"text-[13px] text-gray-500 hover:text-white transition-colors hidden sm:block",children:"GitHub"}),c.jsx("button",{onClick:y,disabled:a,className:"px-4 py-1.5 text-[13px] font-bold bg-gradient-to-r from-cyan-500 to-emerald-500 text-black rounded-lg hover:shadow-lg hover:shadow-cyan-500/20 transition-all hover:scale-[1.02] active:scale-[0.97] disabled:opacity-60",children:a?"Connecting...":"Launch App"})]})]})}),c.jsxs("section",{className:"relative pt-28 pb-20 px-5",children:[c.jsx("div",{className:"absolute top-16 left-1/2 -translate-x-1/2 w-[700px] h-[500px] bg-cyan-600/[0.06] rounded-full blur-[140px] pointer-events-none"}),c.jsx("div",{className:"absolute top-32 right-1/4 w-[250px] h-[250px] bg-emerald-500/[0.05] rounded-full blur-[100px] pointer-events-none"}),c.jsxs("div",{className:"max-w-3xl mx-auto text-center relative z-10",children:[c.jsxs("div",{className:"inline-flex items-center gap-2 px-3.5 py-1 rounded-full border border-emerald-500/20 bg-emerald-500/[0.04] mb-8",children:[c.jsxs("span",{className:"relative flex h-1.5 w-1.5",children:[c.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),c.jsx("span",{className:"relative inline-flex rounded-full h-1.5 w-1.5 bg-emerald-400"})]}),c.jsx("span",{className:"text-[11px] font-semibold text-emerald-300/90 tracking-wide",children:"Built for Kaspathon  Powered by Kaspa L1"})]}),c.jsxs("h1",{className:"text-[clamp(2.5rem,7vw,4.5rem)] font-black leading-[0.92] tracking-[-0.03em] mb-5",children:[c.jsx("span",{className:"text-white",children:"Decentralized Email"}),c.jsx("br",{}),c.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 via-emerald-400 to-teal-300",children:"That Rewards Miners"})]}),c.jsxs("p",{className:"text-base sm:text-lg text-gray-400 max-w-lg mx-auto leading-relaxed mb-10",children:["Your Kaspa wallet is your identity. Every email sends"," ",c.jsx("span",{className:"text-emerald-400 font-semibold",children:"1 KAS to devs"})," +"," ",c.jsx("span",{className:"text-cyan-400 font-semibold",children:"1 KAS to a random miner"}),"."]}),c.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3 mb-6",children:[c.jsxs("button",{onClick:y,disabled:a,className:"group flex items-center gap-2 px-7 py-3.5 bg-gradient-to-r from-cyan-500 to-emerald-500 text-black font-extrabold rounded-xl text-sm hover:shadow-2xl hover:shadow-cyan-500/25 transition-all hover:scale-[1.03] active:scale-[0.96] disabled:opacity-60",children:[c.jsx(jc,{className:"w-4 h-4"}),"Connect KasWare Wallet",c.jsx(op,{className:"w-3.5 h-3.5 transition-transform group-hover:translate-x-0.5"})]}),c.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-5 py-3.5 border border-gray-800 hover:border-gray-600 rounded-xl text-[13px] text-gray-400 hover:text-white transition-all bg-white/[0.015]",children:[c.jsx(aS,{className:"w-3.5 h-3.5 text-gray-600"}),c.jsx("code",{className:"font-mono text-[11px]",children:"git clone Zarbelt/Kasmail"}),m?c.jsx(Gc,{className:"w-3.5 h-3.5 text-emerald-400"}):c.jsx(Yr,{className:"w-3.5 h-3.5 text-gray-700"})]})]}),l&&c.jsx("div",{className:"max-w-sm mx-auto mb-6 px-4 py-2.5 rounded-xl bg-red-950/30 border border-red-800/30 text-red-300 text-sm text-center",children:l}),c.jsx("div",{className:"flex items-center justify-center gap-10 sm:gap-16 mt-4",children:[{v:50,s:"",l:"Miners in Pool"},{v:2,s:" KAS",l:"Per Email Fee"},{v:1,s:" BPS",l:"Block Speed"}].map((b,w)=>c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-2xl sm:text-3xl font-black text-white",children:c.jsx(ZS,{to:b.v,suffix:b.s})}),c.jsx("p",{className:"text-[10px] text-gray-600 mt-0.5 tracking-wide",children:b.l})]},w))}),c.jsx("p",{className:"mt-10 text-[11px] text-gray-700",children:"KasWare extension required  Minimum 1 KAS balance"})]}),c.jsx("div",{className:"flex justify-center mt-12",children:c.jsx("a",{href:"#how",className:"animate-bounce text-gray-800 hover:text-gray-500 transition-colors",children:c.jsx(ag,{className:"w-5 h-5"})})})]}),c.jsx("section",{id:"how",className:"py-20 px-5 border-t border-white/[0.03]",children:c.jsxs("div",{className:"max-w-5xl mx-auto",children:[c.jsx("p",{className:"text-[10px] uppercase tracking-[0.3em] text-cyan-500/80 font-bold text-center mb-2",children:"How It Works"}),c.jsxs("h2",{className:"text-2xl sm:text-3xl font-black tracking-tight text-center mb-14",children:["Send an Email, ",c.jsx("span",{className:"text-emerald-400",children:"Reward a Miner"})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[{step:"01",icon:jc,t:"Connect Wallet",d:"KasWare authenticates you. Your Kaspa address becomes your email identity.",c:"cyan"},{step:"02",icon:Mn,t:"Compose & Send",d:"Write to @kasmail.org users or external emails via Resend.com relay.",c:"emerald"},{step:"03",icon:Ir,t:"Two On-Chain Txs",d:"1 KAS  developer wallet (proof) + 1 KAS  random top-50 miner (reward).",c:"amber"},{step:"04",icon:Sc,t:"Miner Rewarded",d:"A random miner receives 1 KAS. Both txIds stored for full transparency.",c:"violet"}].map((b,w)=>{const S={cyan:"border-cyan-500/15 bg-cyan-500/[0.04] text-cyan-400",emerald:"border-emerald-500/15 bg-emerald-500/[0.04] text-emerald-400",amber:"border-amber-500/15 bg-amber-500/[0.04] text-amber-400",violet:"border-violet-500/15 bg-violet-500/[0.04] text-violet-400"};return c.jsxs("div",{className:"relative p-5 rounded-2xl border border-gray-800/40 bg-[#0a0a0f] hover:border-gray-700/50 transition-all group",children:[c.jsx("span",{className:"absolute -top-2.5 left-4 text-[9px] font-black text-gray-700 bg-[#0a0a0f] px-2 border border-gray-800/60 rounded-full",children:b.step}),c.jsx("div",{className:`w-9 h-9 rounded-lg flex items-center justify-center mb-3 border ${S[b.c]}`,children:c.jsx(b.icon,{className:"w-4 h-4"})}),c.jsx("h3",{className:"text-sm font-bold text-white mb-1",children:b.t}),c.jsx("p",{className:"text-[11px] text-gray-500 leading-relaxed",children:b.d})]},w)})}),c.jsxs("div",{className:"max-w-lg mx-auto mt-12 p-5 rounded-2xl bg-[#0a0a0f] border border-gray-800/40",children:[c.jsx("p",{className:"text-[9px] uppercase tracking-[0.3em] text-gray-600 font-bold text-center mb-4",children:"Fee Per Email (Optional)"}),c.jsxs("div",{className:"flex items-center justify-center gap-4",children:[c.jsxs("div",{className:"flex-1 p-3 rounded-xl bg-emerald-500/[0.04] border border-emerald-500/10 text-center",children:[c.jsx("p",{className:"text-xl font-black text-emerald-400",children:"1 KAS"}),c.jsx("p",{className:"text-[9px] text-emerald-300/50 mt-0.5",children:"Developer"})]}),c.jsx("span",{className:"text-gray-700 font-bold text-lg",children:"+"}),c.jsxs("div",{className:"flex-1 p-3 rounded-xl bg-cyan-500/[0.04] border border-cyan-500/10 text-center",children:[c.jsx("p",{className:"text-xl font-black text-cyan-400",children:"1 KAS"}),c.jsx("p",{className:"text-[9px] text-cyan-300/50 mt-0.5",children:"Random Miner"})]}),c.jsx("span",{className:"text-gray-700 font-bold text-lg",children:"="}),c.jsxs("div",{className:"flex-1 p-3 rounded-xl bg-white/[0.02] border border-gray-800 text-center",children:[c.jsx("p",{className:"text-xl font-black text-white",children:"2 KAS"}),c.jsx("p",{className:"text-[9px] text-gray-600 mt-0.5",children:"Total"})]})]})]})]})}),c.jsx("section",{className:"py-20 px-5 border-t border-white/[0.03]",children:c.jsx("div",{className:"max-w-5xl mx-auto",children:c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[{icon:ql,t:"Wallet = Identity",d:"No passwords. No central servers. Your Kaspa address is your email address.",c:"text-cyan-400 bg-cyan-500/[0.06] border-cyan-500/10"},{icon:Sc,t:"Miner Rewards",d:"Every email distributes 1 KAS to a random miner from the top 50 pool  L1 network effect.",c:"text-emerald-400 bg-emerald-500/[0.06] border-emerald-500/10"},{icon:zt,t:"External Email",d:"Send to Gmail, Outlook via Resend.com. Receive external emails into your KasMail inbox.",c:"text-blue-400 bg-blue-500/[0.06] border-blue-500/10"},{icon:rg,t:"Anonymous Mode",d:"Hide your username entirely. Only a truncated wallet address is visible to recipients.",c:"text-violet-400 bg-violet-500/[0.06] border-violet-500/10"},{icon:rS,t:"Supabase Backend",d:"Real-time inbox, file storage, miner address management  all with Row Level Security.",c:"text-amber-400 bg-amber-500/[0.06] border-amber-500/10"},{icon:Ir,t:"On-Chain Proof",d:"Both transaction IDs (dev + miner) stored in the emails table for verifiable delivery.",c:"text-rose-400 bg-rose-500/[0.06] border-rose-500/10"}].map((b,w)=>c.jsxs("div",{className:"p-5 rounded-2xl border border-gray-800/30 bg-[#0a0a0f] hover:border-gray-700/40 transition-all",children:[c.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center mb-3 border ${b.c}`,children:c.jsx(b.icon,{className:"w-4 h-4"})}),c.jsx("h3",{className:"text-[13px] font-bold text-white mb-1",children:b.t}),c.jsx("p",{className:"text-[11px] text-gray-500 leading-relaxed",children:b.d})]},w))})})}),c.jsx("section",{id:"docs",className:"py-20 px-5 border-t border-white/[0.03]",children:c.jsxs("div",{className:"max-w-3xl mx-auto",children:[c.jsx("p",{className:"text-[10px] uppercase tracking-[0.3em] text-cyan-500/80 font-bold text-center mb-2",children:"Documentation"}),c.jsx("h2",{className:"text-2xl sm:text-3xl font-black tracking-tight text-center mb-10",children:"Everything You Need"}),c.jsxs("div",{className:"flex justify-center gap-2 mb-8",children:[c.jsxs("button",{onClick:()=>f("readme"),className:`flex items-center gap-1.5 px-4 py-2 rounded-lg text-[13px] font-semibold transition-all ${h==="readme"?"bg-cyan-500/10 text-cyan-300 border border-cyan-500/20":"text-gray-500 border border-gray-800/50 hover:text-gray-300 hover:border-gray-700"}`,children:[c.jsx(V_,{className:"w-3.5 h-3.5"})," README.md"]}),c.jsxs("button",{onClick:()=>f("research"),className:`flex items-center gap-1.5 px-4 py-2 rounded-lg text-[13px] font-semibold transition-all ${h==="research"?"bg-emerald-500/10 text-emerald-300 border border-emerald-500/20":"text-gray-500 border border-gray-800/50 hover:text-gray-300 hover:border-gray-700"}`,children:[c.jsx(dS,{className:"w-3.5 h-3.5"})," Research Paper"]})]}),h==="readme"&&c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"p-5 rounded-2xl border border-gray-800/40 bg-[#0a0a0f]",children:c.jsxs("div",{className:"flex items-start gap-3.5",children:[c.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-cyan-500 to-emerald-500 flex items-center justify-center shrink-0 shadow-lg shadow-cyan-500/10",children:c.jsx(Ut,{className:"w-5 h-5 text-black",strokeWidth:2.5})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-base font-black text-white",children:"KasMail  Decentralized Email powered by Kaspa"}),c.jsx("p",{className:"text-xs text-gray-400 mt-1 leading-relaxed",children:"Send & receive messages tied to your Kaspa wallet address. No central servers. Every email supports the mining network."}),c.jsxs("div",{className:"flex items-center gap-3 mt-2.5",children:[c.jsxs("a",{href:"https://github.com/Zarbelt/Kasmail",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-[11px] text-cyan-400 hover:text-cyan-300 transition-colors",children:[c.jsx(sg,{className:"w-3 h-3"})," GitHub"]}),c.jsx("span",{className:"text-gray-800 text-[10px]",children:""}),c.jsx("span",{className:"text-[11px] text-gray-600",children:"MIT License"})]})]})]})}),c.jsxs("div",{className:"p-4 rounded-2xl border border-emerald-500/10 bg-emerald-500/[0.02]",children:[c.jsx("h4",{className:"text-xs font-bold text-emerald-400 mb-2.5",children:" Kaspa Integration  3 Layers"}),c.jsx("div",{className:"space-y-1.5",children:[["1. Identity","Kaspa address = your email (KasWare)"],["2. Delivery Proof","1 KAS  dev wallet  dev_fee_txid"],["3. Miner Reward","1 KAS  random top-50 miner  miner_fee_txid"]].map(([b,w],S)=>c.jsxs("div",{className:"flex items-start gap-2 px-1",children:[c.jsx("span",{className:"text-[10px] font-black text-emerald-500 bg-emerald-500/10 w-5 h-5 rounded flex items-center justify-center shrink-0 mt-0.5",children:S+1}),c.jsxs("div",{children:[c.jsx("span",{className:"text-[11px] font-bold text-white",children:b}),c.jsxs("span",{className:"text-[11px] text-gray-500",children:["  ",w]})]})]},S))})]}),FS.map((b,w)=>c.jsxs("div",{className:"p-4 rounded-2xl border border-gray-800/30 bg-[#0a0a0f]",children:[c.jsx("h4",{className:"text-[13px] font-bold text-white mb-3",children:b.title}),b.items&&c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-1.5",children:b.items.map(([S,O],T)=>c.jsxs("div",{className:"flex items-start gap-2 px-2 py-1.5 rounded-lg hover:bg-white/[0.015] transition-colors",children:[c.jsx("div",{className:"w-1 h-1 rounded-full bg-cyan-500 mt-[7px] shrink-0"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[11px] font-semibold text-gray-200",children:S}),c.jsx("p",{className:"text-[10px] text-gray-500",children:O})]})]},T))}),b.code&&c.jsx("pre",{className:"p-3 rounded-xl bg-black/60 border border-gray-800/30 overflow-x-auto",children:c.jsx("code",{className:"text-[11px] text-gray-400 font-mono leading-relaxed whitespace-pre",children:b.code})})]},w))]}),h==="research"&&c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"p-5 rounded-2xl border border-gray-800/40 bg-[#0a0a0f]",children:c.jsxs("div",{className:"flex items-start gap-3.5",children:[c.jsx("div",{className:"w-12 h-14 bg-red-500/10 border border-red-500/15 rounded-lg flex items-center justify-center shrink-0",children:c.jsx("span",{className:"text-red-400 text-[10px] font-black",children:"PDF"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-base font-black text-white leading-tight",children:"Kaspa Payloads for Supporting Miners' L1 Network Effect"}),c.jsx("p",{className:"text-[11px] text-emerald-400 font-bold mt-1",children:"MMEDIANET SF1  Standard Framework"}),c.jsx("p",{className:"text-[10px] text-gray-500 mt-0.5",children:"Updated: KasMail Split-Fee Model via Supabase + KasWare"})]})]})}),WS.map((b,w)=>c.jsx("div",{className:"p-4 rounded-2xl border border-gray-800/30 bg-[#0a0a0f]",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"text-[11px] font-black text-cyan-500 bg-cyan-500/10 w-6 h-6 rounded-md flex items-center justify-center shrink-0",children:b.n}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-[13px] font-bold text-white mb-1",children:b.t}),c.jsx("p",{className:"text-[11px] text-gray-400 leading-relaxed",children:b.b})]})]})},w)),c.jsxs("div",{className:"p-4 rounded-2xl border border-cyan-500/10 bg-cyan-500/[0.01]",children:[c.jsxs("h4",{className:"text-[10px] font-bold text-cyan-400 uppercase tracking-wider mb-2.5 flex items-center gap-1.5",children:[c.jsx(Sc,{className:"w-3 h-3"})," Miner Address Pool (Sample)"]}),c.jsxs("div",{className:"rounded-xl bg-black/50 border border-gray-800/30 overflow-hidden",children:[ej.map((b,w)=>c.jsxs("div",{className:`flex items-center gap-2.5 px-3 py-2 text-[11px] ${w>0?"border-t border-gray-800/20":""}`,children:[c.jsxs("span",{className:"text-cyan-500 font-bold w-5 text-right",children:["#",w+1]}),c.jsx("code",{className:"text-gray-400 font-mono",children:b})]},w)),c.jsx("div",{className:"px-3 py-2 border-t border-gray-800/20 text-center",children:c.jsxs("span",{className:"text-[10px] text-gray-700",children:[" 45 more in Supabase ",c.jsx("code",{className:"text-gray-600",children:"miner_addresses"})]})})]})]}),c.jsxs("div",{className:"p-4 rounded-2xl border border-gray-800/30 bg-[#0a0a0f]",children:[c.jsx("h4",{className:"text-[10px] font-bold text-emerald-400 uppercase tracking-wider mb-3",children:"Transaction Architecture"}),c.jsxs("div",{className:"rounded-xl border border-gray-800/30 overflow-hidden text-[11px]",children:[c.jsxs("div",{className:"grid grid-cols-4 bg-gray-900/50 text-[9px] font-bold text-gray-500 uppercase tracking-wider",children:[c.jsx("div",{className:"p-2.5",children:"Tx"}),c.jsx("div",{className:"p-2.5",children:"Recipient"}),c.jsx("div",{className:"p-2.5",children:"Amount"}),c.jsx("div",{className:"p-2.5",children:"Purpose"})]}),c.jsxs("div",{className:"grid grid-cols-4 border-t border-gray-800/20",children:[c.jsx("div",{className:"p-2.5 text-emerald-300 font-semibold",children:"Dev Fee"}),c.jsx("div",{className:"p-2.5 text-gray-400 font-mono text-[9px]",children:"VITE_ADMIN_WALLET"}),c.jsx("div",{className:"p-2.5 text-white font-bold",children:"1 KAS"}),c.jsx("div",{className:"p-2.5 text-gray-500",children:"Proof + platform"})]}),c.jsxs("div",{className:"grid grid-cols-4 border-t border-gray-800/20 bg-white/[0.01]",children:[c.jsx("div",{className:"p-2.5 text-cyan-300 font-semibold",children:"Miner"}),c.jsx("div",{className:"p-2.5 text-gray-400 font-mono text-[9px]",children:"Random miner"}),c.jsx("div",{className:"p-2.5 text-white font-bold",children:"1 KAS"}),c.jsx("div",{className:"p-2.5 text-gray-500",children:"L1 network support"})]})]})]})]})]})}),c.jsxs("section",{className:"py-20 px-5 border-t border-white/[0.03] relative",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-cyan-500/[0.02] to-transparent pointer-events-none"}),c.jsxs("div",{className:"max-w-lg mx-auto text-center relative z-10",children:[c.jsx("h2",{className:"text-2xl sm:text-3xl font-black tracking-tight mb-3",children:"Ready to Start?"}),c.jsx("p",{className:"text-sm text-gray-500 mb-8",children:"Connect your KasWare wallet and join the first decentralized email that rewards Kaspa miners."}),c.jsxs("button",{onClick:y,disabled:a,className:"group inline-flex items-center gap-2 px-7 py-3.5 bg-gradient-to-r from-cyan-500 to-emerald-500 text-black font-extrabold rounded-xl text-sm hover:shadow-2xl hover:shadow-cyan-500/25 transition-all hover:scale-[1.03] active:scale-[0.96] disabled:opacity-60",children:[c.jsx(jc,{className:"w-4 h-4"}),a?"Connecting...":"Connect Wallet & Enter",c.jsx(op,{className:"w-3.5 h-3.5 transition-transform group-hover:translate-x-0.5"})]}),l&&c.jsx("p",{className:"mt-4 text-sm text-red-400",children:l})]})]}),c.jsx("footer",{className:"py-6 px-5 border-t border-white/[0.03]",children:c.jsxs("div",{className:"max-w-5xl mx-auto flex flex-col sm:flex-row items-center justify-between gap-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-5 h-5 rounded bg-gradient-to-br from-emerald-400 to-cyan-500 flex items-center justify-center",children:c.jsx(Ut,{className:"w-2.5 h-2.5 text-black",strokeWidth:2.5})}),c.jsx("span",{className:"text-xs font-bold text-gray-500",children:"KasMail"})]}),c.jsx("p",{className:"text-[10px] text-gray-700",children:"Built with  for the Kaspa ecosystem  every email supports a miner"}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("a",{href:"https://github.com/Zarbelt/Kasmail",target:"_blank",rel:"noopener noreferrer",className:"text-[11px] text-gray-600 hover:text-gray-300 transition-colors",children:"GitHub"}),c.jsx("a",{href:"https://kaspa.org",target:"_blank",rel:"noopener noreferrer",className:"text-[11px] text-gray-600 hover:text-gray-300 transition-colors",children:"Kaspa.org"})]})]})})]})}function aj(){const s=na(),[a,r]=N.useState([]),[l,u]=N.useState(""),[h,f]=N.useState(!1),[m,p]=N.useState(!0),[y,x]=N.useState(null),[b,w]=N.useState(null),[S,O]=N.useState("date"),[T,M]=N.useState(!1),[z,U]=N.useState(!1),[L,Q]=N.useState("inbox"),[te,J]=N.useState(null),[Y,fe]=N.useState(!0),ge=async(G=!0)=>{G&&U(!0);const P=await nn();if(!P){s("/");return}if(w(P),!await Ds()){x("Minimum 1 KAS required to use KasMail"),p(!1),U(!1);return}try{const{data:k}=await Ue.from("profiles").select("*").eq("wallet_address",P).single();k&&(J(k),fe(k.only_internal??!0));const{data:V,error:Z}=await Ue.from("emails").select("*").or(`from_wallet.eq.${P},to_wallet.eq.${P}`).order("created_at",{ascending:!1});if(Z)throw Z;r(V||[]),x(null)}catch(k){x(k instanceof Error?k.message:"Failed to load messages")}finally{p(!1),U(!1)}},$e=async()=>{const G=!Y;fe(G),b&&await Ue.from("profiles").update({only_internal:G,updated_at:new Date().toISOString()}).eq("wallet_address",b)};N.useEffect(()=>{ge();const G=Ue.channel("emails-changes").on("postgres_changes",{event:"*",schema:"public",table:"emails"},()=>{ge(!1)}).subscribe();return()=>{Ue.removeChannel(G)}},[s]);const Oe=N.useMemo(()=>{let G=a;switch(Y?G=G.filter(P=>!P.from_wallet.startsWith("external:")&&!P.to_wallet.startsWith("external:")):G=G.filter(P=>P.from_wallet.startsWith("external:")||P.to_wallet.startsWith("external:")),L){case"inbox":G=G.filter(P=>P.to_wallet===b);break;case"sent":G=G.filter(P=>P.from_wallet===b);break}if(h&&(G=G.filter(P=>!P.read&&P.to_wallet===b)),l.trim()){const P=l.toLowerCase();G=G.filter(se=>(se.subject??"").toLowerCase().includes(P)||(se.body??"").toLowerCase().includes(P)||se.from_wallet.toLowerCase().includes(P)||se.to_wallet.toLowerCase().includes(P))}return G=[...G].sort((P,se)=>{let k=0;return S==="date"?k=new Date(se.created_at).getTime()-new Date(P.created_at).getTime():S==="sender"&&(k=P.from_wallet.localeCompare(se.from_wallet)),T?-k:k}),G},[a,l,h,b,S,T,L,Y]),me=N.useMemo(()=>{const G=a.filter(se=>se.to_wallet===b),P=a.filter(se=>se.from_wallet===b);return{total:a.length,unread:G.filter(se=>!se.read).length,inbox:G.length,sent:P.length,today:a.filter(se=>{const k=new Date(se.created_at),V=new Date;return k.getDate()===V.getDate()&&k.getMonth()===V.getMonth()&&k.getFullYear()===V.getFullYear()}).length}},[a,b]);return m?c.jsx("div",{className:"h-full flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-14 h-14 border-4 border-emerald-500/30 border-t-emerald-500 rounded-full animate-spin mx-auto mb-6"}),c.jsx("div",{className:"text-xl font-bold bg-gradient-to-r from-emerald-400 to-cyan-400 bg-clip-text text-transparent",children:"Loading KasMail"}),c.jsx("p",{className:"text-gray-500 mt-2 text-sm",children:"Connecting to Kaspa network..."})]})}):c.jsxs("div",{className:"h-full flex flex-col",children:[c.jsx("header",{className:"sticky top-0 z-10 border-b border-gray-800/40 bg-gray-950/80 backdrop-blur-xl",children:c.jsxs("div",{className:"px-5 lg:px-8 py-4",children:[c.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-5",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-emerald-500/10 to-emerald-600/10 border border-emerald-500/20",children:c.jsx(Ut,{className:"w-5 h-5 text-emerald-400"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-emerald-300 to-cyan-300 bg-clip-text text-transparent",children:"KasMail"}),c.jsx("p",{className:"text-xs text-gray-500",children:"Lightning-fast messaging"})]})]}),c.jsxs("div",{className:"hidden md:flex items-center gap-5 ml-4 pl-4 border-l border-gray-800/50",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-lg font-bold text-emerald-400",children:me.total}),c.jsx("div",{className:"text-[10px] uppercase tracking-wider text-gray-500",children:"Total"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-lg font-bold text-cyan-400",children:me.unread}),c.jsx("div",{className:"text-[10px] uppercase tracking-wider text-gray-500",children:"Unread"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-lg font-bold text-blue-400",children:me.today}),c.jsx("div",{className:"text-[10px] uppercase tracking-wider text-gray-500",children:"Today"})]})]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[c.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[c.jsx(MS,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-500",size:16}),c.jsx("input",{type:"text",placeholder:"Search messages...",value:l,onChange:G=>u(G.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-900/60 border border-gray-800/60 rounded-xl text-sm focus:border-emerald-500/50 focus:outline-none focus:ring-1 focus:ring-emerald-500/20 transition-all"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>ge(),disabled:z,className:"p-2.5 rounded-xl bg-gray-900/60 border border-gray-800/60 hover:border-gray-700 transition-all disabled:opacity-50",title:"Refresh",children:c.jsx(jl,{className:`w-4 h-4 ${z?"animate-spin":""}`})}),c.jsx("button",{onClick:()=>s("/compose"),className:"px-5 py-2.5 bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-400 hover:to-emerald-500 rounded-xl font-semibold text-sm transition-all hover:scale-[1.02] active:scale-[0.98] shadow-lg shadow-emerald-500/20",children:"Compose"})]})]})]}),c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mt-4",children:[c.jsx("div",{className:"flex items-center gap-1 bg-gray-900/50 rounded-xl p-1 border border-gray-800/50",children:["inbox","sent","all"].map(G=>c.jsxs("button",{onClick:()=>Q(G),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-1.5 ${L===G?"bg-emerald-500/15 text-emerald-300 border border-emerald-500/25":"text-gray-400 hover:text-gray-300 hover:bg-gray-800/40"}`,children:[G==="inbox"&&c.jsx(vS,{className:"w-3.5 h-3.5"}),G==="sent"&&c.jsx(Mn,{className:"w-3.5 h-3.5"}),G==="all"&&c.jsx(Ut,{className:"w-3.5 h-3.5"}),G.charAt(0).toUpperCase()+G.slice(1),G==="inbox"&&me.unread>0&&c.jsx("span",{className:"ml-1 px-1.5 py-0.5 text-[10px] bg-emerald-500 text-white rounded-full font-bold",children:me.unread})]},G))}),c.jsx("div",{className:"flex items-center gap-3",children:c.jsx("button",{onClick:$e,className:`flex items-center gap-2.5 px-4 py-2 rounded-xl border transition-all text-sm font-medium ${Y?"bg-blue-500/10 border-blue-500/25 text-blue-300":"bg-purple-500/10 border-purple-500/25 text-purple-300"}`,children:Y?c.jsxs(c.Fragment,{children:[c.jsx(sn,{className:"w-3.5 h-3.5"}),c.jsx("span",{children:"KasMail Only"}),c.jsx(Yc,{className:"w-5 h-5 text-blue-400"})]}):c.jsxs(c.Fragment,{children:[c.jsx(zt,{className:"w-3.5 h-3.5"}),c.jsx("span",{children:"External"}),c.jsx(Vc,{className:"w-5 h-5 text-purple-400"})]})})}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(fS,{className:"w-3.5 h-3.5 text-gray-500"}),c.jsxs("select",{value:S,onChange:G=>O(G.target.value),className:"bg-gray-900/60 border border-gray-800/60 rounded-lg px-2.5 py-1.5 text-xs focus:outline-none focus:border-emerald-500/50",children:[c.jsx("option",{value:"date",children:"Date"}),c.jsx("option",{value:"sender",children:"Sender"})]}),c.jsx("button",{onClick:()=>M(!T),className:"p-1.5 rounded-lg bg-gray-900/60 border border-gray-800/60 hover:border-gray-700",children:c.jsx($_,{className:"w-3.5 h-3.5"})})]}),c.jsxs("label",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-gray-900/60 border border-gray-800/60 hover:border-gray-700 transition-all cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:h,onChange:G=>f(G.target.checked),className:"sr-only"}),c.jsx("div",{className:`w-3.5 h-3.5 rounded border flex items-center justify-center ${h?"bg-emerald-500 border-emerald-500":"border-gray-600"}`,children:h&&c.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),c.jsx("span",{className:"text-xs font-medium text-gray-400",children:"Unread"})]})]})]})]})}),c.jsx("main",{className:"flex-1 overflow-auto p-5 lg:p-8",children:c.jsxs("div",{className:"max-w-full",children:[y&&c.jsx("div",{className:"p-4 rounded-xl bg-red-950/20 border border-red-900/40 mb-5",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Rs,{className:"w-4 h-4 text-red-400"}),c.jsx("p",{className:"text-red-300 text-sm font-medium",children:y})]})}),c.jsx("div",{className:"mb-5 p-4 rounded-xl bg-gray-900/30 border border-gray-800/40",children:c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-1.5 rounded-lg bg-emerald-500/10 border border-emerald-500/15",children:c.jsx(Ir,{className:"w-4 h-4 text-emerald-400"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-sm text-white",children:"Kaspa Network Active"}),c.jsx("p",{className:"text-xs text-gray-500",children:"1 BPS block speed  ~10s confirmations"})]})]}),c.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-400",children:[c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(ql,{className:"w-3.5 h-3.5 text-cyan-400"}),c.jsx("span",{children:"Encrypted"})]}),c.jsx("div",{className:"h-3 w-px bg-gray-800"}),c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(ng,{className:"w-3.5 h-3.5 text-emerald-400"}),c.jsx("span",{children:"Immutable"})]})]})]})}),Oe.length===0?c.jsxs("div",{className:"text-center py-16",children:[c.jsx("div",{className:"inline-block p-5 rounded-2xl bg-gray-900/20 border border-gray-800/40 mb-5",children:c.jsx(Ut,{className:"w-12 h-12 text-gray-700 mx-auto"})}),c.jsx("h3",{className:"text-xl font-bold text-gray-300 mb-2",children:l||h||L!=="all"?"No matching messages":"Your inbox is empty"}),c.jsx("p",{className:"text-gray-500 text-sm max-w-sm mx-auto mb-6",children:l?`No messages found for "${l}"`:Y?L==="inbox"?"Messages sent to you will appear here":"Send your first KasMail to get started":"No external messages yet"}),!l&&L==="inbox"&&c.jsx("button",{onClick:()=>s("/compose"),className:"px-6 py-3 bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-400 hover:to-emerald-500 rounded-xl font-semibold text-sm transition-all hover:scale-[1.02] shadow-lg shadow-emerald-500/20",children:"Compose First Message"})]}):c.jsx("div",{className:"space-y-2.5",children:Oe.map(G=>{const P=G.to_wallet===b,se=P&&!G.read,k=G.from_wallet.startsWith("external:"),V=G.to_wallet.startsWith("external:"),Z=k||V,ae=k?G.from_wallet.replace("external:",""):`${G.from_wallet.slice(0,10)}...${G.from_wallet.slice(-6)}`,ue=V?G.to_wallet.replace("external:",""):`${G.to_wallet.slice(0,10)}...${G.to_wallet.slice(-6)}`;return c.jsx("div",{onClick:()=>s(`/email/${G.id}`),className:`group p-4 rounded-xl border cursor-pointer transition-all duration-200 ${se?"bg-emerald-950/10 border-emerald-900/25 hover:border-emerald-700/40":"bg-gray-900/15 border-gray-800/25 hover:border-gray-700/40 hover:bg-gray-800/15"}`,children:c.jsxs("div",{className:"flex items-start gap-3.5",children:[c.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center ${se?"bg-emerald-500/10 border border-emerald-500/20":"bg-gray-800/40 border border-gray-700/40"}`,children:Z?c.jsx(zt,{className:`w-4.5 h-4.5 ${se?"text-emerald-400":"text-purple-400"}`}):P?c.jsx(od,{className:`w-4.5 h-4.5 ${se?"text-emerald-400":"text-gray-400"}`}):c.jsx(Mn,{className:`w-4.5 h-4.5 ${se?"text-emerald-400":"text-gray-400"}`})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c.jsx("span",{className:`font-medium text-sm truncate ${se?"text-white":"text-gray-300"}`,children:P?ae:`To: ${ue}`}),se&&c.jsx("span",{className:"px-1.5 py-0.5 text-[10px] bg-emerald-500 text-white rounded-full font-bold",children:"NEW"}),Z&&c.jsx("span",{className:"px-1.5 py-0.5 text-[10px] bg-purple-500/80 text-white rounded-full font-bold",children:"EXTERNAL"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:new Date(G.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),c.jsx("button",{className:"opacity-0 group-hover:opacity-100 p-1.5 rounded-lg hover:bg-gray-800/50 transition-all",children:c.jsx(HS,{className:"w-3.5 h-3.5 text-gray-500"})})]})]}),c.jsx("h3",{className:`text-sm font-medium mb-1 truncate ${se?"text-white":"text-gray-300"}`,children:G.subject||"(No subject)"}),c.jsxs("p",{className:"text-gray-500 text-xs line-clamp-1",children:[G.body.replace(/\n/g," ").slice(0,120),G.body.length>120?"...":""]}),c.jsxs("div",{className:"flex items-center justify-between mt-2.5",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full font-medium ${P?"bg-cyan-500/10 text-cyan-400 border border-cyan-500/15":"bg-gray-800/40 text-gray-500 border border-gray-700/40"}`,children:P?"Received":"Sent"}),c.jsx("span",{className:"text-[10px] text-gray-600",children:new Date(G.created_at).toLocaleDateString([],{weekday:"short",month:"short",day:"numeric"})})]}),c.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-all",children:[c.jsx("button",{className:"p-1.5 rounded-lg hover:bg-gray-800/50",title:"Archive",children:c.jsx(tg,{className:"w-3.5 h-3.5 text-gray-500"})}),c.jsx("button",{className:"p-1.5 rounded-lg hover:bg-red-500/10",title:"Delete",children:c.jsx(kn,{className:"w-3.5 h-3.5 text-gray-500 hover:text-red-400"})})]})]})]})]})},G.id)})})]})})]})}const js="@kasmail.org",nj="https://gtblmmefwrwshklnonct.supabase.co/functions/v1/rapid-worker";function cp(){const s=na(),{id:a}=_p(),[r,l]=N.useState(""),[u,h]=N.useState(""),[f,m]=N.useState(""),[p,y]=N.useState("Loading..."),[x,b]=N.useState(!1),[w,S]=N.useState(null),[O,T]=N.useState(null),[M,z]=N.useState(null),[U,L]=N.useState(null),[Q,te]=N.useState(!1),[J,Y]=N.useState(null);N.useEffect(()=>{(async()=>{const P=await nn();if(!P){y("Connect KasWare to send");return}const{data:se}=await Ue.from("profiles").select("*").eq("wallet_address",P).single();z(se),se?.anonymous_mode||!se?.username?y(`${P.slice(0,10)}...${P.slice(-8)}`):y(`${se.username}${js}`)})()},[]),N.useEffect(()=>{if(!a)return;(async()=>{const{data:P}=await Ue.from("emails").select("from_wallet, subject, body").eq("id",a).single();P&&(l(P.from_wallet),h(`Re: ${P.subject||"(no subject)"}`),m(`

Original message:
${P.body}`))})()},[a]);const fe=G=>{const P=G.target.files?.[0];if(P){if(P.size>5*1024*1024){T("File too large (max 5MB)");return}L(P),P.type.startsWith("image/")&&Y(URL.createObjectURL(P))}},ge=()=>{L(null),Y(null)},$e=async()=>{if(!U)return null;te(!0);try{const{data:G,error:P}=await Ue.storage.from("attachments").upload(`${Date.now()}_${U.name}`,U);if(P)throw P;return G.path}catch{return T("Attachment upload failed"),null}finally{te(!1)}},Oe=async G=>{const{data:P}=await Ue.from("profiles").select("wallet_address").eq("username",G).single();if(!P)throw new Error("Username not found");return P.wallet_address},me=async()=>{b(!0),T(null),S(null);const G=await nn();if(!G||!f.trim()||!r.trim()){T("Missing fields"),b(!1);return}if(!await Ds()){T("Minimum 1 KAS required"),b(!1);return}const se=M?.only_internal??!0;let k=r;try{if(se){if(r.includes("@")&&!r.endsWith(js))throw new Error("External emails disabled in settings");r.endsWith(js)&&(k=r.split("@")[0]),k.startsWith("kaspa:")||(k=await Oe(k)),S("Sending 1 KAS dev fee...");const{devTxId:V,minerTxId:Z,minerAddress:ae}=await R_();if(!V&&!Z)throw new Error("Both transactions cancelled  email not sent");Z&&S("Miner rewarded! Uploading...");const ue=await $e();S("Saving email..."),await Ue.from("emails").insert({from_wallet:G,to_wallet:k,subject:u,body:f,dev_fee_txid:V,miner_fee_txid:Z,miner_address:ae,attachment:ue})}else{if(!r.includes("@")||r.endsWith(js))throw new Error("Internal sends disabled - use external emails only");const V=M?.username?`${M.username}${js}`:`anonymous${js}`;S("Sending via Resend...");const Z=await fetch(nj,{method:"POST",headers:{"Content-Type":"application/json",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd0YmxtbWVmd3J3c2hrbG5vbmN0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkwODc3MTMsImV4cCI6MjA3NDY2MzcxM30.CAu33Pm8T66Pu5QNLiwka71qtuOPgAOGjPnLMCGelNg",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd0YmxtbWVmd3J3c2hrbG5vbmN0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkwODc3MTMsImV4cCI6MjA3NDY2MzcxM30.CAu33Pm8T66Pu5QNLiwka71qtuOPgAOGjPnLMCGelNg"},body:JSON.stringify({from:V,to:r,subject:u,text:f})});if(!Z.ok){const ae=await Z.json();throw new Error(ae.message||"Send failed")}await Ue.from("emails").insert({from_wallet:G,to_wallet:`external:${r}`,subject:u,body:f,dev_fee_txid:null,miner_fee_txid:null,miner_address:null,attachment:null})}s("/inbox")}catch(V){T(V instanceof Error?V.message:"An error occurred")}finally{b(!1),S(null)}};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black to-gray-950 text-white",children:c.jsxs("div",{className:"max-w-2xl mx-auto px-5 py-8",children:[c.jsxs("button",{onClick:()=>s("/inbox"),className:"flex items-center gap-2 mb-8 text-gray-400 hover:text-white transition-colors text-sm",children:[c.jsx(Vr,{className:"w-4 h-4"}),"Back to inbox"]}),c.jsx("h1",{className:"text-2xl font-bold mb-8",children:"Compose KasMail"}),c.jsxs("div",{className:"space-y-5",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1.5",children:"From"}),c.jsx("div",{className:"p-3 bg-gray-900/30 rounded-xl border border-gray-800/50 text-sm text-gray-300",children:p})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1.5",children:"To"}),c.jsx("input",{type:"text",value:r,onChange:G=>l(G.target.value.trim()),placeholder:M?.only_internal?"username or kaspa:address":"user@example.com",className:"w-full p-3 bg-gray-900/30 rounded-xl border border-gray-800/50 focus:border-cyan-500/50 outline-none text-sm transition-colors"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1.5",children:"Subject"}),c.jsx("input",{type:"text",value:u,onChange:G=>h(G.target.value),className:"w-full p-3 bg-gray-900/30 rounded-xl border border-gray-800/50 focus:border-cyan-500/50 outline-none text-sm transition-colors"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1.5",children:"Message"}),c.jsx("textarea",{value:f,onChange:G=>m(G.target.value),rows:8,className:"w-full p-3 bg-gray-900/30 rounded-xl border border-gray-800/50 focus:border-cyan-500/50 outline-none resize-none text-sm transition-colors leading-relaxed"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("label",{className:"flex items-center gap-2 px-3.5 py-2 rounded-xl bg-gray-800/30 border border-gray-700/50 hover:border-cyan-500/40 cursor-pointer transition-colors text-sm",children:[c.jsx(OS,{className:"w-3.5 h-3.5"}),"Attach",c.jsx("input",{type:"file",onChange:fe,className:"hidden"})]}),U&&c.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[U.name,c.jsx("button",{onClick:ge,children:c.jsx(JS,{className:"w-3.5 h-3.5 text-red-400 hover:text-red-300"})})]})]}),J&&c.jsx("img",{src:J,alt:"Preview",className:"max-w-xs rounded-xl"}),M?.only_internal&&c.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-xl bg-gray-900/30 border border-gray-800/40",children:[c.jsx(xS,{className:"w-4 h-4 text-cyan-400 mt-0.5 flex-shrink-0"}),c.jsxs("div",{className:"text-xs text-gray-400 leading-relaxed",children:[c.jsx("strong",{className:"text-gray-300",children:"Split-fee on-chain proof:"})," Sending triggers two wallet transactions:",c.jsxs("div",{className:"mt-2 space-y-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 shrink-0"}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-emerald-300",children:"1 KAS"}),"  Developer wallet (on-chain proof + platform)"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-cyan-500 shrink-0"}),c.jsxs("span",{children:[c.jsx("strong",{className:"text-cyan-300",children:"1 KAS"}),"  Random top-50 miner (L1 network reward)"]})]})]}),c.jsx("span",{className:"block mt-2 text-blue-300/80",children:"Also requires  1 KAS balance (anti-spam check, never spent)."})]})]}),w&&c.jsxs("div",{className:"flex items-center gap-2.5 p-3 rounded-xl bg-cyan-950/20 border border-cyan-500/15",children:[c.jsx(up,{className:"w-4 h-4 animate-spin text-cyan-400"}),c.jsx("span",{className:"text-xs text-cyan-300",children:w})]}),O&&c.jsx("p",{className:"text-red-400 text-sm text-center",children:O}),c.jsx("div",{className:"flex justify-end pt-2",children:c.jsx("button",{onClick:me,disabled:x||Q||!f.trim()||!r.trim(),className:`flex items-center gap-2.5 px-6 py-3 rounded-xl font-semibold text-sm transition-all ${x||Q||!f.trim()||!r.trim()?"bg-gray-700 cursor-not-allowed opacity-50":"bg-gradient-to-r from-emerald-500 to-cyan-600 hover:from-emerald-400 hover:to-cyan-500 shadow-lg shadow-emerald-500/20 hover:scale-[1.02] active:scale-[0.98]"}`,children:x||Q?c.jsxs(c.Fragment,{children:[c.jsx(up,{className:"w-4 h-4 animate-spin"}),Q?"Uploading...":"Sending..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Mn,{className:"w-4 h-4"}),M?.only_internal?"Send KasMail (1 KAS dev + 1 KAS miner)":"Send Email"]})})})]})]})})}function sj(){const{id:s}=_p(),a=na(),[r,l]=N.useState(null),[u,h]=N.useState(null),[f,m]=N.useState(null),[p,y]=N.useState(!0),[x,b]=N.useState(null),[w,S]=N.useState(!1),[O,T]=N.useState(!1),[M,z]=N.useState(!1);N.useEffect(()=>{(async()=>{if(!s){a("/inbox");return}try{const me=await nn();if(!me){a("/");return}m(me);const{data:G,error:P}=await Ue.from("emails").select("*").eq("id",s).single();if(P)throw P;if(!G){b("Email not found"),y(!1);return}if(G.from_wallet!==me&&G.to_wallet!==me){b("Unauthorized access"),y(!1);return}if(l(G),G.to_wallet===me&&!G.read&&await Ue.from("emails").update({read:!0}).eq("id",s),!G.from_wallet.startsWith("external:")){const{data:k}=await Ue.from("profiles").select("*").eq("wallet_address",G.from_wallet).single();h(k||null)}}catch(me){b(me instanceof Error?me.message:"Failed to load email")}finally{y(!1)}})()},[s,a]);const U=Oe=>{navigator.clipboard.writeText(Oe),S(!0),setTimeout(()=>S(!1),2e3)},L=Oe=>{const me=new Date(Oe),P=new Date().getTime()-me.getTime(),se=Math.floor(P/6e4),k=Math.floor(P/36e5),V=Math.floor(P/864e5);return se<60?`${se} minute${se!==1?"s":""} ago`:k<24?`${k} hour${k!==1?"s":""} ago`:V<7?`${V} day${V!==1?"s":""} ago`:me.toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},Q=async()=>{if(r)try{const{error:Oe}=await Ue.from("emails").delete().eq("id",r.id);if(Oe)throw Oe;a("/inbox")}catch{b("Failed to delete email")}},te=async()=>{if(r)try{const{error:Oe}=await Ue.from("emails").update({archived:!0}).eq("id",r.id);if(Oe)throw Oe;l(me=>me?{...me,archived:!0}:null)}catch{b("Failed to archive email")}};if(p)return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-950 to-black flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-14 h-14 border-4 border-emerald-500/30 border-t-emerald-500 rounded-full animate-spin mx-auto mb-5"}),c.jsx("div",{className:"text-xl font-bold bg-gradient-to-r from-emerald-400 to-cyan-400 bg-clip-text text-transparent",children:"Loading Message"}),c.jsx("p",{className:"text-gray-500 mt-2 text-sm",children:"Decrypting KasMail..."})]})});if(x||!r)return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-950 to-black flex flex-col items-center justify-center p-6",children:c.jsxs("div",{className:"max-w-md w-full bg-red-950/20 border border-red-800/40 rounded-2xl p-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx(Rs,{className:"w-6 h-6 text-red-400"}),c.jsx("h2",{className:"text-xl font-bold text-white",children:"Error"})]}),c.jsx("p",{className:"text-red-300 text-sm mb-6",children:x||"Email not found"}),c.jsxs("button",{onClick:()=>a("/inbox"),className:"w-full py-2.5 px-4 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2 text-sm",children:[c.jsx(Vr,{className:"w-4 h-4"}),"Back to Inbox"]})]})});const J=r.from_wallet.startsWith("external:"),Y=r.to_wallet.startsWith("external:"),fe=J||Y,ge=u?.username||(J?r.from_wallet.replace("external:",""):`${r.from_wallet.slice(0,12)}...${r.from_wallet.slice(-8)}`),$e=Y?r.to_wallet.replace("external:",""):f===r.to_wallet?"You":`${r.to_wallet.slice(0,12)}...${r.to_wallet.slice(-8)}`;return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-950 to-black",children:c.jsx("main",{className:"flex-1 overflow-y-auto",children:c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-6",children:c.jsxs("button",{onClick:()=>a("/inbox"),className:"flex items-center gap-2 px-3.5 py-2 rounded-lg bg-gray-900/40 border border-gray-800/50 hover:border-gray-700 transition-all text-sm",children:[c.jsx(Vr,{className:"w-4 h-4"}),c.jsx("span",{children:"Back to Inbox"})]})}),c.jsxs("div",{className:"bg-gradient-to-br from-gray-900/30 to-black/30 rounded-2xl border border-gray-800/40 overflow-hidden",children:[c.jsxs("div",{className:"p-6 lg:p-8 border-b border-gray-800/40",children:[c.jsxs("div",{className:"flex items-start justify-between gap-4 mb-5",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h1",{className:"text-xl lg:text-2xl font-bold text-white mb-3",children:r.subject||"(No subject)"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-gray-400",children:[c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(ng,{className:"w-3.5 h-3.5 text-cyan-400"}),c.jsx("span",{children:L(r.created_at)})]}),c.jsx("span",{className:"text-gray-700",children:""}),c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(gS,{className:"w-3.5 h-3.5 text-gray-600"}),c.jsxs("span",{className:"font-mono",children:["ID: ",r.id.slice(0,8)]})]}),fe&&c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-700",children:""}),c.jsx("span",{className:"px-1.5 py-0.5 text-[10px] bg-purple-500/70 text-white rounded-full font-bold",children:"EXTERNAL"})]}),r.read&&c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-700",children:""}),c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(Sl,{className:"w-3.5 h-3.5 text-emerald-400"}),c.jsx("span",{className:"text-emerald-400",children:"Read"})]})]})]})]}),c.jsx("button",{onClick:()=>T(!O),className:"p-2 rounded-lg bg-gray-800/40 border border-gray-700/50 hover:border-gray-600 transition-all",children:O?c.jsx(Z_,{className:"w-4 h-4"}):c.jsx(ag,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:`space-y-5 ${O?"block":"hidden"}`,children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("div",{className:"p-1.5 rounded-lg bg-emerald-500/10 border border-emerald-500/15",children:J?c.jsx(zt,{className:"w-4 h-4 text-purple-400"}):c.jsx(od,{className:"w-4 h-4 text-emerald-400"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-wider",children:"From"}),c.jsx("p",{className:"text-sm font-semibold text-white truncate",children:ge})]})]}),!J&&c.jsx("div",{className:"flex items-center gap-2 text-xs ml-9",children:c.jsxs("button",{onClick:()=>U(r.from_wallet),className:"flex items-center gap-1 text-gray-500 hover:text-cyan-400 transition-colors",children:[c.jsx(Yr,{className:"w-3 h-3"}),c.jsx("span",{children:w?"Copied!":"Copy address"})]})})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("div",{className:"p-1.5 rounded-lg bg-cyan-500/10 border border-cyan-500/15",children:Y?c.jsx(zt,{className:"w-4 h-4 text-purple-400"}):c.jsx(Ut,{className:"w-4 h-4 text-cyan-400"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-wider",children:"To"}),c.jsx("p",{className:"text-sm font-semibold text-white truncate",children:$e})]})]}),!Y&&c.jsx("div",{className:"flex items-center gap-2 text-xs ml-9",children:c.jsxs("button",{onClick:()=>U(r.to_wallet),className:"flex items-center gap-1 text-gray-500 hover:text-cyan-400 transition-colors",children:[c.jsx(Yr,{className:"w-3 h-3"}),c.jsx("span",{children:"Copy address"})]})})]})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-6 pt-5 border-t border-gray-800/40",children:[c.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-emerald-500/10 border border-emerald-500/15",children:[c.jsx(ql,{className:"w-3 h-3 text-emerald-400"}),c.jsx("span",{className:"text-[10px] font-medium text-emerald-300",children:"Encrypted"})]}),c.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-cyan-500/10 border border-cyan-500/15",children:[c.jsx(sn,{className:"w-3 h-3 text-cyan-400"}),c.jsx("span",{className:"text-[10px] font-medium text-cyan-300",children:"Immutable"})]}),c.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-blue-500/10 border border-blue-500/15",children:[c.jsx(I_,{className:"w-3 h-3 text-blue-400"}),c.jsx("span",{className:"text-[10px] font-medium text-blue-300",children:new Date(r.created_at).toLocaleDateString()})]})]})]}),c.jsxs("div",{className:"p-6 lg:p-8",children:[c.jsx("div",{className:"whitespace-pre-wrap leading-relaxed text-gray-200 text-sm",children:r.body}),c.jsx("div",{className:"mt-8 pt-6 border-t border-gray-800/40",children:c.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 rounded-lg bg-gray-800/40 border border-gray-700/40",children:c.jsx(TS,{className:"w-4 h-4 text-gray-400"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-sm",children:"Ready to reply?"}),c.jsx("p",{className:"text-xs text-gray-500",children:"Continue the conversation"})]})]}),c.jsx("button",{onClick:()=>a(`/compose?reply=${r.id}`),className:"px-6 py-2.5 bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-400 hover:to-emerald-500 rounded-xl font-semibold text-sm transition-all hover:scale-[1.02] shadow-lg shadow-emerald-500/20",children:"Reply to Message"})]})})]}),c.jsx("div",{className:"p-5 lg:px-8 border-t border-gray-800/40 bg-gray-900/15",children:c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[c.jsx(Ir,{className:"w-3.5 h-3.5 text-emerald-400"}),c.jsx("span",{children:fe?"Sent via external relay":"Sent via Kaspa Network"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{onClick:te,disabled:r.archived,className:"flex items-center gap-1.5 px-3 py-2 rounded-lg bg-gray-900/40 border border-gray-800/50 hover:border-gray-700 text-xs transition-all disabled:opacity-40 disabled:cursor-not-allowed",children:[c.jsx(tg,{className:"w-3.5 h-3.5"}),c.jsx("span",{children:r.archived?"Archived":"Archive"})]}),M?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>z(!1),className:"px-3 py-2 rounded-lg border border-gray-800/50 hover:border-gray-700 text-xs transition-all",children:"Cancel"}),c.jsxs("button",{onClick:Q,className:"flex items-center gap-1.5 px-3 py-2 rounded-lg bg-red-500/15 border border-red-500/25 hover:border-red-500/40 text-red-300 text-xs transition-all",children:[c.jsx(kn,{className:"w-3.5 h-3.5"}),c.jsx("span",{children:"Confirm"})]})]}):c.jsxs("button",{onClick:()=>z(!0),className:"flex items-center gap-1.5 px-3 py-2 rounded-lg bg-red-500/10 border border-red-500/15 hover:border-red-500/25 text-red-400 text-xs transition-all",children:[c.jsx(kn,{className:"w-3.5 h-3.5"}),c.jsx("span",{children:"Delete"})]})]})]})})]}),c.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-3",children:[c.jsxs(ed,{to:"/inbox",className:"p-5 rounded-xl bg-gray-900/20 border border-gray-800/40 hover:border-gray-700/40 transition-all group",children:[c.jsxs("div",{className:"flex items-center gap-2.5 mb-2",children:[c.jsx("div",{className:"p-1.5 rounded-lg bg-cyan-500/10 border border-cyan-500/15",children:c.jsx(Ut,{className:"w-4 h-4 text-cyan-400"})}),c.jsx("h3",{className:"font-semibold text-sm text-white",children:"Back to Inbox"})]}),c.jsx("p",{className:"text-xs text-gray-500",children:"Return to your messages"})]}),c.jsxs("button",{onClick:()=>a("/compose"),className:"p-5 rounded-xl bg-gray-900/20 border border-gray-800/40 hover:border-emerald-700/40 transition-all group text-left",children:[c.jsxs("div",{className:"flex items-center gap-2.5 mb-2",children:[c.jsx("div",{className:"p-1.5 rounded-lg bg-emerald-500/10 border border-emerald-500/15",children:c.jsx(Ut,{className:"w-4 h-4 text-emerald-400"})}),c.jsx("h3",{className:"font-semibold text-sm text-white",children:"New Message"})]}),c.jsx("p",{className:"text-xs text-gray-500",children:"Compose a new KasMail"})]}),!fe&&c.jsxs("button",{onClick:()=>window.open(`https://explorer.kaspa.org/addresses/${r.from_wallet}`,"_blank"),className:"p-5 rounded-xl bg-gray-900/20 border border-gray-800/40 hover:border-blue-700/40 transition-all group text-left",children:[c.jsxs("div",{className:"flex items-center gap-2.5 mb-2",children:[c.jsx("div",{className:"p-1.5 rounded-lg bg-blue-500/10 border border-blue-500/15",children:c.jsx(sg,{className:"w-4 h-4 text-blue-400"})}),c.jsx("h3",{className:"font-semibold text-sm text-white",children:"View on Explorer"})]}),c.jsx("p",{className:"text-xs text-gray-500",children:"See transaction details"})]})]})]})})})}const Cr=/^[a-zA-Z0-9_]{3,20}$/,rj="@kasmail.org";function ij(){const s=na(),[a,r]=N.useState(null),[l,u]=N.useState(""),[h,f]=N.useState(null),[m,p]=N.useState(null),[y,x]=N.useState([]),[b,w]=N.useState(!1),[S,O]=N.useState(!1),[T,M]=N.useState(!1),[z,U]=N.useState(!0),[L,Q]=N.useState(!0),[te,J]=N.useState(null),[Y,fe]=N.useState(""),[ge,$e]=N.useState(!1),[Oe,me]=N.useState(!1),G=ae=>`${ae}${rj}`,P=async ae=>{const ue=[],E=[`${ae}${Math.floor(Math.random()*99)+1}`,`${ae}_${Math.floor(Math.random()*999)+1}`,`${ae}${new Date().getFullYear().toString().slice(-2)}`,`${ae}_official`,`the_${ae}`];for(const $ of E){if(!Cr.test($))continue;const{data:I}=await Ue.from("profiles").select("username").eq("username",$).maybeSingle();if(!I&&ue.length<3&&ue.push($),ue.length>=3)break}return ue};N.useEffect(()=>{(async()=>{const ue=await nn();if(!ue){s("/");return}if(fe(ue),!await Ds()){J("Minimum 1 KAS required to access settings"),Q(!1);return}const{data:$,error:I}=await Ue.from("profiles").select("*").eq("wallet_address",ue).single();I&&I.code!=="PGRST116"?J(I.message):$&&(r($),u($.username||""),M($.anonymous_mode||!1),U($.only_internal??!0)),Q(!1)})()},[s]),N.useEffect(()=>{if(!l||!Cr.test(l)){p(null),f(null),x([]);return}const ue=setTimeout(async()=>{w(!0),f(null),x([]);const{data:E,error:$}=await Ue.from("profiles").select("username").eq("username",l).neq("wallet_address",a?.wallet_address||"").maybeSingle();if($)f("Error checking availability"),p(null);else if(E){p(!1),f(`Username "${l}" is already taken`);const I=await P(l);x(I)}else p(!0),f(null);w(!1)},500);return()=>clearTimeout(ue)},[l,a?.wallet_address]);const se=async()=>{if(O(!0),f(null),me(!1),l&&!Cr.test(l)){f("Username must be 3-20 characters, letters, numbers, underscores only"),O(!1);return}if(l&&!m){f("Username not available"),O(!1);return}if(!Y){f("Wallet not connected"),O(!1);return}const{error:ae}=await Ue.from("profiles").upsert({wallet_address:Y,username:l||null,anonymous_mode:T,only_internal:z,updated_at:new Date().toISOString()},{onConflict:"wallet_address"});ae?f(ae.message):(r(ue=>ue?{...ue,username:l,anonymous_mode:T,only_internal:z}:null),me(!0),setTimeout(()=>me(!1),3e3)),O(!1)},k=()=>{l&&(navigator.clipboard.writeText(G(l)),$e(!0),setTimeout(()=>$e(!1),2e3))},V=ae=>{navigator.clipboard.writeText(ae),$e(!0),setTimeout(()=>$e(!1),2e3)},Z=ae=>{u(ae),x([])};return L?c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-black via-gray-950 to-black",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(jl,{className:"w-5 h-5 text-cyan-400 animate-spin"}),c.jsx("p",{className:"text-cyan-300 text-sm",children:"Loading settings..."})]})}):te?c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-black via-gray-950 to-black p-4",children:c.jsxs("div",{className:"max-w-md w-full bg-red-950/20 border border-red-800/40 rounded-2xl p-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx(xl,{className:"w-6 h-6 text-red-400"}),c.jsx("h2",{className:"text-xl font-bold text-white",children:"Access Denied"})]}),c.jsx("p",{className:"text-red-300 text-sm mb-6",children:te}),c.jsxs("button",{onClick:()=>s("/"),className:"w-full py-2.5 px-4 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2 text-sm",children:[c.jsx(Vr,{className:"w-4 h-4"}),"Return to Login"]})]})}):c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-950 to-black",children:c.jsx("main",{className:"flex-1 overflow-y-auto",children:c.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("button",{onClick:()=>s("/inbox"),className:"p-2 rounded-lg bg-gray-800/40 hover:bg-gray-700/40 border border-gray-700/50 hover:border-gray-600 transition-all",children:c.jsx(Vr,{className:"w-4 h-4"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Settings"}),c.jsx("p",{className:"text-gray-500 text-xs mt-0.5",children:"Manage your KasMail account"})]})]}),Oe&&c.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-xl bg-emerald-500/10 border border-emerald-500/25",children:[c.jsx(Sl,{className:"w-4 h-4 text-emerald-400"}),c.jsx("p",{className:"text-emerald-300 text-sm font-medium",children:"Settings saved!"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[c.jsxs("div",{className:"bg-gradient-to-br from-gray-900/30 to-black/30 rounded-2xl border border-gray-800/40 p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[c.jsx("div",{className:"p-2 rounded-lg bg-cyan-500/10 border border-cyan-500/15",children:c.jsx(od,{className:"w-5 h-5 text-cyan-400"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-bold text-white",children:"KasMail Email Address"}),c.jsx("p",{className:"text-xs text-gray-500",children:"Choose your unique email identifier"})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1.5",children:"Your Username"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",value:l,onChange:ae=>u(ae.target.value.toLowerCase()),placeholder:"username",className:"w-full px-4 py-2.5 bg-gray-900/40 border border-gray-700/50 rounded-xl text-white text-sm placeholder-gray-600 focus:outline-none focus:ring-1 focus:ring-cyan-500/40 focus:border-cyan-500/40 transition-all"}),b&&c.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:c.jsx(jl,{className:"w-4 h-4 text-cyan-400 animate-spin"})}),!b&&l&&Cr.test(l)&&c.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:m?c.jsx(Sl,{className:"w-4 h-4 text-emerald-400"}):c.jsx(xl,{className:"w-4 h-4 text-red-400"})})]}),h&&c.jsxs("p",{className:"mt-1.5 text-xs text-red-400 flex items-center gap-1.5",children:[c.jsx(xl,{className:"w-3 h-3"}),h]}),!h&&l&&c.jsx("p",{className:"mt-1.5 text-[10px] text-gray-500",children:"3-20 characters  Letters, numbers, underscores"})]}),y.length>0&&c.jsxs("div",{className:"p-3 rounded-xl bg-blue-500/10 border border-blue-500/15",children:[c.jsxs("p",{className:"text-xs font-medium text-blue-300 mb-2 flex items-center gap-1.5",children:[c.jsx(xl,{className:"w-3 h-3"}),"Try these alternatives:"]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:y.map(ae=>c.jsx("button",{onClick:()=>Z(ae),className:"px-3 py-1.5 bg-blue-500/15 hover:bg-blue-500/25 border border-blue-500/25 hover:border-blue-500/40 rounded-lg text-blue-200 text-xs font-medium transition-all",children:ae},ae))})]}),l&&Cr.test(l)&&m&&c.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-r from-emerald-500/10 to-cyan-500/10 border border-emerald-500/15",children:c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("p",{className:"text-xs text-emerald-300 mb-0.5 flex items-center gap-1.5",children:[c.jsx(K_,{className:"w-3 h-3"}),"Your KasMail Email Address"]}),c.jsx("p",{className:"text-sm font-mono text-white break-all",children:G(l)})]}),c.jsx("button",{onClick:k,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-emerald-500/15 hover:bg-emerald-500/25 border border-emerald-500/20 hover:border-emerald-500/40 transition-all shrink-0",children:ge?c.jsxs(c.Fragment,{children:[c.jsx(Gc,{className:"w-3.5 h-3.5 text-emerald-300"}),c.jsx("span",{className:"text-xs text-emerald-300",children:"Copied!"})]}):c.jsxs(c.Fragment,{children:[c.jsx(Yr,{className:"w-3.5 h-3.5 text-emerald-300"}),c.jsx("span",{className:"text-xs text-emerald-300",children:"Copy"})]})})]})}),a?.username&&a.username!==l&&c.jsxs("div",{className:"p-3 rounded-xl bg-gray-900/20 border border-gray-800/40",children:[c.jsx("p",{className:"text-[10px] text-gray-500 mb-0.5",children:"Current Email"}),c.jsx("p",{className:"text-sm font-mono text-gray-300",children:G(a.username)})]})]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-gray-900/30 to-black/30 rounded-2xl border border-gray-800/40 p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[c.jsx("div",{className:"p-2 rounded-lg bg-purple-500/10 border border-purple-500/15",children:c.jsx(ql,{className:"w-5 h-5 text-purple-400"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-bold text-white",children:"Privacy Settings"}),c.jsx("p",{className:"text-xs text-gray-500",children:"Control your messaging privacy"})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-start justify-between gap-3 p-4 rounded-xl bg-gray-900/20 border border-gray-800/40",children:[c.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[c.jsx("div",{className:"p-1.5 rounded-lg bg-purple-500/10 mt-0.5",children:T?c.jsx(rg,{className:"w-4 h-4 text-purple-400"}):c.jsx(uS,{className:"w-4 h-4 text-emerald-400"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-medium text-sm text-white mb-0.5",children:"Anonymous Mode"}),c.jsx("p",{className:"text-xs text-gray-500",children:"Hide your email from recipients. They see your wallet address instead."}),c.jsx("p",{className:"text-[10px] text-gray-600 mt-1",children:T?"Recipients see: kaspa:qr...":a?.username?`Recipients see: ${G(a.username)}`:"Set a username first"})]})]}),c.jsx("button",{onClick:()=>M(!T),className:`p-1 rounded-lg transition-all ${T?"bg-purple-500/15 border border-purple-500/25":"bg-gray-700/20 border border-gray-600/25"}`,children:T?c.jsx(Yc,{className:"w-7 h-7 text-purple-400"}):c.jsx(Vc,{className:"w-7 h-7 text-gray-400"})})]}),c.jsxs("div",{className:"flex items-start justify-between gap-3 p-4 rounded-xl bg-gray-900/20 border border-gray-800/40",children:[c.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[c.jsx("div",{className:"p-1.5 rounded-lg bg-blue-500/10 mt-0.5",children:c.jsx(sn,{className:"w-4 h-4 text-blue-400"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-medium text-sm text-white mb-0.5",children:"Only KasMail Users"}),c.jsx("p",{className:"text-xs text-gray-500",children:"Only accept messages from registered KasMail users."}),c.jsx("p",{className:"text-[10px] text-gray-600 mt-1",children:z?"Blocking messages from unknown wallet addresses":"Accepting messages from any Kaspa wallet"})]})]}),c.jsx("button",{onClick:()=>U(!z),className:`p-1 rounded-lg transition-all ${z?"bg-blue-500/15 border border-blue-500/25":"bg-gray-700/20 border border-gray-600/25"}`,children:z?c.jsx(Yc,{className:"w-7 h-7 text-blue-400"}):c.jsx(Vc,{className:"w-7 h-7 text-gray-400"})})]}),c.jsxs("div",{className:"p-3 rounded-xl bg-gradient-to-r from-cyan-500/10 to-blue-500/10 border border-cyan-500/15",children:[c.jsx("h4",{className:"text-xs font-medium text-cyan-300 mb-1",children:"How Others See You"}),c.jsx("p",{className:"text-sm font-mono text-white break-all",children:T?`${Y.slice(0,12)}...${Y.slice(-8)}`:a?.username?G(a.username):"No email address set"}),c.jsx("p",{className:"text-[10px] text-gray-600 mt-1",children:"This is how others will see you in messages"})]})]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-gray-900/30 to-black/30 rounded-2xl border border-gray-800/40 p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[c.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10 border border-blue-500/15",children:c.jsx(zt,{className:"w-5 h-5 text-blue-400"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-bold text-white",children:"Wallet Information"}),c.jsx("p",{className:"text-xs text-gray-500",children:"Your Kaspa wallet details"})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500 mb-1.5",children:"Connected Address"}),c.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-gray-900/20 border border-gray-800/40",children:[c.jsx("p",{className:"font-mono text-cyan-300 text-sm truncate",children:Y}),c.jsxs("button",{onClick:()=>V(Y),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-gray-800/40 hover:bg-gray-700/40 border border-gray-700/50 hover:border-gray-600 transition-all",children:[ge?c.jsx(Gc,{className:"w-3.5 h-3.5 text-emerald-400"}):c.jsx(Yr,{className:"w-3.5 h-3.5"}),c.jsx("span",{className:"text-xs",children:ge?"Copied!":"Copy"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[c.jsxs("div",{className:"p-3 rounded-xl bg-emerald-500/10 border border-emerald-500/15",children:[c.jsx("p",{className:"text-[10px] text-emerald-300 mb-0.5",children:"Minimum Balance"}),c.jsx("p",{className:"text-xl font-bold text-white",children:"1 KAS"}),c.jsx("p",{className:"text-[10px] text-emerald-300/60 mt-0.5",children:"Required to send messages"})]}),c.jsxs("div",{className:"p-3 rounded-xl bg-cyan-500/10 border border-cyan-500/15",children:[c.jsx("p",{className:"text-[10px] text-cyan-300 mb-0.5",children:"Network Status"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),c.jsx("p",{className:"text-xl font-bold text-white",children:"Active"})]}),c.jsx("p",{className:"text-[10px] text-cyan-300/60 mt-0.5",children:"1 BPS  ~10s confirmations"})]})]})]})]}),c.jsx("button",{onClick:se,disabled:S||!!l&&!m,className:"w-full py-3 px-5 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 disabled:from-gray-700 disabled:to-gray-600 text-white rounded-xl font-medium text-sm transition-all disabled:cursor-not-allowed flex items-center justify-center gap-2",children:S?c.jsxs(c.Fragment,{children:[c.jsx(jl,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Sl,{className:"w-4 h-4"}),"Save All Settings"]})})]}),c.jsxs("div",{className:"space-y-5",children:[c.jsxs("div",{className:"bg-gradient-to-br from-gray-900/30 to-black/30 rounded-2xl border border-gray-800/40 p-5",children:[c.jsxs("div",{className:"flex items-center gap-2.5 mb-5",children:[c.jsx("div",{className:"p-1.5 rounded-lg bg-cyan-500/10 border border-cyan-500/15",children:c.jsx(qS,{className:"w-5 h-5 text-cyan-400"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-sm text-white",children:"Security Features"}),c.jsx("p",{className:"text-[10px] text-gray-500",children:"Powered by Kaspa"})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-start gap-2.5",children:[c.jsx(sn,{className:"w-4 h-4 text-emerald-400 mt-0.5"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-xs text-white",children:"End-to-End Encryption"}),c.jsx("p",{className:"text-[10px] text-gray-500",children:"All messages are encrypted"})]})]}),c.jsxs("div",{className:"flex items-start gap-2.5",children:[c.jsx(Ir,{className:"w-4 h-4 text-emerald-400 mt-0.5"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-xs text-white",children:"Immutable Storage"}),c.jsx("p",{className:"text-[10px] text-gray-500",children:"Messages stored on-chain"})]})]}),c.jsxs("div",{className:"flex items-start gap-2.5",children:[c.jsx(Ut,{className:"w-4 h-4 text-emerald-400 mt-0.5"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-xs text-white",children:"No Central Servers"}),c.jsx("p",{className:"text-[10px] text-gray-500",children:"Decentralized architecture"})]})]})]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-gray-900/30 to-black/30 rounded-2xl border border-gray-800/40 p-5",children:[c.jsx("h3",{className:"font-bold text-sm text-white mb-4",children:"Quick Actions"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("button",{onClick:()=>s("/inbox"),className:"w-full flex items-center justify-between p-3 rounded-xl bg-gray-900/20 border border-gray-800/40 hover:border-gray-700 transition-all group",children:[c.jsxs("div",{className:"flex items-center gap-2.5",children:[c.jsx("div",{className:"p-1.5 rounded-lg bg-cyan-500/10",children:c.jsx(Ut,{className:"w-3.5 h-3.5 text-cyan-400"})}),c.jsx("span",{className:"font-medium text-xs",children:"Back to Inbox"})]}),c.jsx(_c,{className:"w-4 h-4 text-gray-500 group-hover:text-white"})]}),c.jsxs("button",{onClick:()=>s("/compose"),className:"w-full flex items-center justify-between p-3 rounded-xl bg-emerald-500/10 border border-emerald-500/15 hover:border-emerald-400/30 transition-all group",children:[c.jsxs("div",{className:"flex items-center gap-2.5",children:[c.jsx("div",{className:"p-1.5 rounded-lg bg-emerald-500/15",children:c.jsx(Ut,{className:"w-3.5 h-3.5 text-emerald-400"})}),c.jsx("span",{className:"font-medium text-xs",children:"Compose Message"})]}),c.jsx(_c,{className:"w-4 h-4 text-emerald-400 group-hover:text-emerald-300"})]}),c.jsxs("button",{onClick:()=>window.open("https://kaspa.org","_blank"),className:"w-full flex items-center justify-between p-3 rounded-xl bg-blue-500/10 border border-blue-500/15 hover:border-blue-400/30 transition-all group",children:[c.jsxs("div",{className:"flex items-center gap-2.5",children:[c.jsx("div",{className:"p-1.5 rounded-lg bg-blue-500/15",children:c.jsx(zt,{className:"w-3.5 h-3.5 text-blue-400"})}),c.jsx("span",{className:"font-medium text-xs",children:"Kaspa Explorer"})]}),c.jsx(_c,{className:"w-4 h-4 text-blue-400 group-hover:text-blue-300"})]})]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-gray-900/30 to-black/30 rounded-2xl border border-gray-800/40 p-5",children:[c.jsx("h3",{className:"font-bold text-sm text-white mb-4",children:"Current Status"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between text-xs",children:[c.jsx("span",{className:"text-gray-500",children:"Email Address"}),c.jsx("span",{className:"font-medium text-emerald-300",children:a?.username?"Set":"Not set"})]}),c.jsxs("div",{className:"flex items-center justify-between text-xs",children:[c.jsx("span",{className:"text-gray-500",children:"Only KasMail Users"}),c.jsx("span",{className:`font-medium ${z?"text-blue-300":"text-emerald-300"}`,children:z?"Enabled":"Disabled"})]}),c.jsxs("div",{className:"flex items-center justify-between text-xs",children:[c.jsx("span",{className:"text-gray-500",children:"Privacy Mode"}),c.jsx("span",{className:`font-medium ${T?"text-cyan-300":"text-emerald-300"}`,children:T?"Anonymous":"Public"})]}),c.jsxs("div",{className:"flex items-center justify-between text-xs",children:[c.jsx("span",{className:"text-gray-500",children:"Messages Sent"}),c.jsx("span",{className:"font-medium text-white",children:"--"})]}),c.jsxs("div",{className:"flex items-center justify-between text-xs",children:[c.jsx("span",{className:"text-gray-500",children:"Messages Received"}),c.jsx("span",{className:"font-medium text-white",children:"--"})]})]})]})]})]})]})})})}function ud(s="all"){const a=na(),[r,l]=N.useState([]),[u,h]=N.useState(!0),[f,m]=N.useState(null),[p,y]=N.useState(null),[x,b]=N.useState(null),w=async()=>{h(!0),m(null);const S=await nn();if(!S){a("/");return}if(y(S),!await Ds()){m("Minimum 1 KAS required to view messages"),h(!1);return}try{if(x===null){const{data:L}=await Ue.from("profiles").select("only_internal").eq("wallet_address",S).single();b(L?.only_internal??!0)}let T=Ue.from("emails").select("*").order("created_at",{ascending:!1});s==="inbox"?T=T.eq("to_wallet",S):s==="sent"&&(T=T.eq("from_wallet",S));const{data:M,error:z}=await T;if(z)throw z;let U=M||[];x===!0&&(U=U.filter(L=>!L.from_wallet.startsWith("external:"))),l(U)}catch(T){m(T instanceof Error?T.message:"Failed to load messages")}finally{h(!1)}};return N.useEffect(()=>{w();const S=Ue.channel("emails-changes").on("postgres_changes",{event:"*",schema:"public",table:"emails"},()=>{w()}).subscribe();return()=>{Ue.removeChannel(S)}},[s,a,x]),{emails:r,loading:u,error:f,currentAddress:p,refresh:w}}function lj(){const s=na(),{emails:a,loading:r,error:l}=ud("sent");if(r)return c.jsx("div",{className:"h-full flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-12 h-12 border-4 border-emerald-500/30 border-t-emerald-500 rounded-full animate-spin mx-auto mb-4"}),c.jsx("p",{className:"text-sm text-gray-400",children:"Loading sent messages..."})]})});if(l)return c.jsx("div",{className:"h-full flex items-center justify-center text-red-400 text-sm",children:l});const u=a.filter(m=>!m.to_wallet.startsWith("external:")),h=a.filter(m=>m.to_wallet.startsWith("external:")),f=(m,p)=>{const y=p?m.to_wallet.replace("external:",""):`${m.to_wallet.slice(0,12)}...${m.to_wallet.slice(-6)}`;return c.jsx("div",{onClick:()=>s(`/email/${m.id}`),className:"group p-4 rounded-xl bg-gray-900/20 border border-gray-800/30 hover:border-cyan-600/40 cursor-pointer transition-all",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:`flex-shrink-0 w-9 h-9 rounded-lg flex items-center justify-center ${p?"bg-purple-500/10 border border-purple-500/20":"bg-cyan-500/10 border border-cyan-500/20"}`,children:p?c.jsx(zt,{className:"w-4 h-4 text-purple-400"}):c.jsx(sn,{className:"w-4 h-4 text-cyan-400"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex justify-between items-start mb-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("p",{className:"font-medium text-sm text-white truncate",children:["To: ",y]}),p&&c.jsx("span",{className:"px-1.5 py-0.5 text-[10px] bg-purple-500/70 text-white rounded-full font-bold",children:"EXTERNAL"})]}),c.jsx("p",{className:"text-xs text-gray-500 whitespace-nowrap ml-3",children:new Date(m.created_at).toLocaleString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),c.jsx("p",{className:"text-gray-400 text-xs truncate",children:m.subject||"(No subject)"})]})]})},m.id)};return c.jsxs("div",{className:"h-full flex flex-col p-5 lg:p-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"p-2 rounded-lg bg-cyan-500/10 border border-cyan-500/20",children:c.jsx(Mn,{className:"w-5 h-5 text-cyan-400"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-cyan-300",children:"Sent"}),c.jsxs("p",{className:"text-xs text-gray-500",children:[a.length," message",a.length!==1?"s":""," sent"]})]})]}),a.length===0?c.jsx("div",{className:"flex-1 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Mn,{className:"w-10 h-10 text-gray-700 mx-auto mb-3"}),c.jsx("p",{className:"text-gray-500 text-sm",children:"No sent messages yet"})]})}):c.jsxs("div",{className:"space-y-6 overflow-auto",children:[u.length>0&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(sn,{className:"w-3.5 h-3.5 text-blue-400"}),c.jsxs("h2",{className:"text-xs font-semibold uppercase tracking-wider text-blue-300",children:["KasMail (",u.length,")"]})]}),c.jsx("div",{className:"space-y-2",children:u.map(m=>f(m,!1))})]}),h.length>0&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(zt,{className:"w-3.5 h-3.5 text-purple-400"}),c.jsxs("h2",{className:"text-xs font-semibold uppercase tracking-wider text-purple-300",children:["External (",h.length,")"]})]}),c.jsx("div",{className:"space-y-2",children:h.map(m=>f(m,!0))})]})]})]})}function oj(){const s=na(),{emails:a,loading:r,error:l,currentAddress:u}=ud("all");if(r)return c.jsx("div",{className:"h-full flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-12 h-12 border-4 border-red-500/30 border-t-red-500 rounded-full animate-spin mx-auto mb-4"}),c.jsx("p",{className:"text-sm text-gray-400",children:"Loading trash..."})]})});if(l)return c.jsx("div",{className:"h-full flex items-center justify-center text-red-400 text-sm",children:l});const h=a.filter(p=>!p.from_wallet.startsWith("external:")&&!p.to_wallet.startsWith("external:")),f=a.filter(p=>p.from_wallet.startsWith("external:")||p.to_wallet.startsWith("external:")),m=p=>{const y=p.from_wallet.startsWith("external:"),x=p.to_wallet.startsWith("external:"),b=y||x,w=p.from_wallet===u,S=y?p.from_wallet.replace("external:",""):`${p.from_wallet.slice(0,12)}...${p.from_wallet.slice(-6)}`,O=x?p.to_wallet.replace("external:",""):`${p.to_wallet.slice(0,12)}...${p.to_wallet.slice(-6)}`;return c.jsx("div",{onClick:()=>s(`/email/${p.id}`),className:"group p-4 rounded-xl bg-gray-900/20 border border-gray-800/30 hover:border-red-600/40 cursor-pointer transition-all opacity-80 hover:opacity-100",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:`flex-shrink-0 w-9 h-9 rounded-lg flex items-center justify-center ${b?"bg-purple-500/10 border border-purple-500/20":"bg-red-500/10 border border-red-500/20"}`,children:b?c.jsx(zt,{className:"w-4 h-4 text-purple-400"}):c.jsx(kn,{className:"w-4 h-4 text-red-400"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex justify-between items-start mb-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("p",{className:"font-medium text-sm text-white truncate",children:w?`You  ${O}`:`${S}  You`}),b&&c.jsx("span",{className:"px-1.5 py-0.5 text-[10px] bg-purple-500/70 text-white rounded-full font-bold",children:"EXTERNAL"})]}),c.jsx("p",{className:"text-xs text-gray-500 whitespace-nowrap ml-3",children:new Date(p.created_at).toLocaleString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),c.jsx("p",{className:"text-gray-400 text-xs truncate",children:p.subject||"(No subject)"})]})]})},p.id)};return c.jsxs("div",{className:"h-full flex flex-col p-5 lg:p-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"p-2 rounded-lg bg-red-500/10 border border-red-500/20",children:c.jsx(kn,{className:"w-5 h-5 text-red-400"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-red-300",children:"Trash"}),c.jsxs("p",{className:"text-xs text-gray-500",children:[a.length," message",a.length!==1?"s":""," in trash"]})]})]}),a.length===0?c.jsx("div",{className:"flex-1 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx(kn,{className:"w-10 h-10 text-gray-700 mx-auto mb-3"}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Trash is empty"})]})}):c.jsxs("div",{className:"space-y-6 overflow-auto",children:[h.length>0&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(sn,{className:"w-3.5 h-3.5 text-blue-400"}),c.jsxs("h2",{className:"text-xs font-semibold uppercase tracking-wider text-blue-300",children:["KasMail (",h.length,")"]})]}),c.jsx("div",{className:"space-y-2",children:h.map(p=>m(p))})]}),f.length>0&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(zt,{className:"w-3.5 h-3.5 text-purple-400"}),c.jsxs("h2",{className:"text-xs font-semibold uppercase tracking-wider text-purple-300",children:["External (",f.length,")"]})]}),c.jsx("div",{className:"space-y-2",children:f.map(p=>m(p))})]})]})]})}function uj(){const s=na(),{emails:a,loading:r,error:l}=ud("all");if(r)return c.jsx("div",{className:"h-full flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-12 h-12 border-4 border-yellow-500/30 border-t-yellow-500 rounded-full animate-spin mx-auto mb-4"}),c.jsx("p",{className:"text-sm text-gray-400",children:"Loading junk..."})]})});if(l)return c.jsx("div",{className:"h-full flex items-center justify-center text-red-400 text-sm",children:l});const u=a.filter(m=>!m.from_wallet.startsWith("external:")&&!m.to_wallet.startsWith("external:")),h=a.filter(m=>m.from_wallet.startsWith("external:")||m.to_wallet.startsWith("external:")),f=m=>{const p=m.from_wallet.startsWith("external:"),y=m.to_wallet.startsWith("external:"),x=p||y,b=p?m.from_wallet.replace("external:",""):`${m.from_wallet.slice(0,12)}...`,w=y?m.to_wallet.replace("external:",""):`${m.to_wallet.slice(0,12)}...`;return c.jsx("div",{onClick:()=>s(`/email/${m.id}`),className:"group p-4 rounded-xl bg-gray-900/20 border border-gray-800/30 hover:border-yellow-600/40 cursor-pointer transition-all opacity-80 hover:opacity-100",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:`flex-shrink-0 w-9 h-9 rounded-lg flex items-center justify-center ${x?"bg-purple-500/10 border border-purple-500/20":"bg-yellow-500/10 border border-yellow-500/20"}`,children:x?c.jsx(zt,{className:"w-4 h-4 text-purple-400"}):c.jsx(Rs,{className:"w-4 h-4 text-yellow-400"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex justify-between items-start mb-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("p",{className:"font-medium text-sm text-white truncate",children:[b,"  ",w]}),x&&c.jsx("span",{className:"px-1.5 py-0.5 text-[10px] bg-purple-500/70 text-white rounded-full font-bold",children:"EXTERNAL"})]}),c.jsx("p",{className:"text-xs text-gray-500 whitespace-nowrap ml-3",children:new Date(m.created_at).toLocaleString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),c.jsx("p",{className:"text-gray-400 text-xs truncate",children:m.subject||"(No subject)"})]})]})},m.id)};return c.jsxs("div",{className:"h-full flex flex-col p-5 lg:p-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"p-2 rounded-lg bg-yellow-500/10 border border-yellow-500/20",children:c.jsx(Rs,{className:"w-5 h-5 text-yellow-400"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-yellow-300",children:"Junk"}),c.jsxs("p",{className:"text-xs text-gray-500",children:[a.length," message",a.length!==1?"s":""," in junk"]})]})]}),a.length===0?c.jsx("div",{className:"flex-1 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Rs,{className:"w-10 h-10 text-gray-700 mx-auto mb-3"}),c.jsx("p",{className:"text-gray-500 text-sm",children:"No junk messages"})]})}):c.jsxs("div",{className:"space-y-6 overflow-auto",children:[u.length>0&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(sn,{className:"w-3.5 h-3.5 text-blue-400"}),c.jsxs("h2",{className:"text-xs font-semibold uppercase tracking-wider text-blue-300",children:["KasMail (",u.length,")"]})]}),c.jsx("div",{className:"space-y-2",children:u.map(m=>f(m))})]}),h.length>0&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(zt,{className:"w-3.5 h-3.5 text-purple-400"}),c.jsxs("h2",{className:"text-xs font-semibold uppercase tracking-wider text-purple-300",children:["External (",h.length,")"]})]}),c.jsx("div",{className:"space-y-2",children:h.map(m=>f(m))})]})]})]})}function cj(){const[s,a]=N.useState(null);return N.useEffect(()=>{(async()=>{if(!await nn()){a(!1);return}const u=await Ds();a(u)})()},[]),s===null?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"text-cyan-400 animate-pulse",children:"Verifying wallet..."})}):s?c.jsx(Np,{}):c.jsx(Nl,{to:"/",replace:!0})}const dj=[{to:"/inbox",label:"Inbox",icon:Ut,countKey:"inboxUnread"},{to:"/sent",label:"Sent",icon:Mn},{to:"/trash",label:"Trash",icon:kn},{to:"/junk",label:"Junk",icon:Rs}];function hj({unreadCount:s,onLogout:a}){return c.jsxs("aside",{className:"w-64 border-r border-gray-800 bg-gray-950/80 flex flex-col h-screen",children:[c.jsx("div",{className:"p-6",children:c.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"KasMail"})}),c.jsxs("nav",{className:"flex-1 px-3 space-y-1",children:[dj.map(r=>c.jsxs(Tc,{to:r.to,className:({isActive:l})=>`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${l?"bg-cyan-950/60 text-cyan-300":"text-gray-300 hover:bg-gray-800/60"}`,children:[c.jsx(r.icon,{size:20}),c.jsx("span",{children:r.label}),r.countKey==="inboxUnread"&&s>0&&c.jsx("span",{className:"ml-auto bg-cyan-600 text-white text-xs px-2 py-0.5 rounded-full",children:s})]},r.to)),c.jsxs(Tc,{to:"/settings",className:({isActive:r})=>`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors mt-4 ${r?"bg-cyan-950/60 text-cyan-300":"text-gray-300 hover:bg-gray-800/60"}`,children:[c.jsx(zS,{size:20}),c.jsx("span",{children:"Settings"})]})]}),c.jsx("div",{className:"p-4 border-t border-gray-800",children:c.jsxs("button",{onClick:a,className:"w-full flex items-center gap-3 px-4 py-3 text-gray-300 hover:bg-red-950/30 rounded-lg transition-colors",children:[c.jsx(jS,{size:20}),c.jsx("span",{children:"Logout"})]})})]})}function fj(){if(!nn())return c.jsx(Nl,{to:"/",replace:!0});const a=()=>{localStorage.removeItem("kasmail_wallet"),window.location.href="/"};return c.jsxs("div",{className:"flex h-screen bg-gradient-to-br from-black via-gray-950 to-black text-white overflow-hidden",children:[c.jsx("div",{className:"flex-shrink-0 w-64 border-r border-gray-800/60 bg-gray-950/80 backdrop-blur-md hidden lg:block",children:c.jsx(hj,{unreadCount:0,onLogout:a})}),c.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:c.jsx("main",{className:"flex-1 overflow-y-auto",children:c.jsx(Np,{})})})]})}const mj=new Kx;function pj(){return c.jsx(Vx,{client:mj,children:c.jsx(lx,{children:c.jsxs(Lb,{children:[c.jsx(wt,{path:"/",element:c.jsx(tj,{})}),c.jsx(wt,{element:c.jsx(cj,{}),children:c.jsxs(wt,{element:c.jsx(fj,{}),children:[c.jsx(wt,{path:"/inbox",element:c.jsx(aj,{})}),c.jsx(wt,{path:"/sent",element:c.jsx(lj,{})}),c.jsx(wt,{path:"/trash",element:c.jsx(oj,{})}),c.jsx(wt,{path:"/junk",element:c.jsx(uj,{})}),c.jsx(wt,{path:"/compose",element:c.jsx(cp,{})}),c.jsx(wt,{path:"/compose/reply/:id",element:c.jsx(cp,{})}),c.jsx(wt,{path:"/email/:id",element:c.jsx(sj,{})}),c.jsx(wt,{path:"/settings",element:c.jsx(ij,{})}),c.jsx(wt,{path:"/dashboard",element:c.jsx(Nl,{to:"/inbox",replace:!0})}),c.jsx(wt,{path:"*",element:c.jsx(Nl,{to:"/inbox",replace:!0})})]})})]})})})}qv.createRoot(document.getElementById("root")).render(c.jsx(N.StrictMode,{children:c.jsx(pj,{})}));
